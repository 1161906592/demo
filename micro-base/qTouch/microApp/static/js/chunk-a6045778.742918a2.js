(window["webpackJsonpmicro_name_"]=window["webpackJsonpmicro_name_"]||[]).push([["chunk-a6045778"],{"0a49":function(e,t,a){var n=a("9b43"),i=a("626a"),r=a("4bf8"),l=a("9def"),o=a("cd1c");e.exports=function(e,t){var a=1==e,s=2==e,d=3==e,c=4==e,u=6==e,m=5==e||u,p=t||o;return function(t,o,g){for(var b,f,h=r(t),v=i(h),y=n(o,g,3),k=l(v.length),F=0,T=a?p(t,k):s?p(t,0):void 0;k>F;F++)if((m||F in v)&&(b=v[F],f=y(b,F,h),e))if(a)T[F]=f;else if(f)switch(e){case 3:return!0;case 5:return b;case 6:return F;case 2:T.push(b)}else if(c)return!1;return u?-1:d||c?c:T}}},1132:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("div",{staticClass:"content"},[a("q-left-right-layout",{attrs:{"left-title":"菜单列表","right-title":e.currentMenuName+"详情","btn-tip":"添加一级菜单"},on:{click:function(t){return e.openTypeTreeNodeForm("addTop","")}}},[a("el-tree",{ref:"tree",staticClass:"filter-tree",attrs:{slot:"left",data:e.treeData,props:e.defaultProps,"node-key":"id","default-expand-all":"","highlight-current":"","expand-on-click-node":!1},on:{"node-click":e.handleNodeClick},slot:"left"}),a("div",{staticClass:"right",attrs:{slot:"right"},slot:"right"},[a("div",{staticClass:"basic-attribute"},[a("div",{staticClass:"content-title"},[a("i",{staticClass:"el-icon-menu"}),e._v("基础信息")]),a("div",{staticClass:"basic-attribute-body"},[a("el-form",{attrs:{"label-width":"100px",size:"mini","status-icon":"",model:e.basicForm}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"上级菜单："}},[a("el-input",{attrs:{size:"small",disabled:""},model:{value:e.basicForm.parentName,callback:function(t){e.$set(e.basicForm,"parentName",t)},expression:"basicForm.parentName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"名称："}},[a("el-input",{attrs:{size:"small",disabled:""},model:{value:e.basicForm.name,callback:function(t){e.$set(e.basicForm,"name",t)},expression:"basicForm.name"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"图标："}},[a("el-input",{attrs:{size:"small",disabled:""},model:{value:e.basicForm.icon,callback:function(t){e.$set(e.basicForm,"icon",t)},expression:"basicForm.icon"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"编码："}},[a("el-input",{attrs:{size:"small",disabled:""},model:{value:e.basicForm.code,callback:function(t){e.$set(e.basicForm,"code",t)},expression:"basicForm.code"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"内部路由："}},[a("el-input",{attrs:{size:"small",disabled:""},model:{value:e.basicForm.innerRoute,callback:function(t){e.$set(e.basicForm,"innerRoute",t)},expression:"basicForm.innerRoute"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"路由："}},[a("el-input",{attrs:{size:"small",disabled:""},model:{value:e.basicForm.path,callback:function(t){e.$set(e.basicForm,"path",t)},expression:"basicForm.path"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"打开方式："}},[a("el-input",{attrs:{size:"small",disabled:""},model:{value:e.basicForm.targetName,callback:function(t){e.$set(e.basicForm,"targetName",t)},expression:"basicForm.targetName"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注："}},[a("el-input",{attrs:{type:"textarea",rows:3,size:"small",disabled:""},model:{value:e.basicForm.remark,callback:function(t){e.$set(e.basicForm,"remark",t)},expression:"basicForm.remark"}})],1)],1)],1)],1)],1)]),a("menu-func-manage",{staticStyle:{"margin-top":"20px"},attrs:{currentId:e.currentMenuId,funcData:e.functionTableData},on:{update:e.getFuncData}})],1)],1)],1),a("add-menu",{attrs:{dialogTitle:e.dialogTitle,dialogVisible:e.visibleDialog,attrForm:e.dialogBasicForm,openOption:e.openOption},on:{close:e.closeDialog,submit:e.saveTypeAndAttr}})],1)},i=[],r=(a("96cf"),a("3b8d")),l=(a("20d6"),a("7f7f"),a("d225")),o=a("b0b4"),s=a("308d"),d=a("6bb5"),c=a("4e2b"),u=a("9ab4"),m=a("60a3"),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.addDialog,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addDialog=t},close:e.closeDialog}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"addForm",attrs:{size:"small","label-width":"100px",model:e.addForm,rules:e.rules}},[a("el-row",{attrs:{gutter:4}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"上级菜单：",prop:"parentName"}},[a("el-input",{attrs:{disabled:""},model:{value:e.addForm.parentName,callback:function(t){e.$set(e.addForm,"parentName",t)},expression:"addForm.parentName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"名称：",prop:"name"}},[a("el-input",{attrs:{maxlength:100,placeholder:"请输入",clearable:""},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1)],1),a("el-col",{attrs:{span:15}},[a("el-form-item",{attrs:{label:"编码：",prop:"code"}},[a("el-input",{attrs:{maxlength:100,placeholder:"包含字母、数字、横线、下划线和点,点不能作为开头,长度3-100位",clearable:""},model:{value:e.addForm.code,callback:function(t){e.$set(e.addForm,"code",t)},expression:"addForm.code"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"图标：",prop:"icon"}},[a("el-input",{attrs:{maxlength:100,placeholder:"请输入",clearable:""},model:{value:e.addForm.icon,callback:function(t){e.$set(e.addForm,"icon",t)},expression:"addForm.icon"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"内部路由：",prop:"innerRoute"}},[a("el-select",{staticClass:"input-width",attrs:{placeholder:"请选择"},model:{value:e.addForm.innerRoute,callback:function(t){e.$set(e.addForm,"innerRoute",t)},expression:"addForm.innerRoute"}},[a("el-option",{attrs:{value:!0,label:"是"}}),a("el-option",{attrs:{value:!1,label:"否"}})],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"路由：",prop:"path"}},[a("el-input",{attrs:{maxlength:100,placeholder:"请输入",clearable:""},model:{value:e.addForm.path,callback:function(t){e.$set(e.addForm,"path",t)},expression:"addForm.path"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"打开方式：",prop:"target"}},[a("el-select",{staticClass:"input-width",attrs:{placeholder:"请选择"},model:{value:e.addForm.target,callback:function(t){e.$set(e.addForm,"target",t)},expression:"addForm.target"}},e._l(e.openOption,(function(e,t){return a("el-option",{key:t,attrs:{value:e.id,label:e.label}})})),1)],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注：",prop:"remark"}},[a("el-input",{attrs:{autosize:{minRows:3,maxRows:5},maxlength:225,"show-word-limit":"",placeholder:"请输入",type:"textarea"},model:{value:e.addForm.remark,callback:function(t){e.$set(e.addForm,"remark",t)},expression:"addForm.remark"}})],1)],1)],1),a("div",{staticClass:"dialog-footer"},[a("el-button",{attrs:{size:"small"},on:{click:e.closeDialog}},[e._v("取消")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.saveSensorAttribute()}}},[e._v("确定")])],1)],1)],1)},g=[],b=a("80c8"),f=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(s["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.addDialog=!1,e.rules={name:{required:!0,message:"请输入名称",trigger:"blur"},code:{required:!0,message:"请输入编码",trigger:"blur"},innerRoute:{required:!0,message:"请选择路由",trigger:"blur"},path:{required:!0,message:"请输入路由",trigger:"blur"}},e.addForm={id:"",parentId:null,parentName:"",name:"",icon:"",code:"",innerRoute:!0,path:"",target:"_self",remark:""},e.loading=!1,e}return Object(c["a"])(t,e),Object(o["a"])(t,[{key:"handleVisible",value:function(e){var t=this;this.addDialog=e,e&&this.$nextTick((function(){var e=t.$refs.addForm;e.resetFields(),t.addForm=JSON.parse(JSON.stringify(t.attrForm))}))}},{key:"closeDialog",value:function(){this.$emit("close")}},{key:"saveSensorAttribute",value:function(){var e=this,t=this.$refs.addForm;t.validate((function(t){if(!t)return!1;e.loading=!0;var a=e.addForm.id?b["a"].editMenu:b["a"].addMenu;"string"===typeof e.addForm.remark&&(e.addForm.remark=e.addForm.remark.trim()),e.$http.post(a,e.addForm).then((function(t){e.loading=!1,t.data.status?(e.$message.success(e.addForm.id?"编辑成功":"添加成功"),e.$emit("submit")):e.$message({message:t.data.message,type:"error"})})).catch((function(){e.loading=!1}))}))}}]),t}(m["e"]);u["__decorate"]([Object(m["d"])({type:String,default:"添加菜单"})],f.prototype,"dialogTitle",void 0),u["__decorate"]([Object(m["d"])({type:Boolean,default:!1})],f.prototype,"dialogVisible",void 0),u["__decorate"]([Object(m["d"])({type:Object})],f.prototype,"attrForm",void 0),u["__decorate"]([Object(m["d"])({type:Array})],f.prototype,"openOption",void 0),u["__decorate"]([Object(m["f"])("dialogVisible")],f.prototype,"handleVisible",null),f=u["__decorate"]([Object(m["a"])({})],f);var h=f,v=h,y=(a("6a37"),a("2877")),k=Object(y["a"])(v,p,g,!1,null,"722b709d",null),F=k.exports,T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"custom-attribute"},[e._m(0),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.currentId,expression:"currentId"}],staticStyle:{"margin-bottom":"20px"},attrs:{type:"primary",size:"small"},on:{click:e.handleAddFunc}},[a("i",{staticClass:"font_family icon-xinzenglanse"}),e._v("\n      添加功能\n    ")]),a("div",{staticClass:"custom-attribute-body"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%","min-height":"calc(100vh - 654px)"},attrs:{data:e.funcData}},[a("el-table-column",{attrs:{align:"center",label:"序号",type:"index",width:"100"}}),a("el-table-column",{attrs:{prop:"name",label:"功能名称","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"code",label:"编码","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{align:"center",prop:"mustInput",label:"相关接口"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return e.interDetail(t.row)}}},[a("i",{staticClass:"font_family icon-xiangqing"}),e._v("\n              详情\n            ")])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return e.handleInterAdd(t.row)}}},[a("i",{staticClass:"font_family icon-guanlianjiekou"}),e._v("\n              关联接口\n            ")]),a("span",{staticClass:"divide"},[e._v("|")]),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return e.handleDelFunc(t.row)}}},[a("i",{staticClass:"font_family icon-shanchu"}),e._v("\n              删除\n            ")])]}}])})],1)],1)],1),a("el-dialog",{attrs:{title:"添加功能",visible:e.addFuncDialog,"close-on-click-modal":!1,width:"50%"},on:{"update:visible":function(t){e.addFuncDialog=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("el-form",{attrs:{inline:!0,size:"small"}},[a("el-form-item",[a("el-input",{staticClass:"inpW",attrs:{maxlength:100,placeholder:"名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.tableForm.name,callback:function(t){e.$set(e.tableForm,"name",t)},expression:"tableForm.name"}})],1),a("el-form-item",[a("el-input",{staticClass:"inpW",attrs:{maxlength:100,placeholder:"编码",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.tableForm.code,callback:function(t){e.$set(e.tableForm,"code",t)},expression:"tableForm.code"}})],1),a("el-form-item",[a("q-search-button",{on:{click:e.search}},[e._v("查询")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.allFuncTableData,stripe:"",border:"","tooltip-effect":"dark"}},[a("el-table-column",{attrs:{type:"index",label:"序号",align:"center",width:"100"}}),a("el-table-column",{attrs:{prop:"name",label:"名称","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"code",label:"编码","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"remark",label:"备注","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return e.handleFuncChoose(t.row,t.$index)}}},[a("i",{staticClass:"font_family icon-xinzenglanse"}),e._v("\n              添加\n            ")])]}}])})],1),a("div",[a("q-pagination",{attrs:{"current-page":e.pageNum,"page-size":e.pageSize,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"current-change":function(t){return e.handleCurrentChange(t)},"size-change":function(t){return e.handleSizeChange(t)},"update:currentPage":function(t){e.pageNum=t},"update:current-page":function(t){e.pageNum=t}}})],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.addFuncDialog=!1}}},[e._v("关闭")])],1)]),a("el-dialog",{attrs:{title:"添加接口",visible:e.interAddDialog,"close-on-click-modal":!1,width:"50%"},on:{"update:visible":function(t){e.interAddDialog=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("el-form",{attrs:{inline:!0,size:"small"}},[a("el-form-item",[a("el-input",{staticClass:"inpW",attrs:{maxlength:100,placeholder:"名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.interSearch(t)}},model:{value:e.interForm.name,callback:function(t){e.$set(e.interForm,"name",t)},expression:"interForm.name"}})],1),a("el-form-item",[a("el-input",{staticClass:"inpW",attrs:{maxlength:200,placeholder:"接口",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.interSearch(t)}},model:{value:e.interForm.uri,callback:function(t){e.$set(e.interForm,"uri",t)},expression:"interForm.uri"}})],1),a("el-form-item",[a("q-search-button",{on:{click:e.interSearch}},[e._v("查询")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.interTabeleData,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{type:"index",label:"序号",align:"center",width:"100"}}),a("el-table-column",{attrs:{prop:"name",label:"名称","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"uri",label:"接口","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"remark",label:"备注",width:"120","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return e.handleInterChoose(t.row,t.$index)}}},[a("i",{staticClass:"font_family icon-xinzenglanse"}),e._v("\n              添加\n            ")])]}}])})],1),a("div",[a("q-pagination",{attrs:{"current-page":e.interPageNum,"page-size":e.interPageSize,layout:"total, prev, pager, next",total:e.interTotal},on:{"current-change":function(t){return e.handleInterCurrentChange(t)},"update:currentPage":function(t){e.interPageNum=t},"update:current-page":function(t){e.interPageNum=t}}})],1)],1),a("div",{staticClass:"inter-name"},[e._v("已选接口")]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.currentLoading,expression:"currentLoading"}]},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.currentInterData,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{type:"index",label:"序号",align:"center",width:"100"}}),a("el-table-column",{attrs:{prop:"name",label:"名称","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"uri",label:"接口","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"remark",label:"备注",width:"120","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return e.handleInterDelete(t.row,t.$index)}}},[a("i",{staticClass:"font_family icon-shanchu"}),e._v("\n              删除\n            ")])]}}])})],1),a("div",[a("q-pagination",{attrs:{"current-page":e.ownTnterNum,"page-size":e.interPageSize,layout:"total, prev, pager, next",total:e.currentInterTotal},on:{"current-change":function(t){return e.handleOwnInterCurrentChange(t)},"update:currentPage":function(t){e.ownTnterNum=t},"update:current-page":function(t){e.ownTnterNum=t}}})],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.interAddDialog=!1}}},[e._v("关闭")])],1)]),a("el-dialog",{attrs:{title:"已选接口",visible:e.interDialog,"close-on-click-modal":!1,width:"50%"},on:{"update:visible":function(t){e.interDialog=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.currentLoading,expression:"currentLoading"}]},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.currentInterData,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{type:"index",label:"序号",align:"center",width:"100"}}),a("el-table-column",{attrs:{prop:"name",label:"名称","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"uri",label:"接口","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"remark",label:"备注",width:"160","show-overflow-tooltip":""}})],1),a("div",[a("q-pagination",{attrs:{"current-page":e.ownTnterNum,"page-size":e.interPageSize,layout:"total, prev, pager, next",total:e.currentInterTotal},on:{"current-change":function(t){return e.handleOwnInterCurrentChange(t)},"update:currentPage":function(t){e.ownTnterNum=t},"update:current-page":function(t){e.ownTnterNum=t}}})],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.interDialog=!1}}},[e._v("关闭")])],1)])],1)},D=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"custom-attribute-header"},[a("i",{staticClass:"el-icon-menu"}),a("span",[e._v("功能列表")])])}],w=(a("c5f6"),function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(s["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.loading=!1,e.addFuncDialog=!1,e.tableForm={name:"",code:"",navigationId:""},e.allFuncTableData=[],e.total=0,e.pageNum=1,e.pageSize=10,e.interForm={name:"",uri:"",functionId:""},e.interAddDialog=!1,e.currentFuncId="",e.interTabeleData=[],e.interPageNum=1,e.interPageSize=10,e.interTotal=0,e.currentInterData=[],e.ownTnterNum=0,e.currentInterTotal=0,e.currentLoading=!1,e.interDialog=!1,e}return Object(c["a"])(t,e),Object(o["a"])(t,[{key:"handleAddFunc",value:function(){this.tableForm={name:"",code:"",navigationId:this.currentId},this.pageNum=1,this.pageSize=10,this.getFuncData(),this.addFuncDialog=!0}},{key:"search",value:function(){this.pageNum=1,this.getFuncData()}},{key:"getFuncData",value:function(){var e=this;this.loading=!0,this.$http.post(b["a"].getUnSelectFuncList,{query:this.tableForm,current:this.pageNum,size:this.pageSize}).then((function(t){e.loading=!1,t.data.status?(e.allFuncTableData=t.data.data.records,e.total=t.data.data.total):e.$message.error(t.data.message)})).catch((function(){e.loading=!1}))}},{key:"handleCurrentChange",value:function(e){this.pageNum=e,this.getFuncData()}},{key:"handleSizeChange",value:function(e){this.pageSize=e,this.getFuncData()}},{key:"handleFuncChoose",value:function(e,t){var a=this;this.$http.post(b["a"].addMenuFunc,{navigationId:this.currentId,operationCode:e.code}).then((function(e){e.data.status?(a.$message.success("添加成功"),a.getFuncData(),a.currentId&&a.$emit("update")):a.$message.error(e.data.message)}))}},{key:"handleDelFunc",value:function(e){var t=this;this.$confirm("确认删除该功能?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$http.get(b["a"].deleteMenuFunc+"/"+e.id).then((function(e){e.data.status?(t.$message.success("删除成功"),t.currentId&&t.$emit("update")):t.$message.error(e.data.message)}))}))}},{key:"handleInterAdd",value:function(e){this.currentFuncId=e.id,this.interForm={name:"",uri:"",functionId:e.id},this.interPageNum=1,this.ownTnterNum=1,this.getInterData(),this.getSelectInterData(),this.interAddDialog=!0}},{key:"interSearch",value:function(){this.interPageNum=1,this.getInterData()}},{key:"getInterData",value:function(){var e=this;this.loading=!0,this.$http.post(b["a"].getUnSelectInterList,{query:this.interForm,current:this.interPageNum,size:this.interPageSize}).then((function(t){e.loading=!1,t.data.status?(e.interTabeleData=t.data.data.records,e.interTotal=t.data.data.total):e.$message.error(t.data.message)})).catch((function(){e.loading=!1}))}},{key:"handleInterCurrentChange",value:function(e){this.interPageNum=e,this.getInterData()}},{key:"getSelectInterData",value:function(){var e=this;this.currentLoading=!0,this.$http.post(b["a"].getSelectInterList,{query:{functionId:this.currentFuncId},current:this.ownTnterNum,size:this.interPageSize}).then((function(t){e.currentLoading=!1,t.data.status?(e.currentInterData=t.data.data.records,e.currentInterTotal=t.data.data.total):e.$message.error(t.data.message)})).catch((function(){e.currentLoading=!1}))}},{key:"handleOwnInterCurrentChange",value:function(e){this.ownTnterNum=e,this.getSelectInterData()}},{key:"handleInterChoose",value:function(e,t){var a=this;this.$http.post(b["a"].addMenuInter,{functionId:this.currentFuncId,interfaceId:e.id}).then((function(e){e.data.status?(a.$message.success("添加成功"),a.getSelectInterData(),a.getInterData(),a.$emit("update")):a.$message.error(e.data.message)}))}},{key:"handleInterDelete",value:function(e,t){var a=this;this.$confirm("确认删除该接口?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.$http.post(b["a"].deleteMenuInter,{functionId:a.currentFuncId,interfaceId:e.id}).then((function(e){e.data.status?(a.$message.success("删除成功"),a.getSelectInterData(),a.getInterData(),a.$emit("update")):a.$message.error(e.data.message)}))}))}},{key:"interDetail",value:function(e){this.currentFuncId=e.id,this.ownTnterNum=1,this.getSelectInterData(),this.interDialog=!0}}]),t}(m["e"]));u["__decorate"]([Object(m["d"])({type:[String,Number],default:""})],w.prototype,"currentId",void 0),u["__decorate"]([Object(m["d"])({type:Array,default:[]})],w.prototype,"funcData",void 0),w=u["__decorate"]([Object(m["a"])({components:{}})],w);var I=w,x=I,A=(a("577e"),Object(y["a"])(x,T,D,!1,null,"fe0a6bb6",null)),_=A.exports,O=a("73ec"),$=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(s["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.treeData=[],e.defaultProps={children:"children",label:"name"},e.currentMenuId="",e.currentMenuName="",e.basicForm={},e.functionTableData=[],e.dialogTitle="",e.visibleDialog=!1,e.dialogBasicForm={id:"",parentId:null,parentName:"",name:"",icon:"",code:"",innerRoute:!0,path:"",target:"_self",remark:""},e.openOption=[{id:"_blank",label:"新窗口打开"},{id:"_self",label:"当前窗口打开"}],e}return Object(c["a"])(t,e),Object(o["a"])(t,[{key:"created",value:function(){this.getTypeTreeData()}},{key:"getTypeTreeData",value:function(){var e=this;this.$http.get(b["a"].getMenuList).then((function(t){t.data.status?e.treeData=t.data.data:e.$message.error(t.data.message)}))}},{key:"handleNodeClick",value:function(e){this.currentMenuId=e.id,this.currentMenuName=e.name,this.getCustomAttributeList(e.id)}},{key:"getCustomAttributeList",value:function(e){var t=this;this.$http.get(b["a"].getMenuDetail+"/"+e).then((function(e){if(e.data.status){t.basicForm=e.data.data,t.basicForm.innerRoute=t.basicForm.innerRoute?"是":"否";var a=t.openOption.findIndex((function(e){return e.id===t.basicForm.target}));t.basicForm.targetName=t.openOption[a].label,t.functionTableData=e.data.data.navigationOperations?e.data.data.navigationOperations:[]}else t.$message.error(e.data.message)}))}},{key:"openTypeTreeNodeForm",value:function(e,t){switch(e){case"add":this.dialogTitle="添加菜单",this.dialogBasicForm={id:"",parentId:t.id,parentName:t.name,name:"",icon:"",code:"",innerRoute:!0,path:"",target:"_self",remark:"",level:t.level+1};break;case"edit":this.dialogTitle="编辑菜单",O["a"].mapValue(this.dialogBasicForm,t);break;case"addTop":this.dialogTitle="添加一级菜单",this.dialogBasicForm={id:"",parentId:null,parentName:"",name:"",icon:"",code:"",innerRoute:!0,path:"",target:"_self",remark:"",level:1};break}this.visibleDialog=!0}},{key:"saveTypeAndAttr",value:function(){this.visibleDialog=!1,this.getTypeTreeData(),this.currentMenuId?this.getCustomAttributeList(this.currentMenuId):this.basicForm={}}},{key:"remove",value:function(e,t){var a=this;this.$confirm("确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.$http.get("".concat(b["a"].deleteMenu).concat(t.id)).then((function(e){e.status&&(e.data.status?(a.$message.success("操作成功"),a.getTypeTreeData()):a.$message({showClose:!0,message:e.data.message,type:"error"}))}))})).catch((function(){}))}},{key:"handleMove",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,a,n){var i,r,l,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.post(b["a"].moveMenuOrder+a.id,null,{params:{direction:n}});case 2:i=e.sent,r=i.data,r.data,l=r.status,o=r.message,l?(this.$message.success("操作成功"),this.getTypeTreeData()):this.$message.error(o);case 8:case"end":return e.stop()}}),e,this)})));function t(t,a,n){return e.apply(this,arguments)}return t}()},{key:"closeDialog",value:function(){this.visibleDialog=!1}},{key:"getFuncData",value:function(){this.getCustomAttributeList(this.currentMenuId)}}]),t}(m["e"]);$=u["__decorate"]([Object(m["a"])({components:{AddMenu:F,MenuFuncManage:_}})],$);var S=$,N=S,C=(a("2efa"),Object(y["a"])(N,n,i,!1,null,"7356f00b",null));t["default"]=C.exports},"20d6":function(e,t,a){"use strict";var n=a("5ca1"),i=a("0a49")(6),r="findIndex",l=!0;r in[]&&Array(1)[r]((function(){l=!1})),n(n.P+n.F*l,"Array",{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")(r)},"2efa":function(e,t,a){"use strict";var n=a("5f72"),i=a.n(n);i.a},"577e":function(e,t,a){"use strict";var n=a("60e0"),i=a.n(n);i.a},"5f72":function(e,t,a){},"60e0":function(e,t,a){},"6a37":function(e,t,a){"use strict";var n=a("871b"),i=a.n(n);i.a},"80c8":function(e,t,a){"use strict";var n={getInterfaceList:"/admin/system/interface/page",addInterface:"/admin/system/interface/add",editInterface:"/admin/system/interface/update",deleteInterface:"/admin/system/interface/delete",getFunctionList:"/admin/menu/operation/page",addFunction:"/admin/menu/operation/add",editFunction:"/admin/menu/operation/update",deleteFunction:"/admin/menu/operation/delete",getMenuList:"/admin/navigation/list",addMenu:"/admin/navigation/add",editMenu:"/admin/navigation/update",getMenuDetail:"/admin/navigation/get",addMenuFunc:"/admin/navigation/operation/add",deleteMenuFunc:"/admin/navigation/operation/delete",addMenuInter:"/admin/navigation/operation/add/interface",deleteMenuInter:"/admin/navigation/operation//delete/interface",deleteMenu:"/admin/navigation/delete/",getSelectInterList:"/admin/navigation/pageChosenInterface",getUnSelectFuncList:"/admin/navigation/pageOperation",getUnSelectInterList:"/admin/navigation/pageInterface",moveMenuOrder:"/admin/navigation/moveOrder/",getSubsystemList:"/admin/subsystem/list",addSubsystem:"/admin/subsystem/add",updateSubsystem:"/admin/subsystem/update",deleteSubsystem:"/admin/subsystem/delete",getTenantList:"/admin/tenant/paging",getTenantNavList:"/admin/navigation/listByTenantId/",addTenant:"/admin/tenant/add",updateTenant:"/admin/tenant/update",updateTenantNav:"/admin/tenant/saveNavigation/",updateMobileApp:"/admin/tenant/saveMobileApp/",getAdminByTenant:"/admin/person/getAdminByTenant/",getAllAppList:"/admin/mobile/app/listByTenantId/",getTeamBaseType:"/admin/baseType/listByTenantId/",saveTeamBaseType:"/admin/tenant/saveBaseType/",deleteTenant:"/admin/tenant/delete",getRoleList:"/admin/role/paging",roleList:"/admin/role/list",addRole:"/admin/role/add",updateRole:"/admin/role/update",getRoleOperationList:"/admin/role/listNavigationAndOperationByRoleId/",getAllOperationList:"/admin/navigation/listWithOperation",updateRoleNavOperation:"/admin/role/saveRoleNavigationOperations/",deleteRole:"/admin/role/delete",getAllDataList:"/admin/role/listDataResourceItems",getSelectDataList:"/admin/role/listDataResourcesByRoleId/",updateDataView:"/admin/role/saveRoleDataResources/",getAPPOrganizeList:"/admin/mobile/app/type/paging",addAPPOrganize:"/admin/mobile/app/type/add",updateAPPOrganize:"/admin/mobile/app/type/update",deleteAPPOrganize:"/admin/mobile/app/type/delete",getAPPManagementList:"/admin/mobile/app/paging",addAPPManagement:"/admin/mobile/app/add",updateAPPManagement:"/admin/mobile/app/update",deleteAPPManagement:" /admin/mobile/app/delete",getBaseTypeList:"/admin/baseType/list",getBaseTypeAttrsList:"/admin/baseType/attr/pagingAttr",addBaseType:"/admin/baseType/add",updateBaseType:"/admin/baseType/update",deleteBaseType:"/admin/baseType/delete",addAttr:"/admin/baseType/attr/add",updateAttr:"/admin/baseType/attr/update",deleteBaseTypeAttr:"/admin/baseType/attr/delete",upAttrSort:"/admin/baseType/attr/upAttrSort",downAttrSort:"/admin/baseType/attr/downAttrSort",filterBaseTypeList:"/admin/baseType/filterBaseTypeList",getPackageList:"/admin/package/paging",addPackage:"/admin/package/add",updatePackage:"/admin/package/update",deletePackage:"/admin/package/delete",getPackageDetail:"/admin/package/getInfoById",getPackageBaseType:"/admin/package/listBaseTypeByPackageId",savePackageBaseType:"/admin/package/saveBaseType",getTeamList:"/admin/package/empoweredTenant",deleteAuthTeam:"/admin/package/deleteEmpoweredTenant",getNotAuthTeamData:"/admin/package/notEmpowerTenant",addAuthTeam:"/admin/package/saveEmpowerTenant",getFuncConfig:"/admin/package/listWithOperation",getHasFuncConfig:"/admin/package/listOperationByPackageId",saveFuncConfig:"/admin/package/savePackageNavigationOperations",getAllTeamList:"/admin/system/account/tenant/select/all/paging",getSystemUser:"/admin/system/account/paging",addSystemUser:"/admin/system/account/add",updateSystemUser:"/admin/system/account/update",getSysUserDetail:"/admin/system/account/info/id",updateName:"/admin/system/account/updateUsername/id",updateMobile:"/admin/system/account/updateMobile/id",updatePass:"/admin/system/account/updatePassword/id",lockSysUser:"/admin/system/account/changeLocked/id",ownSelectTeamList:"/admin/system/account/tenant/paging",ownUnSelectTeamList:"/admin/system/account/tenant/select/paging",deleteAccountTeam:"/admin/system/account/tenant/delete/id",addAccountTeam:"/admin/system/account/tenant/add",getAccountRoleList:"/admin/system/account/role/paging",getAccountUnSelectRole:"/admin/system/account/role/select/paging",deleteAccountRole:"/admin/system/account/role/delete/id",addAccountRole:"/admin/system/account/role/add",businessObjectDefinition:{baseAdd:"/admin/general/base/add",baseUpdate:"/admin/general/base/update",baseDelete:"/admin/general/base/delete",baseGetObjectBaseTypeTree:"/admin/general/base/getObjectBaseTypeTree",baseGet:"/admin/general/base/get",baseList:"/admin/general/base/list",typeDetailAdd:"/admin/general/typeDetail/add",typeDetailUpdate:"/admin/general/typeDetail/update",typeDetailDelete:"/admin/general/typeDetail/delete",typeDetailAttrPagingAttr:"/admin/general/typeDetail/attr/pagingAttr",typeDetailAttrTransferData:"/admin/general/typeDetail/attr/transferData",typeDetailAttrBind:"/admin/general/typeDetail/attr/bind",typeDetailAttrAddAttr:"/admin/general/typeDetail/attr/addAttr",typeDetailAttrUpAttrSort:"/admin/general/typeDetail/attr/upAttrSort",typeDetailAttrDownAttrSort:"/admin/general/typeDetail/attr/downAttrSort",typeDetailAttrDelete:"/admin/general/typeDetail/attr/delete",typeDetailAttrUpdate:"/admin/general/typeDetail/attr/update"},createGenerateCode:"/admin/openApp/authTenant/generateCode",getTenantInfo:"/admin/tenant/current/info",getTenantAdmins:"/admin/tenant/current/admins",getDictList:"/admin/dict/list"};t["a"]=n},"871b":function(e,t,a){},cd1c:function(e,t,a){var n=a("e853");e.exports=function(e,t){return new(n(e))(t)}},e853:function(e,t,a){var n=a("d3f4"),i=a("1169"),r=a("2b4c")("species");e.exports=function(e){var t;return i(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!i(t.prototype)||(t=void 0),n(t)&&(t=t[r],null===t&&(t=void 0))),void 0===t?Array:t}}}]);
//# sourceMappingURL=chunk-a6045778.742918a2.js.map