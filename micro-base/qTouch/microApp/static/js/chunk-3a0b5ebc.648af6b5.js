(window["webpackJsonpmicro_name_"]=window["webpackJsonpmicro_name_"]||[]).push([["chunk-3a0b5ebc"],{"3bde":function(t,e,a){"use strict";var s=a("a5e2"),n=a.n(s);n.a},5384:function(t,e,a){"use strict";e["a"]={getAppApplyList:"/admin/openApp/manage/list",getAppList:"/admin/openApp/manage/showList",appDetail:"/admin/openApp/manage/showApp",appPass:"/admin/openApp/manage/pass",appReject:"/admin/openApp/manage/reject",appCancel:"/admin/openApp/manage/cancel",appCreate:"/admin/openApp/manage/createApp",appUpdate:"/admin/openApp/manage/updateApp",appSecretRefresh:"/admin/openApp/manage/refreshSecret",getQualificationData:"/admin/devQualification/getByTenant",cancelQualification:"/admin/devQualification/cancelAudit",saveQualification:"/admin/devQualification/save",submitQualification:"/admin/devQualification/submit",editQualification:"/admin/devQualification/update",getAllQualificationList:"/admin/devQualificationAudit/paging",agreeQualificationApply:"/admin/devQualificationAudit/passAudit",refusequalificationApply:"/admin/devQualificationAudit/rejectAudit",createAccessTeam:"/admin/openApp/authTenant/accessTeam",cancelAccessTeam:"/admin/openApp/authTenant/cancle",createGenerateCode:"/admin/openApp/authTenant/generateCode",passAccessTeam:"/admin/openApp/authTenant/pass",rejectAccessTeam:"/admin/openApp/authTenant/reject",showAccessDetail:"/admin/openApp/authTenant/showDetail",getApplyList:"/admin/openApp/authTenant/showList",checkAuthorizationCode:"/admin/openApp/authTenant/testCode",getDataType:"/admin/openApp/authTenant/getDataType",getAccessTeamList:"/admin/openApp/authTenant/freshAuthTenantInfo"}},a5e2:function(t,e,a){},e9de:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-container"},[a("div",{staticClass:"search-header"},[a("el-form",{attrs:{size:"small",inline:""}},[a("el-form-item",{attrs:{label:"轻应用名称："}},[a("el-input",{model:{value:t.searchTDO.query.appName,callback:function(e){t.$set(t.searchTDO.query,"appName",e)},expression:"searchTDO.query.appName"}})],1),a("el-form-item",{attrs:{label:"公司名称："}},[a("el-input",{model:{value:t.searchTDO.query.companyName,callback:function(e){t.$set(t.searchTDO.query,"companyName",e)},expression:"searchTDO.query.companyName"}})],1),a("el-form-item",{attrs:{label:"审批状态："}},[a("el-select",{attrs:{size:"small",placeholder:"请选择",clearable:""},model:{value:t.searchTDO.query.status,callback:function(e){t.$set(t.searchTDO.query,"status",e)},expression:"searchTDO.query.status"}},[a("el-option",{attrs:{label:"待审批",value:1}}),a("el-option",{attrs:{label:"已通过",value:2}}),a("el-option",{attrs:{label:"已拒绝",value:3}})],1)],1),a("el-form-item",{attrs:{"label-width":"0px"}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.getApplyList(!0)}}},[t._v("查询")])],1)],1)],1),a("div",{staticClass:"container"},[a("div",{staticClass:"table-body"},t._l(t.applyList,(function(e){return a("div",{key:e.id,staticClass:"body-box"},[a("div",{staticClass:"name"},[t._v(t._s(e.appName))]),a("div",{staticClass:"state-line"},[a("div",{staticClass:"types"},[t._v("公司名称："+t._s(e.companyName))]),a("div",{staticClass:"domain-name"},[t._v("接入团队："+t._s(e.tenantName))]),a("div",{staticClass:"status"},[0===e.authStatus?a("div",{staticClass:"status-btn",staticStyle:{float:"right","border-color":"#909399",color:"#909399"}},[t._v("未认证")]):1===e.authStatus?a("div",{staticClass:"status-btn",staticStyle:{float:"right","border-color":"#409EFF",color:"#409EFF"}},[t._v("待审核")]):2===e.authStatus?a("div",{staticClass:"status-btn",staticStyle:{float:"right","border-color":"#67C23A",color:"#67C23A"}},[t._v("已通过")]):3===e.authStatus?a("div",{staticClass:"status-btn",staticStyle:{float:"right","border-color":"#F56C6C",color:"#F56C6C"}},[t._v("已拒绝")]):t._e()]),a("div",{staticClass:"state-btn"},[1===e.authStatus?[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.passTheApply(e)}}},[a("i",{staticClass:"el-icon-circle-check"}),t._v("\n                通过\n              ")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.rejectTheApply(e)}}},[a("i",{staticClass:"el-icon-circle-close"}),t._v("\n                拒绝\n              ")])]:3===e.authStatus?a("div",{staticClass:"reason",on:{click:function(a){return t.getApplyDetail(e,!0)}}},[t._v("查看原因")]):a("div",[t._v("-")])],2),a("div",{staticClass:"tool",class:{rotate:e.isShow},on:{click:function(a){return t.getApplyDetail(e)}}},[a("i",{staticClass:"el-icon-arrow-down"})])]),e.isShow?a("div",{staticClass:"more-info"},[a("div",{staticClass:"info"},[a("span",{staticClass:"info-title"},[t._v("终端类型：")]),a("span",{staticClass:"info-content"},[t._v(t._s(t.details[e.id].terminalType.join("、")||""))])]),a("div",{staticClass:"info"},[a("span",{staticClass:"info-title"},[t._v("获取业务数据类型：")]),a("span",{staticClass:"info-content"},[t._v(t._s(t.details[e.id].dataType.join("、")||""))])]),a("div",{staticClass:"info"},[a("span",{staticClass:"info-title"},[t._v("轻应用简介：")]),a("span",{staticClass:"info-content"},[t._v(t._s(t.details[e.id].note||""))])]),3===t.details[e.id].authStatus?a("div",{staticClass:"info"},[a("span",{staticClass:"info-title"},[t._v("拒绝原因：")]),a("span",{staticClass:"info-content",staticStyle:{color:"#f56c6c"}},[t._v(t._s(e.rejectReason))])]):t._e()]):t._e()])})),0)]),a("q-pagination",{attrs:{"current-page":t.searchTDO.current,"page-size":t.searchTDO.size,"page-sizes":[10,20,50,100],layout:"total, prev, pager, next, jumper",total:t.total},on:{"current-change":function(e){return t.handleCurrentChange(e)},"update:currentPage":function(e){return t.$set(t.searchTDO,"current",e)},"update:current-page":function(e){return t.$set(t.searchTDO,"current",e)}}})],1)},n=[],i=(a("96cf"),a("3b8d")),r=a("d225"),c=a("b0b4"),o=a("308d"),p=a("6bb5"),l=a("4e2b"),u=a("9ab4"),d=a("60a3"),h=a("5384"),m=function(t){function e(){var t;return Object(r["a"])(this,e),t=Object(o["a"])(this,Object(p["a"])(e).apply(this,arguments)),t.searchTDO={current:1,query:{appName:"",status:"",companyName:""},size:10},t.applyList=[],t.loading=!0,t.total=0,t.details={},t}return Object(l["a"])(e,t),Object(c["a"])(e,[{key:"getApplyList",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var a,s,n,i,r,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e&&(this.searchTDO.current=1),t.prev=1,t.next=4,this.$http.post(h["a"].getApplyList,this.searchTDO);case 4:if(a=t.sent,s=a.data,n=s.data,i=s.status,r=s.message,i)for(c in this.total=n.total,this.applyList=n.records,this.applyList)this.$set(this.applyList[c],"isShow",!1);else this.$message.error(r);case 10:return t.prev=10,this.loading=!1,t.finish(10);case 13:case"end":return t.stop()}}),t,this,[[1,,10,13]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getApplyDetail",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,a){var s,n,i,r,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.details[e.id]){t.next=4;break}return t.abrupt("return",e.isShow=!e.isShow);case 4:return t.next=6,this.$http.get(h["a"].showAccessDetail+"?id="+e.id);case 6:s=t.sent,n=s.data,i=n.data,r=n.status,c=n.message,r?(e.isShow=!e.isShow,this.$set(this.details,e.id,i)):this.$message.error(c);case 12:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"handleCurrentChange",value:function(t){this.searchTDO.current=t,this.getApplyList()}},{key:"passTheApply",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$confirm("确认通过该申请?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(i["a"])(regeneratorRuntime.mark((function t(){var s,n,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.$http.get(h["a"].passAccessTeam+"?id="+e.id);case 2:s=t.sent,n=s.data,n.data,i=n.status,r=n.message,i?(a.$message.success("操作成功"),a.getApplyList()):a.$message.error(r);case 8:case"end":return t.stop()}}),t)}))));case 1:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"rejectTheApply",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$prompt("请输入拒绝原因","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputErrorMessage:"原因不能为空",distinguishCancelAndClose:!0,inputValidator:function(t){return!!t}}).then(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(s){var n,i,r,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.$http.post(h["a"].rejectAccessTeam,{businessId:e.id,result:s.value});case 2:n=t.sent,i=n.data,r=i.status,c=i.message,r?(a.$message.success("操作成功"),a.getApplyList()):a.$message.error(c);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"created",value:function(){this.getApplyList()}}]),e}(d["e"]);m=u["__decorate"]([d["a"]],m);var f=m,v=f,g=(a("3bde"),a("2877")),y=Object(g["a"])(v,s,n,!1,null,"a82ca852",null);e["default"]=y.exports}}]);
//# sourceMappingURL=chunk-3a0b5ebc.648af6b5.js.map