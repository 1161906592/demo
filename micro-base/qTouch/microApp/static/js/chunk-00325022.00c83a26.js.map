{"version":3,"sources":["webpack://micro_[name]/./src/microApps/eventCenter/api/index.ts","webpack://micro_[name]/./node_modules/core-js/modules/es6.function.name.js","webpack://micro_[name]/./src/microApps/eventCenter/views/eventTemplate/EventTemplateEdit.vue?c03a","webpack://micro_[name]/./src/microApps/eventCenter/views/eventTemplate/components/EditDialog.vue?c7ef","webpack://micro_[name]/./src/microApps/eventCenter/views/eventTemplate/components/EditDialog.vue","webpack://micro_[name]/./src/microApps/eventCenter/views/eventTemplate/components/EditDialog.vue?cccb","webpack://micro_[name]/./src/microApps/eventCenter/views/eventTemplate/components/EditDialog.vue?5004","webpack://micro_[name]/./src/microApps/eventCenter/views/eventTemplate/EventTemplateEdit.vue","webpack://micro_[name]/./src/microApps/eventCenter/views/eventTemplate/EventTemplateEdit.vue?d807","webpack://micro_[name]/./src/microApps/eventCenter/views/eventTemplate/EventTemplateEdit.vue?020a","webpack://micro_[name]/./src/microApps/eventCenter/views/eventTemplate/EventTemplateEdit.vue?18a6"],"names":["api","getEventTypeTree","addEventType","updateEventType","deleteEventType","getFormList","addEventDefinition","updateEventDefinition","deleteEventDefinition","getEventDefinition","getEventRecord","getDeviceType","getFormListWithDeleted","addEventTemplate","updateEventTemplate","getEventTemplate","deleteEventTemplate","getAllProcessByUserVisible","getTemplateById","getOrgTreeData","getProcessImg","dP","f","FProto","Function","prototype","nameRE","NAME","configurable","get","this","match","e","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","on","$event","$router","back","_v","ref","submitForm","submitFormRules","model","value","callback","$$v","$set","expression","inspectProject","addArg","_l","optionsItem","index","key","name","typeCode","config","presetText","_e","numMax","numMin","item","content","item_1","index_1","slot","_s","imgMaxNum","editItem","deleteItem","save","isAdd","singleArg","addSingleArg","showAddDialog","staticRenderFns","addOptionsDialog","changeVisibleFalse","singleOption","formRules","typeChange","label","preventDefault","removeOptionItem","addOptionItem","addOptionsToList","options","itemOptions","required","message","trigger","add","JSON","parse","stringify","arg","push","indexOf","splice","$emit","$refs","form","validate","isValid","length","$message","info","undefined","type","Object","default","Boolean","component","preData","remark","code","items","showDeleteButton","id","$route","query","map","argTemplate","$http","data","status","error","filter","defaultChosen","i","defaultItem","join","isValidate","post","success","components","EditDialog"],"mappings":"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","file":"static/js/chunk-00325022.00c83a26.js","sourcesContent":["const api = {\r\n  getEventTypeTree: \"/admin/event/type/tree\", //获取事件分类树\r\n  addEventType: \"/admin/event/type/add\",\r\n  updateEventType: \"/admin/event/type/update\",\r\n  deleteEventType: \"/admin/event/type/delete\",\r\n  //事件定义模板\r\n  getFormList: \"/admin/formdesigner/getFormList\",\r\n  addEventDefinition: \"/admin/event/definition/add\",\r\n  updateEventDefinition: \"/admin/event/definition/update\",\r\n  deleteEventDefinition: \"/admin/event/definition/delete\",\r\n  getEventDefinition: \"/admin/event/definition/paging\",\r\n  getEventRecord: \"/admin/event/record/paging\",\r\n  getDeviceType: \"/admin/typeDetail/findTypeTree/device\",\r\n  getFormListWithDeleted: \"/admin/formdesigner/getFormListDelete/\",\r\n  //事件上报模板接口\r\n  addEventTemplate: \"/admin/event/template/add\",\r\n  updateEventTemplate: \"/admin/event/template/update\",\r\n  getEventTemplate: \"/admin/event/template/paging\",\r\n  deleteEventTemplate: \"/admin/event/template/delete/\",\r\n  getAllProcessByUserVisible: \"/admin/processDesigner/public/visible/getAllProcessByUserVisible\",\r\n  getTemplateById: \"/admin/event/template/getById\",\r\n  getOrgTreeData: \"admin/organization/orgTree\", //组织机构树\r\n  getProcessImg: \"/admin/processInstance/getProcessImg\" // 根据流程渲染当前节点图片\r\n};\r\n\r\nexport default api;\r\n","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('el-button',{staticStyle:{\"position\":\"absolute\",\"right\":\"20px\",\"top\":\"20px\"},attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.$router.back()}}},[_vm._v(\"返回\")]),_c('el-form',{ref:\"submitForm\",attrs:{\"label-width\":\"100px\",\"model\":_vm.submitForm,\"rules\":_vm.submitFormRules,\"size\":\"small\",\"inline\":\"\"}},[_c('el-form-item',{attrs:{\"label\":\"模板名称：\",\"prop\":\"name\"}},[_c('el-input',{staticClass:\"input\",attrs:{\"size\":\"small\"},model:{value:(_vm.submitForm.name),callback:function ($$v) {_vm.$set(_vm.submitForm, \"name\", $$v)},expression:\"submitForm.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"模板编码：\",\"prop\":\"code\"}},[_c('el-input',{staticStyle:{\"width\":\"420px\"},attrs:{\"size\":\"small\",\"placeholder\":\"包含字母、数字、横线、下划线和点,点不能作为开头,长度3-100位\"},model:{value:(_vm.submitForm.code),callback:function ($$v) {_vm.$set(_vm.submitForm, \"code\", $$v)},expression:\"submitForm.code\"}})],1),_c('el-form-item',{attrs:{\"label\":\"备注：\",\"prop\":\"remark\"}},[_c('el-input',{staticClass:\"input\",attrs:{\"size\":\"small\",\"maxlength\":255},model:{value:(_vm.submitForm.remark),callback:function ($$v) {_vm.$set(_vm.submitForm, \"remark\", $$v)},expression:\"submitForm.remark\"}})],1)],1),_c('el-form',{attrs:{\"label-width\":\"130px\",\"size\":\"small\"},model:{value:(_vm.inspectProject),callback:function ($$v) {_vm.inspectProject=$$v},expression:\"inspectProject\"}},[_c('div',{staticClass:\"template-wrap\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"模板项目配置：\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.addArg}},[_vm._v(\"添加选项\")])],1),_vm._l((_vm.inspectProject),function(optionsItem,index){return _c('div',{key:index,staticClass:\"inline\"},[_c('el-form-item',{attrs:{\"label\":optionsItem.name + '：'}},[(optionsItem.typeCode === 'text')?_c('el-input',{staticStyle:{\"width\":\"100%\"},attrs:{\"size\":\"small\",\"placeholder\":optionsItem.config.presetText,\"disabled\":\"\"}}):_vm._e(),(optionsItem.typeCode === 'number')?_c('el-input-number',{staticStyle:{\"width\":\"200px\"},attrs:{\"size\":\"small\",\"max\":optionsItem.config.numMax,\"min\":optionsItem.config.numMin,\"placeholder\":'数值范围：' + optionsItem.config.numMin + ' - ' + optionsItem.config.numMax,\"disabled\":\"\"}}):_vm._e(),(optionsItem.typeCode === 'select')?_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择\",\"size\":\"small\",\"disabled\":\"\"},model:{value:(optionsItem.config.defaultItem),callback:function ($$v) {_vm.$set(optionsItem.config, \"defaultItem\", $$v)},expression:\"optionsItem.config.defaultItem\"}},_vm._l((optionsItem.config.options),function(item,index){return _c('el-option',{key:index,attrs:{\"value\":item.content,\"label\":item.content}})}),1):_vm._e(),(optionsItem.typeCode === 'multiSelect')?_c('el-checkbox-group',{attrs:{\"size\":\"small\",\"disabled\":\"\"},model:{value:(optionsItem.config.default),callback:function ($$v) {_vm.$set(optionsItem.config, \"default\", $$v)},expression:\"optionsItem.config.default\"}},_vm._l((optionsItem.config.options),function(item_1,index_1){return _c('el-checkbox-button',{key:index_1,attrs:{\"value\":item_1.content,\"label\":item_1.content}})}),1):_vm._e(),(optionsItem.typeCode === 'image')?_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":\"/formdesigner/form/uploadimg/\",\"accept\":\".jpg,.jpeg,.png,.bmp\",\"show-file-list\":false,\"disabled\":\"\"}},[_c('el-button',{attrs:{\"size\":\"mini\",\"disabled\":\"\"}},[_vm._v(\"图片上传\")]),_c('div',{attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"只能上传jpg/jpeg/png/bmp文件，不超过 \"+_vm._s(optionsItem.config.imgMaxNum)+\" 张\")])],1):_vm._e(),(optionsItem.typeCode === 'location')?_c('el-input',{staticStyle:{\"width\":\"100%\"},attrs:{\"size\":\"small\",\"placeholder\":\"定位地址\",\"disabled\":\"\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"size\":\"mini\",\"icon\":\"el-icon-location\"},slot:\"append\"})],1):_vm._e()],1),_c('el-button',{staticStyle:{\"margin-left\":\"20px\"},attrs:{\"size\":\"mini\",\"circle\":\"\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.editItem(optionsItem)}}}),_c('el-button',{attrs:{\"size\":\"mini\",\"circle\":\"\",\"icon\":\"el-icon-close\"},on:{\"click\":function($event){return _vm.deleteItem(optionsItem)}}})],1)}),_c('el-row',{staticStyle:{\"padding-top\":\"12px\",\"border-top\":\"1px solid #eeeeee\"}},[_c('el-button',{staticStyle:{\"margin-left\":\"120px\"},attrs:{\"type\":\"primary\",\"size\":\"small\",\"icon\":\"el-icon-folder-checked\"},on:{\"click\":_vm.save}},[_vm._v(\"保存模板 \")])],1)],2),(_vm.showAddDialog)?_c('edit-dialog',{attrs:{\"add\":_vm.isAdd,\"arg\":_vm.singleArg},on:{\"addArg\":_vm.addSingleArg,\"close\":function($event){_vm.showAddDialog = false}}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"visible\":_vm.addOptionsDialog,\"title\":\"选项设置\",\"width\":\"500px\",\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.addOptionsDialog=$event},\"close\":_vm.changeVisibleFalse}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.singleOption,\"rules\":_vm.formRules,\"label-width\":\"100px\",\"size\":\"small\"}},[_c('el-form-item',{attrs:{\"label\":\"项目名称：\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"size\":\"small\",\"maxlength\":7,\"placeholder\":\"请输入(不超过7个字符)\"},model:{value:(_vm.singleOption.name),callback:function ($$v) {_vm.$set(_vm.singleOption, \"name\", $$v)},expression:\"singleOption.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"项目类型：\",\"prop\":\"typeCode\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择字段类型\",\"size\":\"small\"},on:{\"change\":_vm.typeChange},model:{value:(_vm.singleOption.typeCode),callback:function ($$v) {_vm.$set(_vm.singleOption, \"typeCode\", $$v)},expression:\"singleOption.typeCode\"}},_vm._l((_vm.itemOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),(_vm.singleOption.typeCode !== 'location')?_c('el-form-item',{attrs:{\"label\":\"选项设置：\"}},[(_vm.singleOption.typeCode === 'select' || _vm.singleOption.typeCode === 'multiSelect')?_c('div',[_vm._l((_vm.singleOption.config.options),function(optionsItem,index){return _c('el-row',{key:index,staticStyle:{\"margin-bottom\":\"6px\"}},[_c('el-col',{attrs:{\"span\":15}},[_c('el-input',{attrs:{\"size\":\"small\"},model:{value:(optionsItem.content),callback:function ($$v) {_vm.$set(optionsItem, \"content\", $$v)},expression:\"optionsItem.content\"}})],1),_c('el-col',{attrs:{\"span\":6}},[_c('el-checkbox',{staticStyle:{\"margin-left\":\"20px\"},model:{value:(optionsItem.defaultChosen),callback:function ($$v) {_vm.$set(optionsItem, \"defaultChosen\", $$v)},expression:\"optionsItem.defaultChosen\"}},[_vm._v(\"默认选中 \")])],1),_c('el-col',{attrs:{\"span\":3}},[_c('el-button',{staticStyle:{\"margin-left\":\"20px\"},attrs:{\"size\":\"mini\",\"icon\":\"el-icon-close\",\"circle\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.removeOptionItem(optionsItem)}}})],1)],1)}),_c('el-row',[_c('el-button',{staticStyle:{\"float\":\"left\"},attrs:{\"type\":\"text\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.addOptionItem}},[_vm._v(\"\\n            添加选项\\n          \")])],1)],2):_vm._e(),(_vm.singleOption.typeCode === 'number')?_c('div',[_c('el-row',[_c('el-input-number',{attrs:{\"precision\":2,\"placeholder\":\"最小值\",\"max\":_vm.singleOption.config.numMax},model:{value:(_vm.singleOption.config.numMin),callback:function ($$v) {_vm.$set(_vm.singleOption.config, \"numMin\", $$v)},expression:\"singleOption.config.numMin\"}}),_c('span',[_vm._v(\"  至  \")]),_c('el-input-number',{attrs:{\"precision\":2,\"placeholder\":\"最大值\",\"min\":_vm.singleOption.config.numMin},model:{value:(_vm.singleOption.config.numMax),callback:function ($$v) {_vm.$set(_vm.singleOption.config, \"numMax\", $$v)},expression:\"singleOption.config.numMax\"}})],1)],1):_vm._e(),(_vm.singleOption.typeCode === 'image')?_c('div',[_c('el-row',[_c('el-input-number',{attrs:{\"precision\":0,\"min\":1,\"max\":9,\"placeholder\":\"最大张数\"},model:{value:(_vm.singleOption.config.imgMaxNum),callback:function ($$v) {_vm.$set(_vm.singleOption.config, \"imgMaxNum\", $$v)},expression:\"singleOption.config.imgMaxNum\"}})],1)],1):_vm._e(),(_vm.singleOption.typeCode === 'text')?_c('div',[_c('el-row',[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"预设文本\"},model:{value:(_vm.singleOption.config.presetText),callback:function ($$v) {_vm.$set(_vm.singleOption.config, \"presetText\", $$v)},expression:\"singleOption.config.presetText\"}})],1)],1):_vm._e()]):_vm._e()],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.changeVisibleFalse}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.addOptionsToList}},[_vm._v(\"确定\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n// 引入外部组件与ts\r\nimport { Component, Prop, Vue, Emit } from \"vue-property-decorator\";\r\nimport { ElForm } from \"element-ui/types/form\";\r\n@Component({})\r\nexport default class EditDialog extends Vue {\r\n  @Prop({ type: Object, required: false, default: () => {} })\r\n  arg!: any;\r\n  @Prop({ type: Boolean, required: true, default: true })\r\n  add!: Boolean;\r\n\r\n  singleOption: any = {\r\n    name: \"\",\r\n    typeCode: \"\",\r\n    config: {\r\n      options: [],\r\n      numMin: 0,\r\n      numMax: 10,\r\n      imgMaxNum: 9,\r\n      presetText: \"\"\r\n    }\r\n  };\r\n  addOptionsDialog: Boolean = false;\r\n  itemOptions: Array<any> = [\r\n    {\r\n      value: \"select\",\r\n      label: \"单项选择\"\r\n    },\r\n    {\r\n      value: \"multiSelect\",\r\n      label: \"多项选择\"\r\n    },\r\n    {\r\n      value: \"number\",\r\n      label: \"数值\"\r\n    },\r\n    {\r\n      value: \"image\",\r\n      label: \"图片\"\r\n    },\r\n    {\r\n      value: \"text\",\r\n      label: \"文本\"\r\n    },\r\n    {\r\n      value: \"location\",\r\n      label: \"定位\"\r\n    }\r\n  ];\r\n  formRules: any = {\r\n    name: { required: true, message: \"请输入项目名称\", trigger: \"change\" },\r\n    typeCode: { required: true, message: \"请选择项目类型\", trigger: \"change\" }\r\n  };\r\n\r\n  created() {\r\n    if (this.add) {\r\n      this.singleOption = {\r\n        name: \"\",\r\n        typeCode: \"\",\r\n        config: {\r\n          options: [],\r\n          numMin: 0,\r\n          numMax: 10,\r\n          imgMaxNum: 9,\r\n          presetText: \"\"\r\n        }\r\n      };\r\n    } else {\r\n      this.singleOption = JSON.parse(JSON.stringify(this.arg));\r\n    }\r\n    this.addOptionsDialog = true;\r\n  }\r\n\r\n  // 数据项类型修改\r\n  typeChange() {\r\n    if (this.singleOption.typeCode === \"select\" || this.singleOption.typeCode === \"multiSelect\") {\r\n      this.singleOption.config.options = [];\r\n    } else if (this.singleOption.typeCode === \"number\") {\r\n      this.$set(this.singleOption.config, \"numMin\", 0);\r\n      this.$set(this.singleOption.config, \"numMax\", 10);\r\n    } else if (this.singleOption.typeCode === \"text\") {\r\n      this.$set(this.singleOption.config, \"presetText\", \"\");\r\n    } else if (this.singleOption.typeCode === \"image\") {\r\n      this.$set(this.singleOption.config, \"imgMaxNum\", 1);\r\n    }\r\n  }\r\n\r\n  addOptionItem() {\r\n    this.singleOption.config.options.push({});\r\n  }\r\n  removeOptionItem(item: any) {\r\n    let index = this.singleOption.config.options.indexOf(item);\r\n    if (index !== -1) {\r\n      this.singleOption.config.options.splice(index, 1);\r\n    }\r\n  }\r\n  changeVisibleFalse() {\r\n    this.$emit(\"close\");\r\n  }\r\n  addOptionsToList() {\r\n    (this.$refs.form as ElForm).validate(isValid => {\r\n      if (isValid) {\r\n        switch (this.singleOption.typeCode) {\r\n          case \"select\":\r\n          case \"multiSelect\":\r\n            if (this.singleOption.config.options.length === 0) {\r\n              this.$message.info(\"请添加选项\");\r\n              return;\r\n            }\r\n            break;\r\n          case \"number\":\r\n            if (\r\n              this.singleOption.config.numMin === \"\" ||\r\n              this.singleOption.config.numMin === undefined ||\r\n              this.singleOption.config.numMax === \"\" ||\r\n              this.singleOption.config.numMax === undefined\r\n            ) {\r\n              this.$message.info(\"请设置最大值或最小值\");\r\n              return;\r\n            }\r\n            break;\r\n          case \"image\":\r\n            if (this.singleOption.config.imgMaxNum === \"\" || this.singleOption.config.imgMaxNum === undefined) {\r\n              this.$message.info(\"请设置图片的最大张数\");\r\n              return;\r\n            }\r\n            break;\r\n        }\r\n        this.$emit(\"addArg\", this.singleOption);\r\n      } else {\r\n        return false;\r\n      }\r\n    });\r\n  }\r\n\r\n  beforeDestroy() {\r\n    this.singleOption = null;\r\n  }\r\n}\r\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditDialog.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditDialog.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EditDialog.vue?vue&type=template&id=a8eb7f96&scoped=true&\"\nimport script from \"./EditDialog.vue?vue&type=script&lang=ts&\"\nexport * from \"./EditDialog.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a8eb7f96\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n/**\r\n * @Author: 丿Coder\r\n * @Date: 2019-09-08 23:00\r\n */\r\nimport { Vue, Component, Prop, Model, Watch } from \"vue-property-decorator\";\r\nimport EditDialog from \"./components/EditDialog.vue\";\r\nimport api from \"@/microApps/eventCenter/api\";\r\nimport { ElForm } from \"element-ui/types/form\";\r\n\r\n@Component({\r\n  components: { EditDialog }\r\n})\r\nexport default class EventTemplateEdit extends Vue {\r\n  preData: any = {};\r\n  // eventBasicForm: any = {}; // 基础属性\r\n  submitForm: any = {\r\n    name: \"\",\r\n    remark: \"\",\r\n    code: \"\",\r\n    items: []\r\n  };\r\n  submitFormRules: any = {\r\n    name: { required: true, message: \"请输入模板名称\", trigger: \"change\" },\r\n    code: { required: true, message: \"请输入模板编码\", trigger: \"change\" }\r\n  };\r\n  inspectProject: any[] = [];\r\n  showDeleteButton: Boolean = true;\r\n  showAddDialog: Boolean = false;\r\n  isAdd: Boolean = false; // 是否是新增模式，true：新增， false：修改\r\n  singleArg: any = {}; // 传入子组件参数\r\n  index: any = null;\r\n\r\n  async created() {\r\n    let id: any = this.$route.query.id;\r\n    if (id) {\r\n      await this.getTemplateById(id);\r\n      this.preData.items.map((item: any) => {\r\n        this.inspectProject.push({\r\n          argTemplate: item.argTemplate ? item.argTemplate : { presetText: null },\r\n          config: item.argTemplate ? item.argTemplate : { presetText: null },\r\n          name: item.name,\r\n          typeCode: item.typeCode\r\n        });\r\n      });\r\n    }\r\n    this.submitForm = this.preData;\r\n  }\r\n\r\n  async getTemplateById(id: string) {\r\n    let {\r\n      data: { data, status, message }\r\n    } = await this.$http.get(api.getTemplateById + \"/\" + id);\r\n    if (status) {\r\n      this.preData = data;\r\n    } else {\r\n      this.$message.error(message);\r\n    }\r\n  }\r\n  // 打开编辑弹窗-添加\r\n  addArg() {\r\n    this.showAddDialog = true;\r\n    this.isAdd = true; // 是否是新增模式，true：新增， false：修改\r\n  }\r\n  // 打开编辑弹窗-修改\r\n  editItem(item: any) {\r\n    this.index = this.inspectProject.indexOf(item);\r\n    this.isAdd = false;\r\n    this.showAddDialog = true;\r\n    this.singleArg = item;\r\n  }\r\n  // 将配置项插入数组\r\n  addSingleArg(value: any) {\r\n    // 修改配置项适应list展示效果\r\n    value.config.default = [];\r\n    value.config.options\r\n      .filter((item: any) => item.defaultChosen)\r\n      .map((i: any) => {\r\n        value.config.default.push(i.content);\r\n      });\r\n    value.config.defaultItem = value.config.default.join(\"\");\r\n    value.argTemplate = value.config; // 转json字符串用于提交服务器\r\n    if (this.isAdd) {\r\n      this.$set(this.inspectProject, this.inspectProject.length, value); // 新增时插入\r\n    } else {\r\n      this.$set(this.inspectProject, this.index, value); // 编辑时替换\r\n    }\r\n    this.showAddDialog = false;\r\n    this.submitForm.items = this.inspectProject;\r\n  }\r\n  deleteItem(item: any) {\r\n    let index = this.inspectProject.indexOf(item);\r\n    if (index !== -1) {\r\n      this.inspectProject.splice(index, 1);\r\n    }\r\n    this.submitForm.items = this.inspectProject;\r\n  }\r\n\r\n  save() {\r\n    (this.$refs.submitForm as ElForm).validate(async isValidate => {\r\n      if (isValidate) {\r\n        let id = this.$route.query.id;\r\n        let {\r\n          data: { data, status, message }\r\n        } = await this.$http.post(api[id ? \"updateEventTemplate\" : \"addEventTemplate\"], this.submitForm);\r\n        if (status) {\r\n          this.$message.success(id ? \"修改成功\" : \"添加成功\");\r\n          this.$router.back();\r\n        } else {\r\n          this.$message.error(message);\r\n        }\r\n      }\r\n    });\r\n  }\r\n}\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventTemplateEdit.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventTemplateEdit.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EventTemplateEdit.vue?vue&type=template&id=31182a0e&scoped=true&\"\nimport script from \"./EventTemplateEdit.vue?vue&type=script&lang=ts&\"\nexport * from \"./EventTemplateEdit.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./EventTemplateEdit.vue?vue&type=style&index=0&id=31182a0e&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"31182a0e\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventTemplateEdit.vue?vue&type=style&index=0&id=31182a0e&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventTemplateEdit.vue?vue&type=style&index=0&id=31182a0e&scoped=true&lang=scss&\""],"sourceRoot":""}