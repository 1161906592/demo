{"version":3,"sources":["webpack://micro_[name]/./src/microApps/processManage/views/processManage/editComponents/FlowChartDesign.vue?36b9","webpack://micro_[name]/./src/microApps/processManage/views/processManage/editComponents/RoleSet.vue?88d9","webpack://micro_[name]/./src/microApps/processManage/views/processManage/editComponents/TaskAssignment.vue?2fac","webpack://micro_[name]/./src/microApps/processManage/views/processManage/editComponents/FormDesign.vue?c18c","webpack://micro_[name]/./src/microApps/processManage/views/processManage/ProcessEditStep.vue?af3d","webpack://micro_[name]/./src/microApps/processManage/views/processManage/ProcessEditStep.vue?3292","webpack://micro_[name]/./src/microApps/processManage/views/processManage/editComponents/FlowChartDesign.vue?1059","webpack://micro_[name]/./src/microApps/processManage/views/processManage/editComponents/FlowChartDesign.vue","webpack://micro_[name]/./src/microApps/processManage/views/processManage/editComponents/FlowChartDesign.vue?3172","webpack://micro_[name]/./src/microApps/processManage/views/processManage/editComponents/FlowChartDesign.vue?3177","webpack://micro_[name]/./src/microApps/processManage/views/processManage/editComponents/RoleSet.vue?783a","webpack://micro_[name]/./src/microApps/processManage/views/processManage/editComponents/RoleSet.vue","webpack://micro_[name]/./src/microApps/processManage/views/processManage/editComponents/RoleSet.vue?8732","webpack://micro_[name]/./src/microApps/processManage/views/processManage/editComponents/RoleSet.vue?b987","webpack://micro_[name]/./src/microApps/processManage/views/processManage/editComponents/FormDesign.vue?2288","webpack://micro_[name]/./src/microApps/processManage/views/processManage/editComponents/FormDesign.vue","webpack://micro_[name]/./src/microApps/processManage/views/processManage/editComponents/FormDesign.vue?e75d","webpack://micro_[name]/./src/microApps/processManage/views/processManage/editComponents/FormDesign.vue?2e37","webpack://micro_[name]/./src/microApps/processManage/views/processManage/editComponents/TaskAssignment.vue?3f78","webpack://micro_[name]/./src/microApps/processManage/views/processManage/editComponents/TaskAssignment.vue","webpack://micro_[name]/./src/microApps/processManage/views/processManage/editComponents/TaskAssignment.vue?4742","webpack://micro_[name]/./src/microApps/processManage/views/processManage/editComponents/TaskAssignment.vue?f385","webpack://micro_[name]/./src/microApps/processManage/views/processManage/ProcessEditStep.vue","webpack://micro_[name]/./src/microApps/processManage/views/processManage/ProcessEditStep.vue?9309","webpack://micro_[name]/./src/microApps/processManage/views/processManage/ProcessEditStep.vue?a0c4","webpack://micro_[name]/./src/microApps/processManage/api/index.ts"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","state","staticStyle","on","handleCancel","_v","currentData","procdefId","flowChartSaved","_e","procdefKey","typeId","saveProcessRoleList","model","value","callback","$$v","processRoleSet","expression","ref","saveProcessFormList","processFormSet","someRequestData","handlePrev","JSON","stringify","$event","handleNext","handleRelease","staticRenderFns","directives","name","rawName","uploadProcessFileUrl","uploadParam","httpHeaders","handleUploadFileSuccess","fileChanged","processFileList","procdefIdSelf","reDesign","handleReDesign","bpmnPath","getProcessImage","accessToken","cookie","get","api","processManage","uploadProcessFile","importState","processFile","frameLoading","loading","changeFileStatus","loadProcessImg","initIframe","$nextTick","img","$refs","url","getAttribute","request","XMLHttpRequest","responseType","open","setRequestHeader","onreadystatechange","e","readyState","DONE","status","src","URL","createObjectURL","response","onload","revokeObjectURL","send","iframe","contentWindow","addEventListener","createNewDiagram","finish","data","saveProcessFile","xmlData","$http","post","text","message","code","$confirm","distinguishCancelAndClose","confirmButtonText","cancelButtonText","type","then","console","log","$message","success","getProcdefById","error","file","fileList","clearFiles","push","submit","id","params","$emit","raw","size","uid","String","required","component","returnData","_l","item","index","key","procdefTypeName","invisibleOrgList","label","orgValue","invisibleRoleList","roleValue","invisibleUserList","userValue","typeOptions","loadData","Promise","all","getAllProcessType","getInvisibleDataList","getAllOrg","getAllRole","getAllUser","getVisibleDataList","getProcessVisibleOrg","getProcessVisibleRole","getProcessVisiblePerson","orgList","roleList","userList","length","getAllProcessTypeWithDelete","targetName","propId","propName","map","i","useTemp","handleSelectForm","formId","formName","form","formRules","$set","checkFormName","slot","optionItem","rules","typeChange","attrType","dataRange","optionsItem","handleCheck","preventDefault","removeOptionItem","addOptionItem","numMax","numMin","handleAddItem","formItems","searchFormName","formList","formNameStatus","trigger","validator","rule","some","d","Error","options","multiSelectedItems","getAllFormList","getFormByProcess","finally","getProcdefByKey","formManage","getFormList","current","records","filter","parse","formDef","warning","defaultChosen","splice","content","validate","valid","clearValidate","mode","val","insertFormDefine","immediate","deep","_m","style","height","assignList","scopedSlots","_u","fn","scope","row","$forceUpdate","dataList","processFormList","getAssignTaskList","processDefineId","shift","resolve","reject","checkUserTaskDesign","requestBody","every","saveUserTaskDesignator","updateProcessStatus","res","userIds","roleIds","orgIds","userTaskId","userTask","personIds","assignedGroupId","candidateGroups","collectionType","Object","$route","query","saveProcessRole","saveProcessVisibleOrg","saveProcessVisibleRole","saveProcessVisibleUser","saveProcessType","saveProcessForm","messageType","ids","updateProcessType","saveFormById","formDesign","save","assignment","$router","back","components","TaskAssignment","FormDesign","RoleSet","FlowChartDesign","delFormDefine","getEventType","updateFormDefine","getFormDefine","getAllProcessTypePaging","getPageProcess","deleteProcdefInfo","addProcessType","deleteProcessType","getAllProcess","downloadProcessFile"],"mappings":"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","file":"static/js/chunk-03b962cf.cfbe5450.js","sourcesContent":["import mod from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FlowChartDesign.vue?vue&type=style&index=0&id=5c09eec3&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FlowChartDesign.vue?vue&type=style&index=0&id=5c09eec3&scoped=true&lang=scss&\"","import mod from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoleSet.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoleSet.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskAssignment.vue?vue&type=style&index=0&id=1968a3c0&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskAssignment.vue?vue&type=style&index=0&id=1968a3c0&scoped=true&lang=scss&\"","import mod from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormDesign.vue?vue&type=style&index=0&id=4513f13a&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormDesign.vue?vue&type=style&index=0&id=4513f13a&scoped=true&lang=scss&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProcessEditStep.vue?vue&type=style&index=0&id=e9fc86f8&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProcessEditStep.vue?vue&type=style&index=0&id=e9fc86f8&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"my-main\"},[_c('div',{staticClass:\"step\"},[_c('el-steps',{attrs:{\"space\":300,\"active\":_vm.state,\"finish-status\":\"success\",\"align-center\":\"\"}},[_c('el-step',{attrs:{\"title\":\"流程设计\"}}),_c('el-step',{attrs:{\"title\":\"权限设置\"}}),_c('el-step',{attrs:{\"title\":\"表单设计\"}}),_c('el-step',{attrs:{\"title\":\"发布\"}})],1),_c('el-button',{staticStyle:{\"position\":\"absolute\",\"right\":\"20px\",\"top\":\"20px\",\"z-index\":\"99\"},attrs:{\"size\":\"small\"},on:{\"click\":_vm.handleCancel}},[_vm._v(\"返回 \")])],1),(_vm.state === 0)?[_c('flow-chart-design',{attrs:{\"procdef-id\":_vm.currentData ? _vm.currentData.procdefId : ''},on:{\"complete\":_vm.flowChartSaved}})]:_vm._e(),(_vm.state === 1)?[_c('role-set',{attrs:{\"procdef-key\":_vm.currentData.procdefKey,\"type\":_vm.typeId || ''},on:{\"data-load\":_vm.saveProcessRoleList},model:{value:(_vm.processRoleSet),callback:function ($$v) {_vm.processRoleSet=$$v},expression:\"processRoleSet\"}})]:_vm._e(),(_vm.state === 2)?[_c('form-design',{ref:\"formDesign\",attrs:{\"procdef-key\":_vm.currentData.procdefKey},on:{\"data-load\":_vm.saveProcessFormList},model:{value:(_vm.processFormSet),callback:function ($$v) {_vm.processFormSet=$$v},expression:\"processFormSet\"}})]:_vm._e(),(_vm.state === 3)?[_c('task-assignment',{ref:\"assignment\",attrs:{\"procdef-key\":_vm.currentData.procdefKey,\"procdef-id\":_vm.currentData.procdefId,\"data-list\":_vm.someRequestData}})]:_vm._e(),_c('div',{staticClass:\"btn\"},[(_vm.state !== 0)?_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.handlePrev}},[_vm._v(\"上一步\")]):_vm._e(),((_vm.state === 0 && JSON.stringify(_vm.currentData) !== '{}') || _vm.state === 1 || _vm.state === 2)?_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"disabled\":!_vm.currentData},on:{\"click\":function($event){_vm.currentData && _vm.handleNext()}}},[_vm._v(\"\\n      下一步\\n    \")]):_vm._e(),(_vm.state === 3)?_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.handleRelease}},[_vm._v(\"\\n      发布\\n    \")]):_vm._e()],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"main-body\"},[_c('div',{staticClass:\"header-buttons\"},[(_vm.changeFileStatus)?_c('el-upload',{ref:\"process-upload\",staticStyle:{\"display\":\"inline-block\",\"margin-left\":\"20px\"},attrs:{\"action\":_vm.uploadProcessFileUrl,\"data\":_vm.uploadParam,\"show-file-list\":false,\"headers\":_vm.httpHeaders,\"before-upload\":function () { return true; },\"on-success\":_vm.handleUploadFileSuccess,\"on-error\":_vm.handleUploadFileSuccess,\"on-change\":_vm.fileChanged,\"auto-upload\":false,\"multiple\":\"\",\"limit\":1,\"file-list\":_vm.processFileList}},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"}},[_vm._v(\"直接导入\")])],1):_vm._e(),(_vm.procdefIdSelf && !_vm.reDesign)?_c('el-button',{staticStyle:{\"margin-left\":\"20px\"},attrs:{\"size\":\"mini\"},on:{\"click\":_vm.handleReDesign}},[_vm._v(\"重新设计 \")]):_vm._e()],1),(!_vm.procdefIdSelf || _vm.reDesign)?_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.frameLoading),expression:\"frameLoading\"}],staticClass:\"iframe\"},[_c('iframe',{ref:\"iframe\",attrs:{\"src\":_vm.bpmnPath,\"frameborder\":\"0\",\"width\":\"100%\",\"height\":\"100%\"}})]):_c('div',[_c('img',{ref:\"processImg\",attrs:{\"process-src\":_vm.getProcessImage + '?procId=' + _vm.procdefIdSelf,\"alt\":\"\"}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n/**\r\n * @Description: -\r\n * @Author: -\r\n * @Date: -\r\n **/\r\n\r\nimport { Vue, Component, Prop } from \"vue-property-decorator\";\r\nimport cookieUtils from \"@/utils/cookie\";\r\nimport api from \"@/microApps/processManage/api\";\r\nimport { ElUpload } from \"element-ui/types/upload\";\r\n\r\n@Component({})\r\nexport default class FlowChartDesign extends Vue {\r\n  @Prop({ type: String, required: false })\r\n  procdefId!: string;\r\n\r\n  procdefIdSelf: string = \"\";\r\n  httpHeaders: any = {\r\n    accessToken: \"Bearer \" + cookieUtils.get(\"accessToken\")\r\n  };\r\n  uploadProcessFileUrl: string = api.processManage.uploadProcessFile;\r\n  uploadParam: any = { importState: 0 };\r\n  processFile: any = null;\r\n  processFileList: any[] = [];\r\n  bpmnPath: string = process.env.BASE_URL + \"static/bpmn/index.html\";\r\n  getProcessImage: string = api.processManage.getProcessImage;\r\n  frameLoading: boolean = false;\r\n  loading = false;\r\n  reDesign: boolean = false;\r\n  changeFileStatus: boolean = true;\r\n\r\n  mounted() {\r\n    if (this.procdefId) {\r\n      this.procdefIdSelf = this.procdefId;\r\n      this.loadProcessImg();\r\n    } else {\r\n      this.initIframe();\r\n    }\r\n    this.frameLoading = false;\r\n  }\r\n  // 动态加载流程图\r\n  loadProcessImg() {\r\n    this.$nextTick(() => {\r\n      let img: any = this.$refs[\"processImg\"];\r\n      let url = img.getAttribute(\"process-src\");\r\n      let request = new XMLHttpRequest();\r\n      let accessToken = cookieUtils.get(\"accessToken\");\r\n      request.responseType = \"blob\";\r\n      request.open(\"get\", url, true);\r\n      request.setRequestHeader(\"accessToken\", \"Bearer \" + accessToken);\r\n      request.onreadystatechange = e => {\r\n        if (request.readyState == XMLHttpRequest.DONE && request.status == 200) {\r\n          img.src = URL.createObjectURL(request.response);\r\n          img.onload = () => {\r\n            URL.revokeObjectURL(img.src);\r\n          };\r\n        }\r\n      };\r\n      request.send(null);\r\n    });\r\n  }\r\n  // 重绘流程图\r\n  handleReDesign() {\r\n    this.reDesign = true;\r\n    this.initIframe();\r\n  }\r\n  // 加载iframe页面\r\n  initIframe() {\r\n    this.frameLoading = true;\r\n    this.$nextTick(() => {\r\n      let iframe: any = this.$refs.iframe;\r\n      iframe.contentWindow.addEventListener(\"load\", () => {\r\n        this.frameLoading = false;\r\n        iframe.contentWindow.createNewDiagram();\r\n      });\r\n      iframe.contentWindow.finish = (data: any) => {\r\n        this.saveProcessFile(data, 0);\r\n      };\r\n    });\r\n  }\r\n  // 直接保存已绘制的流程图\r\n  async saveProcessFile(xmlData: any, importState: number) {\r\n    this.loading = true;\r\n    try {\r\n      let {\r\n        data: { data, status, message }\r\n      } = await this.$http.post(api.processManage.saveProcessFile, {\r\n        text: xmlData,\r\n        importState: importState\r\n      });\r\n      if (status) {\r\n        if (data.code === 400) {\r\n          this.$confirm(data.message, \"提示\", {\r\n            distinguishCancelAndClose: true,\r\n            confirmButtonText: \"确定\",\r\n            cancelButtonText: \"取消\",\r\n            type: \"warning\"\r\n          }).then(() => {\r\n            console.log(true);\r\n            this.saveProcessFile(xmlData, 1);\r\n          });\r\n        } else {\r\n          this.$message.success(\"导入成功\");\r\n          this.getProcdefById(data.data);\r\n        }\r\n      } else {\r\n        this.$message.error(message);\r\n      }\r\n    } finally {\r\n      this.loading = false;\r\n    }\r\n  }\r\n  // 直接导入本地流程图文件\r\n  handleUploadFileSuccess(data: any, file: any, fileList: any[]) {\r\n    if (data.status) {\r\n      if (data.data.code === 400) {\r\n        (this.$refs[\"process-upload\"] as ElUpload).clearFiles();\r\n        this.processFileList = [];\r\n        this.$confirm(data.data.message, \"提示\", {\r\n          distinguishCancelAndClose: true,\r\n          confirmButtonText: \"确定\",\r\n          cancelButtonText: \"取消\",\r\n          type: \"warning\"\r\n        }).then(() => {\r\n          this.uploadParam = {\r\n            importState: 1\r\n          };\r\n          this.processFileList.push(this.processFile);\r\n          this.$nextTick(() => {\r\n            (this.$refs[\"process-upload\"] as ElUpload).submit();\r\n          });\r\n        });\r\n      } else {\r\n        this.$message.success(\"导入成功\");\r\n        this.uploadParam = {\r\n          importState: 0\r\n        };\r\n        this.getProcdefById(data.data.data);\r\n      }\r\n    } else {\r\n      this.$message.error(data.message);\r\n    }\r\n  }\r\n  // 根据返回的流程id查询数据返回父组件\r\n  async getProcdefById(id: string) {\r\n    let {\r\n      data: { data, status, message }\r\n    } = await this.$http.get(api.processManage.getProcdefById, {\r\n      params: { id }\r\n    });\r\n    if (status) {\r\n      this.$emit(\"complete\", data);\r\n    } else {\r\n      this.$message.error(message);\r\n    }\r\n  }\r\n\r\n  fileChanged(file: any) {\r\n    // 修改文件状态，避免缓存造成无法上传\r\n    this.processFile = {\r\n      name: file.name + \"-reUpload\",\r\n      raw: file.raw,\r\n      size: file.size,\r\n      status: \"ready\",\r\n      uid: file.uid\r\n    };\r\n    (this.$refs[\"process-upload\"] as ElUpload).submit();\r\n  }\r\n}\r\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FlowChartDesign.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FlowChartDesign.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FlowChartDesign.vue?vue&type=template&id=5c09eec3&scoped=true&\"\nimport script from \"./FlowChartDesign.vue?vue&type=script&lang=ts&\"\nexport * from \"./FlowChartDesign.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FlowChartDesign.vue?vue&type=style&index=0&id=5c09eec3&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5c09eec3\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"main-body\"},[_c('div',{staticClass:\"process-type\"},[_c('div',{staticStyle:{\"font-size\":\"14px\",\"line-height\":\"36px\"}},[_vm._v(\"选择分类：\")]),_c('el-select',{staticStyle:{\"width\":\"calc(30% - 68px)\",\"min-width\":\"412px\"},attrs:{\"placeholder\":\"请选择\",\"clearable\":\"\",\"size\":\"medium\"},on:{\"change\":_vm.returnData},model:{value:(_vm.typeId),callback:function ($$v) {_vm.typeId=$$v},expression:\"typeId\"}},_vm._l((_vm.typeOptions),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.procdefTypeName,\"value\":item.id}})}),1)],1),_c('div',{staticClass:\"transfer-body\"},[_c('div',{staticClass:\"transfer-item\"},[_c('div',{staticClass:\"transfer-title\"},[_vm._v(\"可见组织：\")]),_c('el-transfer',{attrs:{\"filterable\":\"\",\"data\":_vm.invisibleOrgList,\"titles\":['组织列表', '已选组织'],\"props\":{ key: 'id', label: 'name' }},on:{\"change\":_vm.returnData},model:{value:(_vm.orgValue),callback:function ($$v) {_vm.orgValue=$$v},expression:\"orgValue\"}})],1),_c('div',{staticClass:\"transfer-item\"},[_c('div',{staticClass:\"transfer-title\"},[_vm._v(\"可见角色：\")]),_c('el-transfer',{attrs:{\"filterable\":\"\",\"data\":_vm.invisibleRoleList,\"titles\":['角色列表', '已选角色'],\"props\":{ key: 'id', label: 'name' }},on:{\"change\":_vm.returnData},model:{value:(_vm.roleValue),callback:function ($$v) {_vm.roleValue=$$v},expression:\"roleValue\"}})],1),_c('div',{staticClass:\"transfer-item\"},[_c('div',{staticClass:\"transfer-title\"},[_vm._v(\"可见用户：\")]),_c('el-transfer',{attrs:{\"filterable\":\"\",\"data\":_vm.invisibleUserList,\"titles\":['用户列表', '已选用户'],\"props\":{ key: 'id', label: 'name' }},on:{\"change\":_vm.returnData},model:{value:(_vm.userValue),callback:function ($$v) {_vm.userValue=$$v},expression:\"userValue\"}})],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n/**\r\n * @Description: -\r\n * @Author: -\r\n * @Date: -\r\n **/\r\n\r\nimport { Vue, Component, Prop, Model } from \"vue-property-decorator\";\r\nimport api from \"@/microApps/processManage/api\";\r\n\r\n@Component({})\r\nexport default class RoleSet extends Vue {\r\n  @Prop({ type: String, required: true })\r\n  procdefKey!: string;\r\n  @Prop({ type: String, required: true })\r\n  type!: any;\r\n\r\n  loading: boolean = true;\r\n\r\n  typeId: string = this.type || \"\";\r\n  typeOptions: any[] = [];\r\n  invisibleOrgList: any[] = []; // 不可见组织\r\n  invisibleRoleList: any[] = []; // 不可见角色\r\n  invisibleUserList: any[] = []; // 不可见用户\r\n  orgValue: any[] = []; // 可见组织\r\n  roleValue: any[] = []; // 可见角色\r\n  userValue: any[] = []; // 可见用户\r\n\r\n  @Model(\"input\")\r\n  processRole!: any;\r\n\r\n  created() {\r\n    this.loadData();\r\n  }\r\n\r\n  mounted() {}\r\n\r\n  async loadData() {\r\n    try {\r\n      await Promise.all([\r\n        this.getAllProcessType(),\r\n        this.getInvisibleDataList(api.processManage.getAllOrg, \"invisibleOrgList\", \"orgId\", \"orgName\"),\r\n        this.getInvisibleDataList(api.processManage.getAllRole, \"invisibleRoleList\", \"roleId\", \"roleName\"),\r\n        this.getInvisibleDataList(api.processManage.getAllUser, \"invisibleUserList\", \"userId\", \"userName\"),\r\n        this.getVisibleDataList(api.processManage.getProcessVisibleOrg, \"orgValue\", \"orgId\"),\r\n        this.getVisibleDataList(api.processManage.getProcessVisibleRole, \"roleValue\", \"roleId\"),\r\n        this.getVisibleDataList(api.processManage.getProcessVisiblePerson, \"userValue\", \"userId\")\r\n      ]);\r\n    } finally {\r\n      this.loading = false;\r\n      this.$emit(\"data-load\", {\r\n        orgList: this.invisibleOrgList,\r\n        roleList: this.invisibleRoleList,\r\n        userList: this.invisibleUserList\r\n      });\r\n      this.returnData();\r\n    }\r\n  }\r\n\r\n  returnData() {\r\n    let processRoleSet = {\r\n      orgValue: this.orgValue,\r\n      roleValue: this.roleValue,\r\n      userValue: this.userValue,\r\n      type: this.typeId\r\n    };\r\n    this.$emit(\"input\", processRoleSet);\r\n  }\r\n\r\n  // 获取所有流程类型\r\n  async getAllProcessType() {\r\n    let {\r\n      data: { data, status, message }\r\n    } = await this.$http.get(\r\n      this.typeId.length ? `${api.processManage.getAllProcessTypeWithDelete}${this.typeId}` : api.processManage.getAllProcessType\r\n    );\r\n    if (status) {\r\n      this.typeOptions = data;\r\n    } else {\r\n      this.$message.error(message);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取对应的不可见target数组的数据\r\n   * @param url 请求地址\r\n   * @param targetName 目标数组名称\r\n   * @param propId id对应返回数据的key\r\n   * @param propName name对应返回数据的key\r\n   */\r\n  async getInvisibleDataList(url: string, targetName: string, propId: string, propName: string) {\r\n    let {\r\n      data: { data, status, message }\r\n    } = await this.$http.get(url, {\r\n      params: {\r\n        procdefKey: this.procdefKey\r\n      }\r\n    });\r\n    if (status) {\r\n      (this as any)[targetName] = data.map((i: any) => {\r\n        return {\r\n          id: i[propId],\r\n          name: i[propName]\r\n        };\r\n      });\r\n    } else {\r\n      this.$message.error(message);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取对应的可见target数组的数据\r\n   * @param url 请求地址\r\n   * @param targetName 目标数组名称\r\n   * @param propId id对应返回数据的key\r\n   */\r\n  async getVisibleDataList(url: string, targetName: string, propId: string) {\r\n    let {\r\n      data: { data, status, message }\r\n    } = await this.$http.get(url, {\r\n      params: {\r\n        procdefKey: this.procdefKey\r\n      }\r\n    });\r\n    if (status) {\r\n      (this as any)[targetName] = data.map((i: any) => i[propId]);\r\n    } else {\r\n      this.$message.error(message);\r\n    }\r\n  }\r\n}\r\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoleSet.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoleSet.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RoleSet.vue?vue&type=template&id=0c76e88c&\"\nimport script from \"./RoleSet.vue?vue&type=script&lang=ts&\"\nexport * from \"./RoleSet.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./RoleSet.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"main-body\"},[_c('div',{staticClass:\"inline\"},[_c('div',{staticClass:\"label\"},[_vm._v(\"使用模板：\")]),_c('el-switch',{model:{value:(_vm.useTemp),callback:function ($$v) {_vm.useTemp=$$v},expression:\"useTemp\"}})],1),(_vm.useTemp)?_c('div',{staticClass:\"inline\"},[_c('div',{staticClass:\"label\"},[_vm._v(\"模板选择：\")]),_c('el-select',{staticStyle:{\"width\":\"calc(100% - 100px)\"},attrs:{\"placeholder\":\"请选择\",\"clearable\":\"\",\"size\":\"small\"},on:{\"change\":_vm.handleSelectForm},model:{value:(_vm.formId),callback:function ($$v) {_vm.formId=$$v},expression:\"formId\"}},_vm._l((_vm.formList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.formName,\"value\":item.id}})}),1)],1):_vm._e(),(!_vm.useTemp)?[_c('el-form',{ref:\"form\",staticStyle:{\"width\":\"100%\"},attrs:{\"size\":\"small\",\"model\":_vm.form,\"rules\":_vm.formRules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"表单名称：\",\"prop\":\"formName\"}},[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"请输入\",\"maxlength\":50},model:{value:(_vm.form.formName),callback:function ($$v) {_vm.$set(_vm.form, \"formName\", $$v)},expression:\"form.formName\"}},[_c('el-button',{attrs:{\"slot\":\"append\"},on:{\"click\":_vm.checkFormName},slot:\"append\"},[_vm._v(\"名称验证\")])],1)],1)],1),_c('el-form',{ref:\"optionItemForm\",staticStyle:{\"width\":\"100%\"},attrs:{\"model\":_vm.optionItem,\"size\":\"small\",\"label-width\":\"100px\",\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"项目标题：\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"maxlength\":7,\"placeholder\":\"请输入(不超过7个字符)\"},model:{value:(_vm.optionItem.name),callback:function ($$v) {_vm.$set(_vm.optionItem, \"name\", $$v)},expression:\"optionItem.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"数据项类型：\",\"prop\":\"attrType\"}},[_c('el-select',{staticClass:\"inpW\",attrs:{\"placeholder\":\"请选择\"},on:{\"change\":_vm.typeChange},model:{value:(_vm.optionItem.attrType),callback:function ($$v) {_vm.$set(_vm.optionItem, \"attrType\", $$v)},expression:\"optionItem.attrType\"}},_vm._l((_vm.typeOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),(_vm.optionItem.attrType && _vm.optionItem.attrType !== 'location')?_c('el-form-item',{attrs:{\"label\":\"选项设置：\"}},[(_vm.optionItem.attrType === 'select' || _vm.optionItem.attrType === 'multiSelect')?_c('div',[_vm._l((_vm.optionItem.dataRange.options),function(optionsItem,index){return _c('el-row',{key:index,staticStyle:{\"margin-bottom\":\"6px\"}},[_c('el-col',{attrs:{\"span\":15}},[_c('el-input',{attrs:{\"size\":\"small\",\"maxlength\":100,\"clearable\":\"\"},model:{value:(optionsItem.content),callback:function ($$v) {_vm.$set(optionsItem, \"content\", $$v)},expression:\"optionsItem.content\"}})],1),_c('el-col',{attrs:{\"span\":6}},[_c('el-checkbox',{staticStyle:{\"margin-left\":\"20px\"},on:{\"change\":function($event){return _vm.handleCheck(index)}},model:{value:(optionsItem.defaultChosen),callback:function ($$v) {_vm.$set(optionsItem, \"defaultChosen\", $$v)},expression:\"optionsItem.defaultChosen\"}},[_vm._v(\"默认选中\")])],1),_c('el-col',{attrs:{\"span\":3}},[_c('el-button',{staticStyle:{\"margin-left\":\"20px\"},attrs:{\"size\":\"mini\",\"icon\":\"el-icon-close\",\"circle\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.removeOptionItem(index)}}})],1)],1)}),_c('el-row',[_c('el-button',{staticStyle:{\"float\":\"left\"},attrs:{\"type\":\"text\"},on:{\"click\":_vm.addOptionItem}},[_c('i',{staticClass:\"font_family icon-xinzenglanse\"}),_vm._v(\"\\n              添加选项\\n            \")])],1)],2):(_vm.optionItem.attrType === 'number')?_c('div',[_c('el-row',[_c('el-input-number',{attrs:{\"precision\":2,\"placeholder\":\"最小值\",\"max\":_vm.optionItem.dataRange.numMax},model:{value:(_vm.optionItem.dataRange.numMin),callback:function ($$v) {_vm.$set(_vm.optionItem.dataRange, \"numMin\", $$v)},expression:\"optionItem.dataRange.numMin\"}}),_c('span',[_vm._v(\"  至  \")]),_c('el-input-number',{attrs:{\"precision\":2,\"placeholder\":\"最大值\",\"min\":_vm.optionItem.dataRange.numMin},model:{value:(_vm.optionItem.dataRange.numMax),callback:function ($$v) {_vm.$set(_vm.optionItem.dataRange, \"numMax\", $$v)},expression:\"optionItem.dataRange.numMax\"}})],1)],1):(_vm.optionItem.attrType === 'image')?_c('div',[_c('el-row',[_c('span',[_vm._v(\"最大张数  \")]),_c('el-input-number',{attrs:{\"precision\":0,\"min\":1,\"max\":9,\"placeholder\":\"最大张数\"},model:{value:(_vm.optionItem.dataRange.imgMaxNum),callback:function ($$v) {_vm.$set(_vm.optionItem.dataRange, \"imgMaxNum\", $$v)},expression:\"optionItem.dataRange.imgMaxNum\"}})],1)],1):(_vm.optionItem.attrType === 'text' || _vm.optionItem.attrType === 'textarea')?_c('div',[_c('el-row',[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"预设文本\",\"maxlength\":300,\"clearable\":\"\"},model:{value:(_vm.optionItem.dataRange.presetText),callback:function ($$v) {_vm.$set(_vm.optionItem.dataRange, \"presetText\", $$v)},expression:\"optionItem.dataRange.presetText\"}})],1)],1):(_vm.optionItem.attrType === 'location')?_c('div',[_c('el-row',[_c('el-input',{staticStyle:{\"width\":\"100%\"},attrs:{\"size\":\"small\",\"placeholder\":\"定位地址\",\"disabled\":\"\"},model:{value:(_vm.optionItem.dataRange.position),callback:function ($$v) {_vm.$set(_vm.optionItem.dataRange, \"position\", $$v)},expression:\"optionItem.dataRange.position\"}})],1)],1):_vm._e()]):_vm._e(),(_vm.optionItem.attrType === 'number')?_c('el-form-item',{attrs:{\"label\":\"数值单位：\"}},[_c('el-input',{attrs:{\"maxlength\":10,\"clearable\":\"\"},model:{value:(_vm.optionItem.dataRange.unit),callback:function ($$v) {_vm.$set(_vm.optionItem.dataRange, \"unit\", $$v)},expression:\"optionItem.dataRange.unit\"}})],1):_vm._e(),_c('el-form-item',{staticStyle:{\"text-align\":\"right\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\",\"size\":\"small\"},on:{\"click\":_vm.handleAddItem}},[_vm._v(\"\\n          添加\\n        \")])],1)],1)]:_vm._e(),_c('div',{staticClass:\"hr\"}),_c('q-custom-input',{attrs:{\"custom-options\":_vm.form.formItems,\"disabled\":\"\",\"closable\":!_vm.useTemp,\"line-size\":1,\"size\":\"mini\"}})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n/**\r\n * @Description: -\r\n * @Author: -\r\n * @Date: -\r\n **/\r\n\r\nimport { Vue, Component, Prop, Watch } from \"vue-property-decorator\";\r\nimport api from \"@/microApps/processManage/api\";\r\nimport { ElForm } from \"element-ui/types/form\";\r\n\r\n@Component({})\r\nexport default class FormDesign extends Vue {\r\n  @Prop({ type: String, required: true })\r\n  procdefKey!: string;\r\n\r\n  useTemp: boolean = false; // 是否使用模板\r\n  loading: boolean = true; // 是否使用模板\r\n  searchFormName: string = \"\";\r\n  formList: any[] = []; // 所有表单列表\r\n  formId: string = \"\"; // 选中模板表单id\r\n  form: { id?: string; formName: string; formNameStatus: boolean; formItems: any[]; formDef?: any } = {\r\n    formName: \"\",\r\n    formItems: [],\r\n    formNameStatus: false // 名称检查状态\r\n  };\r\n  formRules: any = {\r\n    formName: { required: true, message: \"请输入表单名称\", trigger: \"blur\" }\r\n  };\r\n  rules: any = {\r\n    name: [\r\n      {\r\n        required: true,\r\n        message: \"请输入项目标题\",\r\n        trigger: \"blur\"\r\n      },\r\n      {\r\n        validator: (rule: any, value: any, callback: any) => {\r\n          if (this.form.formItems.some((d: any) => d.name === value)) {\r\n            return callback(new Error(\"项目标题不要重复\"));\r\n          }\r\n          callback();\r\n        },\r\n        trigger: \"blur\"\r\n      }\r\n    ]\r\n  };\r\n  typeOptions: Array<any> = [\r\n    {\r\n      value: \"select\",\r\n      label: \"单项选择\"\r\n    },\r\n    {\r\n      value: \"multiSelect\",\r\n      label: \"多项选择\"\r\n    },\r\n    {\r\n      value: \"number\",\r\n      label: \"数值\"\r\n    },\r\n    {\r\n      value: \"image\",\r\n      label: \"图片\"\r\n    },\r\n    {\r\n      value: \"text\",\r\n      label: \"文本\"\r\n    },\r\n    {\r\n      value: \"textarea\",\r\n      label: \"多行文本\"\r\n    },\r\n    {\r\n      value: \"location\",\r\n      label: \"定位\"\r\n    },\r\n    {\r\n      value: \"link\",\r\n      label: \"网页链接\"\r\n    }\r\n  ];\r\n\r\n  optionItem: any = {\r\n    name: \"\",\r\n    attrType: \"\",\r\n    value: \"\",\r\n    dataRange: {\r\n      options: [],\r\n      multiSelectedItems: []\r\n    }\r\n  };\r\n\r\n  created() {\r\n    this.getAllFormList().then(() => {\r\n      this.getFormByProcess().finally(() => (this.loading = false));\r\n    });\r\n  }\r\n  // 获取流程对应表单\r\n  async getFormByProcess() {\r\n    let {\r\n      data: { data, status, message }\r\n    } = await this.$http.get(api.processManage.getProcdefByKey, {\r\n      params: {\r\n        procdefKey: this.procdefKey\r\n      }\r\n    });\r\n    if (status && data.formId) {\r\n      this.formId = data.formId;\r\n      this.useTemp = true;\r\n    } else {\r\n      this.useTemp = false;\r\n    }\r\n  }\r\n  // 获取所有表单\r\n  async getAllFormList() {\r\n    let {\r\n      data: { data, status, message }\r\n    } = await this.$http.get(api.formManage.getFormList, {\r\n      params: {\r\n        formName: this.searchFormName,\r\n        size: 999999,\r\n        current: 1\r\n      }\r\n    });\r\n    if (status) {\r\n      this.formList = data.records;\r\n      this.$emit(\"data-load\", this.formList);\r\n    } else {\r\n      this.$message.error(message);\r\n    }\r\n  }\r\n  // 选择对应表单\r\n  handleSelectForm(id: string) {\r\n    this.form = this.formList.filter((i: any) => i.id === id)[0];\r\n    this.form.formNameStatus = true;\r\n    this.form.formItems = JSON.parse(this.form.formDef);\r\n  }\r\n  // 检查表单名称\r\n  async checkFormName() {\r\n    let {\r\n      data: { data, status, message }\r\n    } = await this.$http.get(api.formManage.checkFormName, {\r\n      params: {\r\n        formName: this.form.formName\r\n      }\r\n    });\r\n    if (status) {\r\n      if (!data) {\r\n        this.form.formNameStatus = false;\r\n        this.$message.warning(\"表单名称已使用\");\r\n      } else {\r\n        this.form.formNameStatus = true;\r\n        this.$message.success(\"表单名称可用\");\r\n      }\r\n    } else {\r\n      this.$message.error(message);\r\n    }\r\n  }\r\n  // 数据项类型修改\r\n  typeChange() {\r\n    if (this.optionItem.attrType === \"select\" || this.optionItem.attrType === \"multiSelect\") {\r\n      this.optionItem.dataRange.options = [];\r\n      this.optionItem.dataRange.multiSelectedItems = [];\r\n    } else if (this.optionItem.attrType === \"number\") {\r\n      this.$set(this.optionItem.dataRange, \"numMin\", 0);\r\n      this.$set(this.optionItem.dataRange, \"numMax\", 10);\r\n      this.$set(this.optionItem.dataRange, \"unit\", \"\");\r\n    } else if (this.optionItem.attrType === \"text\") {\r\n      this.$set(this.optionItem.dataRange, \"presetText\", \"\");\r\n    } else if (this.optionItem.attrType === \"image\") {\r\n      this.$set(this.optionItem.dataRange, \"imgMaxNum\", 1);\r\n    }\r\n  }\r\n  // 设置默认选项\r\n  handleCheck(index: number) {\r\n    if (this.optionItem.dataRange.options[index].defaultChosen && this.optionItem.attrType === \"select\") {\r\n      for (let i in this.optionItem.dataRange.options) {\r\n        this.optionItem.dataRange.options[i].defaultChosen = false;\r\n      }\r\n      this.optionItem.dataRange.options[index].defaultChosen = true;\r\n    }\r\n  }\r\n  // 移除某项选项\r\n  removeOptionItem(index: number) {\r\n    this.optionItem.dataRange.options.splice(index, 1);\r\n  }\r\n  // 添加某个选项\r\n  addOptionItem() {\r\n    if (this.optionItem.attrType === \"select\" || this.optionItem.attrType === \"multiSelect\") {\r\n      this.optionItem.dataRange.options.push({\r\n        content: \"\",\r\n        defaultChosen: false\r\n      });\r\n    } else {\r\n      this.optionItem.dataRange.options.push({});\r\n    }\r\n  }\r\n  // 添加一项表单项\r\n  handleAddItem() {\r\n    (this.$refs[\"optionItemForm\"] as ElForm).validate((valid: boolean) => {\r\n      if (valid) {\r\n        (this.$refs[\"optionItemForm\"] as ElForm).clearValidate();\r\n        this.form.formItems.push(JSON.parse(JSON.stringify(this.optionItem)));\r\n        this.optionItem = {\r\n          name: \"\",\r\n          attrType: \"\",\r\n          value: \"\",\r\n          dataRange: {\r\n            options: [],\r\n            multiSelectedItems: []\r\n          }\r\n        };\r\n        this.returnData();\r\n      } else {\r\n        return;\r\n      }\r\n    });\r\n  }\r\n\r\n  returnData() {\r\n    this.$emit(\"input\", {\r\n      mode: this.useTemp,\r\n      form: this.form\r\n    });\r\n  }\r\n\r\n  @Watch(\"useTemp\", { immediate: true })\r\n  handleChangeTemp(val: boolean) {\r\n    if (val) {\r\n      if (this.formId) this.handleSelectForm(this.formId);\r\n    } else {\r\n      this.form = { formName: \"\", formItems: [], formNameStatus: false };\r\n    }\r\n    this.returnData();\r\n  }\r\n  @Watch(\"form\", { deep: true })\r\n  handleChangeForm() {\r\n    this.returnData();\r\n  }\r\n  // 保存新增表单\r\n  async save(callback: any) {\r\n    try {\r\n      if (!this.form.formName) {\r\n        this.$message.error(\"请输入表单名称\");\r\n        return callback();\r\n      }\r\n      if (!this.form.formItems.length) {\r\n        this.$message.error(\"请添加项目\");\r\n        return callback();\r\n      }\r\n      if (!this.form.formNameStatus) {\r\n        this.$message.error(\"请先验证名称是否可用\");\r\n        return callback();\r\n      }\r\n      let {\r\n        data: { data, status, message }\r\n      } = await this.$http.post(api.formManage.insertFormDefine, {\r\n        formName: this.form.formName,\r\n        formDef: JSON.stringify(this.form.formItems)\r\n      });\r\n      if (status) {\r\n        callback(data);\r\n      } else {\r\n        this.$message.error(message);\r\n        callback();\r\n      }\r\n    } catch (e) {\r\n      callback();\r\n    }\r\n  }\r\n}\r\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormDesign.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormDesign.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FormDesign.vue?vue&type=template&id=4513f13a&scoped=true&\"\nimport script from \"./FormDesign.vue?vue&type=script&lang=ts&\"\nexport * from \"./FormDesign.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FormDesign.vue?vue&type=style&index=0&id=4513f13a&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4513f13a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"main-body\"},[_vm._m(0),_c('div',{staticStyle:{\"margin\":\"20px 0\",\"box-sizing\":\"border-box\"},style:({ height: (((_vm.assignList.length + 1) * 53) + \"px\") })},[_c('el-table',{attrs:{\"data\":_vm.assignList,\"size\":\"mini\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"property\":\"userTask.name\",\"label\":\"任务名\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"指派人\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-select',{attrs:{\"size\":\"mini\",\"filterable\":\"\",\"clearable\":\"\",\"reserve-keyword\":\"\",\"multiple\":\"\",\"placeholder\":\"请输入姓名\"},model:{value:(scope.row.userIds),callback:function ($$v) {_vm.$set(scope.row, \"userIds\", $$v)},expression:\"scope.row.userIds\"}},_vm._l((_vm.invisibleUserList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1)]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"指派组\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-select',{attrs:{\"size\":\"mini\",\"reserve-keyword\":\"\",\"clearable\":\"\",\"filterable\":\"\",\"multiple\":\"\",\"placeholder\":\"请输入组织名\"},on:{\"change\":function($event){return _vm.$forceUpdate()}},model:{value:(scope.row.orgIds),callback:function ($$v) {_vm.$set(scope.row, \"orgIds\", $$v)},expression:\"scope.row.orgIds\"}},_vm._l((_vm.invisibleOrgList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1)]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"指派角色\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-select',{attrs:{\"size\":\"mini\",\"filterable\":\"\",\"clearable\":\"\",\"multiple\":\"\",\"placeholder\":\"请选择\"},model:{value:(scope.row.roleIds),callback:function ($$v) {_vm.$set(scope.row, \"roleIds\", $$v)},expression:\"scope.row.roleIds\"}},_vm._l((_vm.invisibleRoleList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1)]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"指派表单\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-select',{attrs:{\"size\":\"small\",\"clearable\":\"\",\"filterable\":\"\",\"placeholder\":\"请选择\"},model:{value:(scope.row.formId),callback:function ($$v) {_vm.$set(scope.row, \"formId\", $$v)},expression:\"scope.row.formId\"}},_vm._l((_vm.formList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.formName,\"value\":item.id}})}),1)]}}])})],1)],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tip-bar\"},[_c('i',{staticClass:\"el-icon-info\",staticStyle:{\"color\":\"#fadb14\"}}),_vm._v(\"每个任务节点必须指派！\")])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n/**\r\n * @Description: -\r\n * @Author: -\r\n * @Date: -\r\n **/\r\n\r\nimport { Vue, Component, Prop } from \"vue-property-decorator\";\r\nimport api from \"@/microApps/processManage/api\";\r\n\r\n@Component({})\r\nexport default class TaskAssignment extends Vue {\r\n  @Prop({ type: String, required: true })\r\n  procdefId!: string;\r\n  @Prop({ type: String, required: true })\r\n  procdefKey!: string;\r\n  @Prop({ type: Object, required: true })\r\n  dataList!: any;\r\n\r\n  loading: boolean = true;\r\n  assignList: any[] = [];\r\n  formList: any[] = [];\r\n  invisibleOrgList: any[] = []; // 不可见组织\r\n  invisibleRoleList: any[] = []; // 不可见角色\r\n  invisibleUserList: any[] = []; // 不可见用户\r\n\r\n  created() {\r\n    if (this.dataList) {\r\n      // 判断传入数据是否有组织列表数据\r\n      if (this.dataList.invisibleOrgList) {\r\n        this.invisibleOrgList = this.dataList.invisibleOrgList;\r\n      } else {\r\n        this.getInvisibleDataList(api.processManage.getAllOrg, \"invisibleOrgList\", \"orgId\", \"orgName\");\r\n      }\r\n      // 判断传入数据是否有角色列表数据\r\n      if (this.dataList.invisibleRoleList) {\r\n        this.invisibleRoleList = this.dataList.invisibleRoleList;\r\n      } else {\r\n        this.getInvisibleDataList(api.processManage.getAllRole, \"invisibleRoleList\", \"roleId\", \"roleName\");\r\n      }\r\n      // 判断传入数据是否有人员列表数据\r\n      if (this.dataList.invisibleUserList) {\r\n        this.invisibleUserList = this.dataList.invisibleUserList;\r\n      } else {\r\n        this.getInvisibleDataList(api.processManage.getAllUser, \"invisibleUserList\", \"userId\", \"userName\");\r\n      }\r\n      // 判断传入数据是否有表单列表数据\r\n      if (this.dataList.processFormList) {\r\n        this.formList = this.dataList.processFormList;\r\n      } else {\r\n        this.getAllFormList();\r\n      }\r\n      this.getAssignTaskList().then(() => (this.loading = false));\r\n    } else {\r\n      this.loadData();\r\n    }\r\n  }\r\n\r\n  async loadData() {\r\n    try {\r\n      await Promise.all([\r\n        this.getInvisibleDataList(api.processManage.getAllOrg, \"invisibleOrgList\", \"orgId\", \"orgName\"),\r\n        this.getInvisibleDataList(api.processManage.getAllRole, \"invisibleRoleList\", \"roleId\", \"roleName\"),\r\n        this.getInvisibleDataList(api.processManage.getAllUser, \"invisibleUserList\", \"userId\", \"userName\"),\r\n        this.getAllFormList(),\r\n        this.getAssignTaskList()\r\n      ]);\r\n    } finally {\r\n      this.loading = false;\r\n    }\r\n  }\r\n  // 获取任务节点\r\n  async getAssignTaskList() {\r\n    let {\r\n      data: { data, status, message }\r\n    } = await this.$http.get(api.processManage.getAssignTaskList, {\r\n      params: {\r\n        processDefineId: this.procdefId\r\n      }\r\n    });\r\n    if (status) {\r\n      data.shift();\r\n      this.assignList = data;\r\n    } else {\r\n      this.$message.error(message);\r\n    }\r\n  }\r\n  // 获取所有表单\r\n  async getAllFormList() {\r\n    let {\r\n      data: { data, status, message }\r\n    } = await this.$http.get(api.formManage.getFormList, {\r\n      params: {\r\n        size: 999999,\r\n        current: 1\r\n      }\r\n    });\r\n    if (status) {\r\n      this.formList = data.records;\r\n      this.$emit(\"data-load\", this.formList);\r\n    } else {\r\n      this.$message.error(message);\r\n    }\r\n  }\r\n  /**\r\n   * 获取对应的不可见target数组的数据\r\n   * @param url 请求地址\r\n   * @param targetName 目标数组名称\r\n   * @param propId id对应返回数据的key\r\n   * @param propName name对应返回数据的key\r\n   */\r\n  async getInvisibleDataList(url: string, targetName: string, propId: string, propName: string) {\r\n    let {\r\n      data: { data, status, message }\r\n    } = await this.$http.get(url, {\r\n      params: {\r\n        procdefKey: this.procdefKey\r\n      }\r\n    });\r\n    if (status) {\r\n      (this as any)[targetName] = data.map((i: any) => {\r\n        return {\r\n          id: i[propId],\r\n          name: i[propName]\r\n        };\r\n      });\r\n    } else {\r\n      this.$message.error(message);\r\n    }\r\n  }\r\n\r\n  // 指派流程的各个节点信息\r\n  async saveUserTaskDesignator() {\r\n    let status: boolean = true;\r\n    return new Promise(async (resolve, reject) => {\r\n      try {\r\n        let requestBody: any[] = await this.checkUserTaskDesign();\r\n        if (requestBody.every((item: any) => item.status)) {\r\n          // 保存指派信息\r\n          let {\r\n            data: { status }\r\n          } = await this.$http.post(api.processManage.saveUserTaskDesignator, requestBody);\r\n          if (status) {\r\n            // 修改流程状态\r\n            this.$http\r\n              .get(api.processManage.updateProcessStatus, {\r\n                params: {\r\n                  procdefKey: this.procdefKey,\r\n                  status: 1\r\n                }\r\n              })\r\n              .then((res: any) => {\r\n                if (res.data.status) {\r\n                  this.$message.success(\"发布成功\");\r\n                  resolve({ status: true });\r\n                } else {\r\n                  this.$message.error(res.data.message);\r\n                  status = false;\r\n                  reject({ status: false });\r\n                }\r\n              });\r\n          } else {\r\n            reject({ status: false });\r\n          }\r\n        } else {\r\n          this.$message.error(\"节点指派不能为空\");\r\n          status = false;\r\n          reject({ status: false });\r\n        }\r\n        return status;\r\n      } catch (e) {\r\n        reject({ status: false });\r\n      }\r\n    });\r\n  }\r\n\r\n  async checkUserTaskDesign() {\r\n    let requestBody: any = this.assignList.map((item: any) => {\r\n      if (item.userIds.length || item.roleIds.length || item.orgIds.length) {\r\n        return {\r\n          status: true,\r\n          formId: item.formId,\r\n          processDefineId: this.procdefId,\r\n          userTaskId: item.userTask.id,\r\n          personIds: item.userIds,\r\n          roleIds: item.roleIds,\r\n          orgIds: item.orgIds,\r\n          assignedGroupId: item.userTask.candidateGroups[0],\r\n          collectionType: \"UNION\" //目前只有并集\r\n        };\r\n      } else {\r\n        return {\r\n          status: false\r\n        };\r\n      }\r\n    });\r\n    return requestBody;\r\n  }\r\n}\r\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskAssignment.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskAssignment.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TaskAssignment.vue?vue&type=template&id=1968a3c0&scoped=true&\"\nimport script from \"./TaskAssignment.vue?vue&type=script&lang=ts&\"\nexport * from \"./TaskAssignment.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./TaskAssignment.vue?vue&type=style&index=0&id=1968a3c0&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1968a3c0\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n/**\r\n * @Description: -\r\n * @Author: -\r\n * @Date: -\r\n **/\r\n\r\nimport { Vue, Component } from \"vue-property-decorator\";\r\nimport api from \"@/microApps/processManage/api\";\r\nimport cookieUtils from \"@/utils/cookie\";\r\nimport FlowChartDesign from \"@/microApps/processManage/views/processManage/editComponents/FlowChartDesign.vue\";\r\nimport RoleSet from \"@/microApps/processManage/views/processManage/editComponents/RoleSet.vue\";\r\nimport FormDesign from \"@/microApps/processManage/views/processManage/editComponents/FormDesign.vue\";\r\nimport TaskAssignment from \"@/microApps/processManage/views/processManage/editComponents/TaskAssignment.vue\";\r\n\r\n@Component({\r\n  components: { TaskAssignment, FormDesign, RoleSet, FlowChartDesign }\r\n})\r\nexport default class ProcessEditStep extends Vue {\r\n  currentData: any = null; // 传入流程信息\r\n  typeId: string = \"\";\r\n  state: 0 | 1 | 2 | 3 = 0; // 步骤码\r\n\r\n  someRequestData: { [key: string]: any[] } = {\r\n    invisibleOrgList: [], // 所有组织列表\r\n    invisibleRoleList: [], // 所有角色列表\r\n    invisibleUserList: [], // 所有用户列表\r\n    processFormList: [] // 所有流程表单\r\n  };\r\n  processRoleSet: any = null; // 权限设置部分 组件绑定信息\r\n  processFormSet: any = null; // 表单管理部分 组件绑定信息\r\n\r\n  created() {\r\n    this.currentData = this.$route.query.item ? JSON.parse(this.$route.query.item + \"\") : {};\r\n    this.typeId = JSON.stringify(this.currentData) !== \"{}\" ? this.currentData.typeId : \"\";\r\n  }\r\n  // 下一步\r\n  async handleNext() {\r\n    if (this.state === 0) {\r\n      this.state++;\r\n      return true;\r\n    }\r\n    if (this.state === 1) {\r\n      try {\r\n        await Promise.all([\r\n          this.saveProcessRole(api.processManage.saveProcessVisibleOrg, this.processRoleSet.orgValue, \"可见组织\"),\r\n          this.saveProcessRole(api.processManage.saveProcessVisibleRole, this.processRoleSet.roleValue, \"可见角色\"),\r\n          this.saveProcessRole(api.processManage.saveProcessVisibleUser, this.processRoleSet.userValue, \"可见用户\"),\r\n          this.saveProcessType()\r\n        ]);\r\n        this.state++;\r\n        return true;\r\n      } catch (e) {\r\n        return false;\r\n      }\r\n    }\r\n    if (this.state === 2) {\r\n      this.saveProcessForm().then(() => {\r\n        this.state++;\r\n        return;\r\n      });\r\n    }\r\n    if (this.state === 3) {\r\n      console.log(this.processFormSet);\r\n    }\r\n  }\r\n\r\n  // 流程图设计完成\r\n  flowChartSaved(data: any) {\r\n    this.currentData = data;\r\n    this.handleNext();\r\n  }\r\n  /**\r\n   * 保存权限设置部分数据\r\n   * @param url 对应保存地址\r\n   * @param value 对应id数组\r\n   * @param messageType 对应数据项名称\r\n   */\r\n  async saveProcessRole(url: string, value: any, messageType: string) {\r\n    let {\r\n      data: { data, status, message }\r\n    } = await this.$http.post(url, {\r\n      procdefKey: this.currentData.procdefKey,\r\n      ids: value\r\n    });\r\n    if (status) {\r\n      return true;\r\n    } else {\r\n      this.$message.warning(messageType + \"保存失败，错误原因：\" + message);\r\n    }\r\n  }\r\n  // 保存请求 组织、角色、用户 列表数据\r\n  saveProcessRoleList(data: any) {\r\n    this.someRequestData.invisibleOrgList = data.orgList;\r\n    this.someRequestData.invisibleRoleList = data.roleList;\r\n    this.someRequestData.invisibleUserList = data.userList;\r\n  }\r\n  // 保存流程类型\r\n  async saveProcessType() {\r\n    let {\r\n      data: { data, status, message }\r\n    } = await this.$http.post(api.processManage.updateProcessType, {\r\n      id: this.currentData.id,\r\n      typeId: this.processRoleSet.type\r\n    });\r\n    if (status) {\r\n      this.typeId = this.processRoleSet.type;\r\n      return true;\r\n    } else {\r\n      this.$message.error(\"流程类型保存失败，错误原因：\" + message);\r\n    }\r\n  }\r\n  // 保存请求的 表单 列表数据\r\n  saveProcessFormList(data: any) {\r\n    this.someRequestData.processFormList = data;\r\n  }\r\n  // 判断是否使用表单模板\r\n  async saveProcessForm() {\r\n    return new Promise((resolve, reject) => {\r\n      if (this.processFormSet.mode) {\r\n        resolve(this.saveFormById());\r\n      } else {\r\n        (this.$refs.formDesign as any).save(async (formId: string) => {\r\n          if (formId) {\r\n            resolve(await this.saveFormById(formId));\r\n          } else {\r\n            reject();\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n  // 保存表单流程对应关系\r\n  async saveFormById(id?: string) {\r\n    let {\r\n      data: { data, status, message }\r\n    } = await this.$http.post(api.processManage.saveProcessForm, {\r\n      procdefKey: this.currentData.procdefKey,\r\n      formId: id ? id : this.processFormSet.form.id\r\n    });\r\n    if (status) {\r\n      return true;\r\n    } else {\r\n      this.$message.error(message);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // 发布流程\r\n  async handleRelease() {\r\n    let { status } = await (this.$refs.assignment as any).saveUserTaskDesignator();\r\n    if (status) {\r\n      this.$router.back();\r\n    }\r\n  }\r\n\r\n  handlePrev() {\r\n    this.state--;\r\n  }\r\n  handleCancel() {\r\n    this.$confirm(\"流程未编辑完成，直接返回会导致流程无法使用，是否返回？\", \"提示\", {\r\n      distinguishCancelAndClose: true,\r\n      confirmButtonText: \"确定\",\r\n      cancelButtonText: \"取消\",\r\n      type: \"warning\"\r\n    }).then(() => {\r\n      this.$router.back();\r\n    });\r\n  }\r\n}\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProcessEditStep.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProcessEditStep.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ProcessEditStep.vue?vue&type=template&id=e9fc86f8&scoped=true&\"\nimport script from \"./ProcessEditStep.vue?vue&type=script&lang=ts&\"\nexport * from \"./ProcessEditStep.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ProcessEditStep.vue?vue&type=style&index=0&id=e9fc86f8&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e9fc86f8\",\n  null\n  \n)\n\nexport default component.exports","const api = {\r\n  formManage: {\r\n    getFormList: \"/admin/formdesigner/getFormList\",\r\n    delFormDefine: \"/admin/formdesigner/delFormDefine\",\r\n    getEventType: \"/api/eventType/getEventType\",\r\n    checkFormName: \"/admin/formdesigner/checkFormName\",\r\n    updateFormDefine: \"/admin/formdesigner/updateFormDefine\",\r\n    insertFormDefine: \"/admin/formdesigner/insertFormDefine\",\r\n    getFormDefine: \"/admin/formdesigner/getFormDefine\"\r\n  },\r\n  processManage: {\r\n    getAllProcessType: \"/admin/processType/procdeftype/findAll\",\r\n    getAllProcessTypePaging: \"/admin/processType/paging\", // 分类管理分页查询接口\r\n    getPageProcess: \"/admin/processDesigner/manager/process/pagingProcessDefineInfo\", //\r\n    deleteProcdefInfo: \"/admin/processDesigner/manager/process/deleteProcdefInfo\",\r\n    addProcessType: \"/admin/processType/procdeftype/insert\",\r\n    deleteProcessType: \"/admin/processType/procdeftype/delete/\",\r\n\r\n    saveProcessFile: \"/admin/processDesigner/manager/file/saveProcessFile\",\r\n    uploadProcessFile: \"/admin/processDesigner/manager/file/uploadProcessFile\",\r\n    getAllProcess: \"/admin/processDesigner/manager/process/getAllProcess\",\r\n    updateProcessType: \"/admin/processDesigner/manager/process/updateProcessType\",\r\n    getProcdefById: \"/admin/processDesigner/manager/process/getProcdefById\",\r\n    getAllOrg: \"/admin/processDesigner/public/visible/getAllOrg\",\r\n    getAllRole: \"/admin/processDesigner/public/visible/getAllRole\",\r\n    getAllUser: \"/admin/processDesigner/public/visible/getAllUser\",\r\n    getProcessVisibleOrg: \"/admin/processDesigner/manager/visible/getProcessVisibleOrg\",\r\n    getProcessVisibleRole: \"/admin/processDesigner/manager/visible/getProcessVisibleRole\",\r\n    getProcessVisiblePerson: \"/admin/processDesigner/manager/visible/getProcessVisiblePerson\",\r\n    saveProcessVisibleOrg: \"/admin/processDesigner/manager/visible/saveProcessVisibleOrg\",\r\n    saveProcessVisibleRole: \"/admin/processDesigner/manager/visible/saveProcessVisibleRole\",\r\n    saveProcessVisibleUser: \"/admin/processDesigner/manager/visible/saveProcessVisibleUser\",\r\n    saveProcessForm: \"/admin/processDesigner/manager/processForm/save\",\r\n    getAssignTaskList: \"/admin/processDesigner/public/process/getAssignTaskList\",\r\n    saveUserTaskDesignator: \"/admin/processDesigner/manager/process/saveUserTaskDesignator\",\r\n    getProcdefByKey: \"/admin/processDesigner/public/processForm/getProcdefByKey\",\r\n    getProcessImage: \"/admin/processDesigner/manager/file/getProcessImage\",\r\n    downloadProcessFile: \"/admin/processDesigner/manager/file/downloadProcessFile\",\r\n    updateProcessStatus: \"/admin/processDesigner/manager/process/updateProcessStatus\",\r\n    getAllProcessTypeWithDelete: \"/admin/processType/procdeftype/findAllDelete/\"\r\n  }\r\n};\r\nexport default api;\r\n"],"sourceRoot":""}