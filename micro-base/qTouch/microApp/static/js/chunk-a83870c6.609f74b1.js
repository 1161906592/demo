(window["webpackJsonpmicro_name_"]=window["webpackJsonpmicro_name_"]||[]).push([["chunk-a83870c6"],{"11b7":function(t,e,a){},"35ba":function(t,e,a){"use strict";var n=a("11b7"),s=a.n(n);s.a},5384:function(t,e,a){"use strict";e["a"]={getAppApplyList:"/admin/openApp/manage/list",getAppList:"/admin/openApp/manage/showList",appDetail:"/admin/openApp/manage/showApp",appPass:"/admin/openApp/manage/pass",appReject:"/admin/openApp/manage/reject",appCancel:"/admin/openApp/manage/cancel",appCreate:"/admin/openApp/manage/createApp",appUpdate:"/admin/openApp/manage/updateApp",appSecretRefresh:"/admin/openApp/manage/refreshSecret",getQualificationData:"/admin/devQualification/getByTenant",cancelQualification:"/admin/devQualification/cancelAudit",saveQualification:"/admin/devQualification/save",submitQualification:"/admin/devQualification/submit",editQualification:"/admin/devQualification/update",getAllQualificationList:"/admin/devQualificationAudit/paging",agreeQualificationApply:"/admin/devQualificationAudit/passAudit",refusequalificationApply:"/admin/devQualificationAudit/rejectAudit",createAccessTeam:"/admin/openApp/authTenant/accessTeam",cancelAccessTeam:"/admin/openApp/authTenant/cancle",createGenerateCode:"/admin/openApp/authTenant/generateCode",passAccessTeam:"/admin/openApp/authTenant/pass",rejectAccessTeam:"/admin/openApp/authTenant/reject",showAccessDetail:"/admin/openApp/authTenant/showDetail",getApplyList:"/admin/openApp/authTenant/showList",checkAuthorizationCode:"/admin/openApp/authTenant/testCode",getDataType:"/admin/openApp/authTenant/getDataType",getAccessTeamList:"/admin/openApp/authTenant/freshAuthTenantInfo"}},"96a1":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-container"},[a("div",{staticClass:"search-header"},[a("el-form",{attrs:{size:"small",inline:""}},[a("el-form-item",{attrs:{label:"轻应用名称："}},[a("el-input",{model:{value:t.searchTDO.query.appName,callback:function(e){t.$set(t.searchTDO.query,"appName",e)},expression:"searchTDO.query.appName"}})],1),a("el-form-item",{attrs:{label:"审批状态："}},[a("el-select",{attrs:{size:"small",placeholder:"请选择",clearable:""},model:{value:t.searchTDO.query.status,callback:function(e){t.$set(t.searchTDO.query,"status",e)},expression:"searchTDO.query.status"}},[a("el-option",{attrs:{label:"待审批",value:1}}),a("el-option",{attrs:{label:"已通过",value:2}}),a("el-option",{attrs:{label:"已拒绝",value:3}})],1)],1),a("el-form-item",{attrs:{"label-width":"0px"}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.getAppApplyList(!0)}}},[t._v("查询")])],1)],1)],1),a("div",{staticClass:"container"},[a("div",{staticClass:"table-body"},t._l(t.appList,(function(e){return a("div",{key:e.id,staticClass:"body-box"},[a("div",{staticClass:"name"},[t._v(t._s(e.appName))]),a("div",{staticClass:"state-line"},[a("div",{staticClass:"types"},[t._v("\n            终端类型：\n            "),a("div",{staticStyle:{width:"calc(100% - 80px)"}},[t._v(t._s(e.type?e.type.map((function(t){return t.terminalType+"应用"})).join("、"):""))])]),a("span",{staticClass:"domain-name",attrs:{title:e.secureDomainName}},[t._v("安全域名："+t._s(e.secureDomainName))]),a("div",{staticClass:"status"},[0===e.authStatus?a("div",{staticClass:"status-btn",staticStyle:{float:"right","border-color":"#909399",color:"#909399"}},[t._v("未认证")]):1===e.authStatus?a("div",{staticClass:"status-btn",staticStyle:{float:"right","border-color":"#409EFF",color:"#409EFF"}},[t._v("待审核")]):2===e.authStatus?a("div",{staticClass:"status-btn",staticStyle:{float:"right","border-color":"#67C23A",color:"#67C23A"}},[t._v("已通过")]):3===e.authStatus?a("div",{staticClass:"status-btn",staticStyle:{float:"right","border-color":"#F56C6C",color:"#F56C6C"}},[t._v("已拒绝")]):t._e()]),a("div",{staticClass:"state-btn"},[1===e.authStatus?[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.passTheAppApply(e)}}},[a("i",{staticClass:"el-icon-circle-check"}),t._v("\n                通过\n              ")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.rejectTheAppApply(e)}}},[a("i",{staticClass:"el-icon-circle-close"}),t._v("\n                拒绝\n              ")])]:3===e.authStatus?a("div",{staticClass:"reson",on:{click:function(t){e.isShow=!0}}},[t._v("查看原因")]):a("div",[t._v("-")])],2),a("div",{staticClass:"tool",class:{rotate:e.isShow},on:{click:function(t){e.isShow=!e.isShow}}},[a("i",{staticClass:"el-icon-arrow-down"})])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"item.isShow"}],staticClass:"more-info"},[t._l(e.type,(function(e,n){return a("div",{key:n,staticClass:"info"},["H5"===e.terminalType?a("span",{staticClass:"info-title"},[t._v("H5应用入口：")]):t._e(),"WEB"===e.terminalType?a("span",{staticClass:"info-title"},[t._v("Web应用入口：")]):t._e(),"IOS"===e.terminalType?a("span",{staticClass:"info-title"},[t._v("iOS应用Scheme：")]):t._e(),"ANDROID"===e.terminalType?a("span",{staticClass:"info-title"},[t._v("Android应用Scheme：")]):t._e(),a("span",{staticClass:"info-content"},[t._v(t._s(e.terminalEntrance))]),e.openMode&&"WEB"===e.terminalType?a("div",{staticClass:"open-mode"},[t._v("\n              打开方式："+t._s("WINDOW"===e.openMode?"新标签页":"嵌入式")+"\n            ")]):t._e()])})),a("div",{staticClass:"info"},[a("span",{staticClass:"info-title"},[t._v("轻应用简介：")]),a("span",{staticClass:"info-content"},[t._v(t._s(e.note))])]),3===e.authStatus?a("div",{staticClass:"info"},[a("span",{staticClass:"info-title"},[t._v("拒绝原因：")]),a("span",{staticClass:"info-content",staticStyle:{color:"#f56c6c"}},[t._v(t._s(e.rejectReason))])]):t._e()],2)])})),0)]),a("q-pagination",{attrs:{"current-page":t.searchTDO.current,"page-size":t.searchTDO.size,"page-sizes":[10,20,50,100],layout:"total, prev, pager, next, jumper",total:t.total},on:{"current-change":function(e){return t.handleCurrentChange(e)},"update:currentPage":function(e){return t.$set(t.searchTDO,"current",e)},"update:current-page":function(e){return t.$set(t.searchTDO,"current",e)}}})],1)},s=[],i=(a("96cf"),a("3b8d")),r=a("d225"),c=a("b0b4"),p=a("308d"),o=a("6bb5"),l=a("4e2b"),u=a("9ab4"),d=a("60a3"),m=a("5384"),h=function(t){function e(){var t;return Object(r["a"])(this,e),t=Object(p["a"])(this,Object(o["a"])(e).apply(this,arguments)),t.searchTDO={current:1,query:{appName:"",status:""},size:10},t.appList=[],t.loading=!0,t.total=0,t}return Object(l["a"])(e,t),Object(c["a"])(e,[{key:"handleCurrentChange",value:function(t){this.searchTDO.current=t,this.getAppApplyList()}},{key:"getAppApplyList",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var a,n,s,i,r,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e&&(this.searchTDO.current=1),t.prev=1,t.next=4,this.$http.post(m["a"].getAppApplyList,this.searchTDO);case 4:if(a=t.sent,n=a.data,s=n.data,i=n.status,r=n.message,i)for(c in this.total=s.total,this.appList=s.records,this.appList)this.$set(this.appList[c],"isShow",!1);else this.$message.error(r);case 10:return t.prev=10,this.loading=!1,t.finish(10);case 13:case"end":return t.stop()}}),t,this,[[1,,10,13]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"passTheAppApply",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$confirm("确认通过该应用申请?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(i["a"])(regeneratorRuntime.mark((function t(){var n,s,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.$http.get(m["a"].appPass+"?appId="+e.id);case 2:n=t.sent,s=n.data,s.data,i=s.status,r=s.message,i?(a.$message.success("已通过"),a.getAppApplyList()):a.$message.error(r);case 8:case"end":return t.stop()}}),t)}))));case 1:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"rejectTheAppApply",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$prompt("请输入拒绝原因","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputErrorMessage:"原因不能为空",distinguishCancelAndClose:!0,inputValidator:function(t){return!!t}}).then(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(n){var s,i,r,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.$http.post(m["a"].appReject,{businessId:e.id,result:n.value});case 2:s=t.sent,i=s.data,r=i.status,c=i.message,r?(a.$message.success("操作成功"),a.getAppApplyList()):a.$message.error(c);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"created",value:function(){this.getAppApplyList()}}]),e}(d["e"]);h=u["__decorate"]([Object(d["a"])({})],h);var f=h,v=f,A=(a("35ba"),a("2877")),g=Object(A["a"])(v,n,s,!1,null,"27a347ea",null);e["default"]=g.exports}}]);
//# sourceMappingURL=chunk-a83870c6.609f74b1.js.map