{"version":3,"sources":["webpack://micro_[name]/./src/microApps/myProcess/api/index.ts","webpack://micro_[name]/./src/microApps/myProcess/views/createProcess/ProcessList.vue?1eb3","webpack://micro_[name]/./src/microApps/myProcess/components/FormDefines.vue?4d87","webpack://micro_[name]/./src/microApps/myProcess/views/createProcess/ProcessList.vue?0d8c","webpack://micro_[name]/./src/microApps/myProcess/components/FormDefines.vue?87ec","webpack://micro_[name]/./src/microApps/myProcess/components/FormDefines.vue","webpack://micro_[name]/./src/microApps/myProcess/components/FormDefines.vue?9fc6","webpack://micro_[name]/./src/microApps/myProcess/components/FormDefines.vue?fd0a","webpack://micro_[name]/./src/microApps/myProcess/views/createProcess/ProcessList.vue","webpack://micro_[name]/./src/microApps/myProcess/views/createProcess/ProcessList.vue?ae20","webpack://micro_[name]/./src/microApps/myProcess/views/createProcess/ProcessList.vue?87c0"],"names":["api","getUserTasks","getProcessParameter","handleTask","getProcessImg","getProcessDetailInfo","getApplyFormValue","getOngoingProcess","getFinishedProcess","getEventType","getAllProcessType","processAssignState","getAllProcessList","getFormDefine","getAllUserVisible","getAssignTaskList","getAllOrg","getAllRole","getAllUser","getFormList","saveSubmitForm","getProcessInstance","getAllClosedProcess","getRuntimeTaskAssignedList","updateAssignedGroup","render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","model","value","queryCriteria","callback","$$v","$set","expression","on","getTableData","_l","item","index","key","procdefTypeName","id","directives","name","rawName","tableData","row","$moment","update_time","format","scopedSlots","_u","fn","scope","$event","getProcessDetail","_v","pageNum","pageSize","total","showInitiationDialog","ref","formDefine","processForm","minRows","maxRows","_e","slot","InitiationProcess","staticRenderFns","formItem","attrType","isDisable","$emit","option","_s","dataRange","imgMaxNum","disabled","type","eventOptions","prop","label","$http","get","params","orgId","data","status","message","detail","$message","error","console","log","Object","default","Boolean","required","component","procdefName","typeId","typeOptions","loading","showJudgeTable","judgeTableLoading","assignList","userInfoList","orgValue","invisibleOrgList","userValue","invisibleUserList","roleValue","invisibleRoleList","formList","currentData","searchFormName","records","processItem","judgeAssignState","formId","form_id","JSON","parse","formDef","getProcessVisibleOrg","getProcessVisibleRole","getProcessVisiblePerson","getAllFormList","procdefKey","procdef_key","then","res","userName","processDefineId","procdef_id","shift","forEach","userInfoVOS","userId","isCountersign","map","d","orgVO","roleVO","roleId","formName","size","current","$refs","customInput","formValidation","assignMap","userInfoId","Array","isArray","procdefId","userTaskId","userTask","post","formSubmitValue","stringify","targetUserIds","taskRemark","success","components","FormDefines"],"mappings":"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","file":"static/js/chunk-16a772e4.7be9ef36.js","sourcesContent":["const api = {\r\n  getUserTasks: \"/admin/processInstance/getUserTasks\", // 获取用户待办任务\r\n  getProcessParameter: \"/admin/processInstance/getProcessParameter\", //获取流程节点的信息\r\n  handleTask: \"/admin/processInstance/handleTask\", // 处理待办\r\n  getProcessImg: \"/admin/processInstance/getProcessImg\", // 根据流程渲染当前节点图片\r\n  getProcessDetailInfo: \"/admin/processhistory/getHisProcComment/\",\r\n  getApplyFormValue: \"/admin/processhistory/getSumbitValue/\",\r\n  // 我的申请\r\n  getOngoingProcess: \"/admin/processhistory/getMyUnFinishedProcess\", // 未完结\r\n  getFinishedProcess: \"/admin/processhistory/getMyFinishedProcess\", // 已完结\r\n  getEventType: \"/api/eventType/getEventType\",\r\n  getAllProcessType: \"/admin/processType/procdeftype/findAll\",\r\n  processAssignState: \"/admin/processDesigner/public/process/processAssignState\", //获取流程是否已经指派，true为已指派\r\n  getAllProcessList: \"/admin/processDesigner/public/visible/getAllProcessByUserVisible\", // 获取当前用户所有可见流程\r\n  getFormDefine: \"/admin/formdesigner/getFormDefine\", // 根据流程id获取表单信息\r\n  getAllUserVisible: \"/admin/processDesigner/public/visible/getAllUser\", //模糊查询当前用户可见的所有人\r\n  getAssignTaskList: \"/admin/processDesigner/public/process/getAssignTaskList\",\r\n  getAllOrg: \"/admin/processDesigner/public/visible/getAllOrg\",\r\n  getAllRole: \"/admin/processDesigner/public/visible/getAllRole\",\r\n  getAllUser: \"/admin/processDesigner/public/visible/getAllUser\",\r\n  getFormList: \"/admin/formdesigner/getFormList\",\r\n  saveSubmitForm: \"/admin/processInstance/saveSubmitForm\", // 发起流程\r\n  getProcessInstance: \"/admin/processInstance/getProcessInstance\", // 获取所有已办-未完结\r\n  getAllClosedProcess: \"/admin/processhistory/getCompleteProcess\", // 获取所有已办-已完结\r\n  getRuntimeTaskAssignedList: \"/admin/processInstance/getRuntimeTaskAssignedList\", //查询某流程实例节点的指派情况\r\n  updateAssignedGroup: \"/admin/processInstance/updateAssignedGroup\" //动态指派任务节点\r\n};\r\n\r\nexport default api;\r\n","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProcessList.vue?vue&type=style&index=0&id=41fcc44c&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProcessList.vue?vue&type=style&index=0&id=41fcc44c&scoped=true&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormDefines.vue?vue&type=style&index=0&id=4d1d436f&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormDefines.vue?vue&type=style&index=0&id=4d1d436f&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"search-box\"},[_c('el-input',{staticStyle:{\"width\":\"240px\"},attrs:{\"size\":\"small\",\"placeholder\":\"关键字查询\"},model:{value:(_vm.queryCriteria.procdefName),callback:function ($$v) {_vm.$set(_vm.queryCriteria, \"procdefName\", $$v)},expression:\"queryCriteria.procdefName\"}}),_c('el-select',{staticStyle:{\"width\":\"240px\",\"margin-left\":\"20px\"},attrs:{\"size\":\"small\",\"placeholder\":\"请选择流程类型\",\"clearable\":\"\"},on:{\"change\":_vm.getTableData},model:{value:(_vm.queryCriteria.typeId),callback:function ($$v) {_vm.$set(_vm.queryCriteria, \"typeId\", $$v)},expression:\"queryCriteria.typeId\"}},_vm._l((_vm.typeOptions),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.procdefTypeName,\"value\":item.id}})}),1),_c('q-search-button',{staticStyle:{\"margin-left\":\"10px\"},on:{\"click\":_vm.getTableData}})],1),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"process-box\"},[_c('el-table',{staticStyle:{\"text-align\":\"center\",\"min-height\":\"calc(100vh - 294px)\"},attrs:{\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"id\",\"label\":\"序号\",\"type\":\"index\",\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"procdef_name\",\"label\":\"流程名称\"}}),_c('el-table-column',{attrs:{\"prop\":\"procdef_key\",\"label\":\"流程标识\"}}),_c('el-table-column',{attrs:{\"prop\":\"updateTime\",\"label\":\"修改日期\",\"formatter\":function (row) { return _vm.$moment(row.update_time).format('YYYY-MM-DD HH:mm:ss'); }}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\",\"title\":\"编辑\"},on:{\"click\":function($event){return _vm.getProcessDetail(scope.row)}}},[_vm._v(\"\\n            发起流程\\n          \")])]}}])})],1)],1),_c('q-pagination',{attrs:{\"current-page\":_vm.queryCriteria.pageNum,\"page-size\":_vm.queryCriteria.pageSize,\"total\":_vm.total},on:{\"current-change\":_vm.getTableData,\"update:currentPage\":function($event){return _vm.$set(_vm.queryCriteria, \"pageNum\", $event)},\"update:current-page\":function($event){return _vm.$set(_vm.queryCriteria, \"pageNum\", $event)}}}),_c('el-dialog',{staticClass:\"initiation-dialog\",attrs:{\"title\":\"发起流程\",\"visible\":_vm.showInitiationDialog,\"width\":\"1000px\",\"close-on-click-modal\":false,\"close-on-press-escape\":false},on:{\"update:visible\":function($event){_vm.showInitiationDialog=$event}}},[_c('q-custom-input',{ref:\"customInput\",attrs:{\"custom-options\":_vm.formDefine,\"line-size\":2}}),_c('el-form',{attrs:{\"label-width\":\"130px\"},model:{value:(_vm.processForm),callback:function ($$v) {_vm.processForm=$$v},expression:\"processForm\"}},[_c('el-row',{attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"备注：\",\"prop\":\"taskRemark\"}},[_c('el-input',{attrs:{\"size\":\"small\",\"autosize\":{ minRows: 2, maxRows: 4 },\"type\":\"textarea\"},model:{value:(_vm.processForm.taskRemark),callback:function ($$v) {_vm.$set(_vm.processForm, \"taskRemark\", $$v)},expression:\"processForm.taskRemark\"}})],1)],1),_c('el-col',{attrs:{\"span\":12}},[(false)?_c('el-form-item',{attrs:{\"label\":\"抄送：\",\"prop\":\"remark\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"multiple\":\"\",\"remote\":\"\",\"size\":\"small\",\"remote-method\":_vm.findUserByName,\"reserve-keyword\":\"\",\"filterable\":\"\",\"placeholder\":\"请输入姓名\"},model:{value:(_vm.processForm.targetUserIds),callback:function ($$v) {_vm.$set(_vm.processForm, \"targetUserIds\", $$v)},expression:\"processForm.targetUserIds\"}},_vm._l((_vm.userInfoList),function(item){return _c('el-option',{key:item.userId,attrs:{\"label\":item.userName,\"value\":item.userId}})}),1)],1):_vm._e()],1)],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.showInitiationDialog = false}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.InitiationProcess}},[_vm._v(\"发起流程\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form-item',{attrs:{\"label\":_vm.formItem.name + '：'}},[(_vm.formItem.attrType === 'text')?_c('el-input',{staticStyle:{\"max-width\":\"300px\"},attrs:{\"size\":\"small\",\"value\":_vm.formItem.value,\"disabled\":_vm.isDisable},on:{\"input\":function($event){return _vm.$emit('edit', $event)}},model:{value:(_vm.formItem.value),callback:function ($$v) {_vm.$set(_vm.formItem, \"value\", $$v)},expression:\"formItem.value\"}}):(_vm.formItem.attrType === 'textarea')?_c('el-input',{staticStyle:{\"max-width\":\"500px\"},attrs:{\"size\":\"small\",\"type\":\"textarea\",\"value\":_vm.formItem.value,\"disabled\":_vm.isDisable},on:{\"input\":function($event){return _vm.$emit('edit', $event)}},model:{value:(_vm.formItem.value),callback:function ($$v) {_vm.$set(_vm.formItem, \"value\", $$v)},expression:\"formItem.value\"}}):(_vm.formItem.attrType === 'checkbox')?_c('el-checkbox-group',{staticStyle:{\"max-width\":\"500px\"},attrs:{\"size\":\"small\",\"disabled\":_vm.isDisable},on:{\"change\":function($event){return _vm.$emit('edit', $event)}},model:{value:(_vm.formItem.value),callback:function ($$v) {_vm.$set(_vm.formItem, \"value\", $$v)},expression:\"formItem.value\"}},_vm._l((_vm.formItem.options),function(option){return _c('el-checkbox-button',{key:option,attrs:{\"label\":option}},[_vm._v(\"\\n      \"+_vm._s(option)+\"\\n    \")])}),1):(_vm.formItem.attrType === 'select')?_c('el-select',{staticStyle:{\"max-width\":\"300px\"},attrs:{\"size\":\"small\",\"placeholder\":\"请选择\",\"disabled\":_vm.isDisable},on:{\"change\":function($event){return _vm.$emit('edit', $event)}},model:{value:(_vm.formItem.value),callback:function ($$v) {_vm.$set(_vm.formItem, \"value\", $$v)},expression:\"formItem.value\"}},_vm._l((_vm.formItem.options),function(option){return _c('el-option',{key:option,attrs:{\"label\":option,\"value\":option}})}),1):(_vm.formItem.attrType === 'number')?_c('el-input-number',{staticStyle:{\"max-width\":\"300px\"},attrs:{\"size\":\"small\",\"disabled\":_vm.isDisable},on:{\"change\":function($event){return _vm.$emit('edit', $event)}},model:{value:(_vm.formItem.value),callback:function ($$v) {_vm.$set(_vm.formItem, \"value\", $$v)},expression:\"formItem.value\"}}):(_vm.formItem.attrType === 'datetime')?_c('el-date-picker',{staticStyle:{\"max-width\":\"300px\"},attrs:{\"size\":\"small\",\"type\":\"date\",\"placeholder\":\"选择日期时间\",\"value-format\":\"yyyy-MM-dd\",\"disabled\":_vm.isDisable},on:{\"change\":function($event){return _vm.$emit('edit', $event)}},model:{value:(_vm.formItem.value),callback:function ($$v) {_vm.$set(_vm.formItem, \"value\", $$v)},expression:\"formItem.value\"}}):(_vm.formItem.attrType === 'time')?_c('el-time-picker',{staticStyle:{\"max-width\":\"300px\"},attrs:{\"size\":\"small\",\"placeholder\":\"选择时间\",\"format\":\"HH:mm\",\"value-format\":\"HH:mm\",\"disabled\":_vm.isDisable},on:{\"change\":function($event){return _vm.$emit('edit', $event)}},model:{value:(_vm.formItem.value),callback:function ($$v) {_vm.$set(_vm.formItem, \"value\", $$v)},expression:\"formItem.value\"}}):(_vm.formItem.attrType === 'upload')?_c('el-upload',{staticClass:\"upload-demo\",staticStyle:{\"max-width\":\"300px\"},attrs:{\"size\":\"small\",\"action\":\"/\",\"auto-upload\":false,\"name\":\"file\",\"disabled\":\"\"}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"disabled\":_vm.isDisable}},[_vm._v(\"点击上传\")]),_c('div',{attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"\\n      上传文件\\n    \")])],1):(_vm.formItem.attrType === 'img')?_c('q-upload',{attrs:{\"limitNum\":_vm.formItem.dataRange.imgMaxNum,\"accept\":\"image/bmp,image/png,image/jpeg\",\"disabled\":_vm.disabled},model:{value:(_vm.formItem.value),callback:function ($$v) {_vm.$set(_vm.formItem, \"value\", $$v)},expression:\"formItem.value\"}},[(_vm.disabled && (!_vm.formItem.value || _vm.formItem.value === '[]' || _vm.formItem.value === []))?_c('template',{slot:\"middle\"},[_vm._v(\"\\n      未上传图片\\n    \")]):_vm._e()],2):(_vm.formItem.type === 'position')?_c('el-input',{staticStyle:{\"width\":\"280px\"},attrs:{\"size\":\"small\",\"placeholder\":\"选择坐标\",\"disabled\":_vm.isDisable},on:{\"input\":function($event){return _vm.$emit('edit', $event)}},model:{value:(_vm.formItem.value),callback:function ($$v) {_vm.$set(_vm.formItem, \"value\", $$v)},expression:\"formItem.value\"}}):(_vm.formItem.type === 'position')?_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"size\":\"small\",\"icon\":\"el-icon-location\",\"disabled\":_vm.isDisable}}):(_vm.formItem.type === 'url' && !_vm.isDisable)?_c('el-input',{staticStyle:{\"max-width\":\"300px\"},attrs:{\"size\":\"small\",\"value\":_vm.formItem.value},on:{\"input\":function($event){return _vm.$emit('edit', $event)}},model:{value:(_vm.formItem.value),callback:function ($$v) {_vm.$set(_vm.formItem, \"value\", $$v)},expression:\"formItem.value\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"\\n      Http://\\n    \")])],2):(_vm.formItem.type === 'url' && _vm.isDisable)?_c('a',{attrs:{\"href\":'https://' + _vm.formItem.value,\"target\":\"_blank\"}},[_vm._v(\"\\n    点击查看详情\\n  \")]):_c('div',[_vm._v(\"\\n    \"+_vm._s(_vm.formItem.value)+\"\\n  \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Vue, Component, Prop, Model, Watch } from \"vue-property-decorator\";\r\nimport api from \"@/microApps/myProcess/api\";\r\n\r\n@Component({})\r\nexport default class FormDefines extends Vue {\r\n  @Prop({ type: Object, default: () => {} })\r\n  formItem!: any;\r\n  @Prop({ type: Boolean, default: false, required: false })\r\n  isDisable!: Boolean;\r\n\r\n  eventOptions: Array<any> = [];\r\n  prop: any = {\r\n    value: \"id\",\r\n    label: \"eventTypeName\"\r\n  };\r\n\r\n  // 获取事件类型\r\n  async getEventType() {\r\n    let {\r\n      data: { data, status, message }\r\n    } = await this.$http.get(api.getEventType, {\r\n      params: {\r\n        orgId: 0\r\n      }\r\n    });\r\n    if (status) {\r\n      this.eventOptions = data.detail;\r\n    } else {\r\n      this.$message.error(message);\r\n    }\r\n  }\r\n\r\n  created() {\r\n    // this.getEventType();\r\n    console.log(this.formItem);\r\n  }\r\n}\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormDefines.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormDefines.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FormDefines.vue?vue&type=template&id=4d1d436f&scoped=true&\"\nimport script from \"./FormDefines.vue?vue&type=script&lang=ts&\"\nexport * from \"./FormDefines.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FormDefines.vue?vue&type=style&index=0&id=4d1d436f&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4d1d436f\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue } from \"vue-property-decorator\";\r\nimport FormDefines from \"@/microApps/myProcess/components/FormDefines.vue\";\r\nimport api from \"@/microApps/myProcess/api\";\r\n\r\n@Component({\r\n  components: { FormDefines }\r\n})\r\nexport default class ProcessList extends Vue {\r\n  // 分页信息\r\n  queryCriteria: any = {\r\n    procdefName: \"\",\r\n    pageSize: 10,\r\n    pageNum: 1,\r\n    typeId: \"\"\r\n  };\r\n  total: number = 0;\r\n  typeOptions: Array<any> = [];\r\n\r\n  tableData: Array<any> = [];\r\n  loading: boolean = false;\r\n  showInitiationDialog: boolean = false;\r\n  showJudgeTable: boolean = false;\r\n  judgeTableLoading: boolean = true;\r\n\r\n  formDefine: any[] = [];\r\n  processForm: any = {};\r\n  assignList: any[] = [];\r\n  userInfoList: any[] = [];\r\n  orgValue: Array<any> = [];\r\n  invisibleOrgList: Array<any> = [];\r\n  userValue: Array<any> = [];\r\n  invisibleUserList: Array<any> = [];\r\n  roleValue: Array<any> = [];\r\n  invisibleRoleList: Array<any> = [];\r\n  formList: any[] = [];\r\n  currentData: any = null;\r\n\r\n  searchFormName: String = \"\";\r\n\r\n  created() {\r\n    this.getAllProcessType();\r\n    this.getTableData();\r\n  }\r\n  // 获取所有流程类型\r\n  async getAllProcessType() {\r\n    this.loading = true;\r\n    try {\r\n      let {\r\n        data: { data, status, message }\r\n      } = await this.$http.get(api.getAllProcessType);\r\n      if (status) {\r\n        this.typeOptions = data;\r\n      } else {\r\n        this.$message.error(message);\r\n      }\r\n    } finally {\r\n      this.loading = false;\r\n    }\r\n  }\r\n  // 根据关键字，每页查询数量，当前页获得所有链表\r\n  async getTableData() {\r\n    this.loading = true;\r\n    try {\r\n      let {\r\n        data: { data, status, message }\r\n      } = await this.$http.get(api.getAllProcessList, {\r\n        params: this.queryCriteria\r\n      });\r\n      if (status) {\r\n        this.tableData = data.records;\r\n        this.total = data.total;\r\n      } else {\r\n        this.$message.error(message);\r\n      }\r\n    } finally {\r\n      this.loading = false;\r\n    }\r\n  }\r\n  // 获取流程对应表单详情\r\n  async getProcessDetail(processItem: any) {\r\n    this.currentData = processItem;\r\n    this.judgeAssignState(processItem);\r\n    try {\r\n      let {\r\n        data: { data, status, message }\r\n      } = await this.$http.get(api.getFormDefine, {\r\n        params: {\r\n          formId: processItem.form_id\r\n        }\r\n      });\r\n      if (status) {\r\n        this.formDefine = JSON.parse(data.formDef);\r\n        this.showInitiationDialog = true;\r\n      } else {\r\n        this.$message.error(message);\r\n      }\r\n    } finally {\r\n      null;\r\n    }\r\n    this.getProcessVisibleOrg();\r\n    this.getProcessVisibleRole();\r\n    this.getProcessVisiblePerson();\r\n    this.getAllFormList();\r\n  }\r\n  // 判断流程对应指派情况（是否已指派）\r\n  judgeAssignState(processItem: any) {\r\n    this.$http\r\n      .get(api.processAssignState, {\r\n        params: { procdefKey: processItem.procdef_key }\r\n      })\r\n      .then((res: any) => {\r\n        if (res.data.status) {\r\n          this.showJudgeTable = res.data.data;\r\n          if (!res.data.data) {\r\n            this.getAssignTaskList(processItem);\r\n          }\r\n        } else {\r\n          this.$message.error(res.data.message);\r\n        }\r\n      });\r\n  }\r\n  // 模糊查询，选择抄送人\r\n  findUserByName(name: String) {\r\n    this.$http\r\n      .get(api.getAllUserVisible, {\r\n        params: { userName: name }\r\n      })\r\n      .then((res: any) => {\r\n        if (res.data.status) {\r\n          this.userInfoList = res.data.data;\r\n        } else {\r\n          this.$message.error(res.data.message);\r\n        }\r\n      });\r\n  }\r\n  // 获取节点指派情况\r\n  async getAssignTaskList(processItem: any) {\r\n    this.$http\r\n      .get(api.getAssignTaskList, {\r\n        params: { processDefineId: processItem.procdef_id }\r\n      })\r\n      .then((res: any) => {\r\n        if (res.data.status) {\r\n          res.data.data.shift();\r\n          res.data.data.forEach((item: any) => {\r\n            let userInfoVOS = item.userInfoVOS;\r\n            if (userInfoVOS) {\r\n              item.userId = item.isCountersign ? userInfoVOS.map((d: any) => d.userId) : userInfoVOS[0].userId;\r\n            }\r\n            let orgVO = item.orgVO;\r\n            if (orgVO) {\r\n              item.orgId = orgVO.orgId;\r\n            }\r\n            let roleVO = item.roleVO;\r\n            if (roleVO) {\r\n              item.roleId = roleVO.roleId;\r\n            }\r\n          });\r\n          this.assignList = res.data.data;\r\n          this.judgeTableLoading = false;\r\n        } else {\r\n          this.$message.error(res.data.message);\r\n        }\r\n      });\r\n  }\r\n  // 获取可见组织\r\n  async getProcessVisibleOrg() {\r\n    let {\r\n      data: { data, status, message }\r\n    } = await this.$http.get(api.getAllOrg, {\r\n      params: { procdefKey: this.currentData.procdef_key }\r\n    });\r\n    if (status) {\r\n      this.invisibleOrgList = data;\r\n    } else {\r\n      this.$message.error(message);\r\n    }\r\n  }\r\n  // 获取可见角色\r\n  async getProcessVisibleRole() {\r\n    let {\r\n      data: { data, status, message }\r\n    } = await this.$http.get(api.getAllRole, {\r\n      params: { procdefKey: this.currentData.procdef_key }\r\n    });\r\n    if (status) {\r\n      this.invisibleRoleList = data;\r\n      // console.log(this.invisibleRoleList);\r\n    } else {\r\n      this.$message.error(message);\r\n    }\r\n  }\r\n  // 获取可见用户\r\n  async getProcessVisiblePerson() {\r\n    let {\r\n      data: { data, status, message }\r\n    } = await this.$http.get(api.getAllUser, {\r\n      params: { procdefKey: this.currentData.procdef_key }\r\n    });\r\n    if (status) {\r\n      this.invisibleUserList = data;\r\n    } else {\r\n      this.$message.error(message);\r\n    }\r\n  }\r\n  // 获取所有表单\r\n  async getAllFormList() {\r\n    let {\r\n      data: { data, status, message }\r\n    } = await this.$http.get(api.getFormList, {\r\n      params: {\r\n        formName: this.searchFormName,\r\n        size: 999999,\r\n        current: 1\r\n      }\r\n    });\r\n    if (status) {\r\n      this.formList = data.records;\r\n    } else {\r\n      this.$message.error(message);\r\n    }\r\n  }\r\n  // 发起流程\r\n  async InitiationProcess() {\r\n    let data: any = await (this.$refs.customInput as any).formValidation();\r\n    if (data) {\r\n      let assignMap = this.assignList.map((item: any) => {\r\n        let userInfoId = item.userId;\r\n        if (!Array.isArray(userInfoId)) {\r\n          userInfoId = [userInfoId];\r\n        }\r\n        return {\r\n          formId: item.formId,\r\n          processDefineId: this.currentData.procdefId,\r\n          userTaskId: item.userTask.id,\r\n          userInfoId: userInfoId,\r\n          roleId: item.roleId,\r\n          orgId: item.orgId\r\n        };\r\n      });\r\n      this.$http\r\n        .post(api.saveSubmitForm, {\r\n          assignMap: assignMap,\r\n          formSubmitValue: JSON.stringify(this.formDefine),\r\n          procdefKey: this.currentData.procdef_key,\r\n          targetUserIds: this.processForm.targetUserIds,\r\n          taskRemark: !this.processForm.taskRemark ? \"\" : this.processForm.taskRemark\r\n        })\r\n        .then((res: any) => {\r\n          if (res.data.status) {\r\n            this.$message.success(\"流程发起成功\");\r\n            this.showInitiationDialog = false;\r\n          } else {\r\n            this.$message.error(res.data.message);\r\n          }\r\n        });\r\n    }\r\n  }\r\n}\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProcessList.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProcessList.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ProcessList.vue?vue&type=template&id=41fcc44c&scoped=true&\"\nimport script from \"./ProcessList.vue?vue&type=script&lang=ts&\"\nexport * from \"./ProcessList.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ProcessList.vue?vue&type=style&index=0&id=41fcc44c&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"41fcc44c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}