{"version":3,"sources":["webpack://micro_[name]/./src/microApps/myProcess/api/index.ts","webpack://micro_[name]/./src/microApps/myProcess/views/myApplication/ApplicationList.vue?7574","webpack://micro_[name]/./src/microApps/myProcess/views/myApplication/ApplicationList.vue?fd38","webpack://micro_[name]/./src/microApps/myProcess/views/myApplication/ApplicationList.vue","webpack://micro_[name]/./src/microApps/myProcess/views/myApplication/ApplicationList.vue?1091","webpack://micro_[name]/./src/microApps/myProcess/views/myApplication/ApplicationList.vue?37c8","webpack://micro_[name]/./src/microApps/myProcess/components/DealProcessDetails.vue?09c9","webpack://micro_[name]/./src/microApps/myProcess/components/DealProcessDetails.vue","webpack://micro_[name]/./src/microApps/myProcess/components/DealProcessDetails.vue?ca42","webpack://micro_[name]/./src/microApps/myProcess/components/DealProcessDetails.vue?5585","webpack://micro_[name]/./src/microApps/myProcess/components/DealProcessDetails.vue?93c9"],"names":["api","getUserTasks","getProcessParameter","handleTask","getProcessImg","getProcessDetailInfo","getApplyFormValue","getOngoingProcess","getFinishedProcess","getEventType","getAllProcessType","processAssignState","getAllProcessList","getFormDefine","getAllUserVisible","getAssignTaskList","getAllOrg","getAllRole","getAllUser","getFormList","saveSubmitForm","getProcessInstance","getAllClosedProcess","getRuntimeTaskAssignedList","updateAssignedGroup","render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","model","value","callback","$$v","processName","expression","on","searchWithTab","_v","selected","handingTotal","directives","name","rawName","ref","handingTableData","indexCustomHanding","row","$moment","startTime","format","scopedSlots","_u","key","fn","scope","$event","getProcessDefine","getCurrentNode","processInstanceId","editTaskAssigned","unfinishedQueryCriteria","current","size","$set","finishedTotal","finishedTableData","indexCustomFinished","finishedQueryCriteria","currentNodeDialog","currentNodeImg","_e","editTaskAssignedDialog","taskAssignedList","_l","item","id","$forceUpdate","updateTaskAssign","toDoMainPage","processItem","returnAndReload","staticRenderFns","handingLoading","finishedLoading","createdTime","createdUsername","imgLoading","invisibleOrgList","invisibleUserList","invisibleRoleList","then","getInvisibleDataList","$http","get","params","data","status","message","records","total","$message","error","getImage","url","targetName","propId","propName","map","i","checkUserTaskDesign","requestBody","every","post","success","userIds","length","roleIds","orgIds","$nextTick","img","$refs","getAttribute","request","XMLHttpRequest","accessToken","cookie","responseType","open","setRequestHeader","onreadystatechange","e","readyState","DONE","src","URL","createObjectURL","response","onload","revokeObjectURL","send","process","components","DealProcessDetails","filters","assignFilter","val","split","component","currentTab","taskName","submitNodeForm","currentNodeForm","required","trigger","handleState","nextTaskCount","index","taskKey","_s","formValue","JSON","parse","comment","type","time","userId","startNodeForm","startNodeTime","dealedProcess","returnMainPage","detailLoading","editMode","processDefines","startUserName","targetUserIds","taskRemark","handle","userInfoList","dealProcess","taskId","getProcessHistory","comments","formSubmit","formSubmitValue","n","attrType","title","dataRange","presetText","createTime","isFirst","stringify","formContent","userName","res","validate","valid","customInput","formValidation","$emit","Object","default","Boolean"],"mappings":"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","file":"static/js/chunk-e2d3f516.b2fdda15.js","sourcesContent":["const api = {\r\n  getUserTasks: \"/admin/processInstance/getUserTasks\", // 获取用户待办任务\r\n  getProcessParameter: \"/admin/processInstance/getProcessParameter\", //获取流程节点的信息\r\n  handleTask: \"/admin/processInstance/handleTask\", // 处理待办\r\n  getProcessImg: \"/admin/processInstance/getProcessImg\", // 根据流程渲染当前节点图片\r\n  getProcessDetailInfo: \"/admin/processhistory/getHisProcComment/\",\r\n  getApplyFormValue: \"/admin/processhistory/getSumbitValue/\",\r\n  // 我的申请\r\n  getOngoingProcess: \"/admin/processhistory/getMyUnFinishedProcess\", // 未完结\r\n  getFinishedProcess: \"/admin/processhistory/getMyFinishedProcess\", // 已完结\r\n  getEventType: \"/api/eventType/getEventType\",\r\n  getAllProcessType: \"/admin/processType/procdeftype/findAll\",\r\n  processAssignState: \"/admin/processDesigner/public/process/processAssignState\", //获取流程是否已经指派，true为已指派\r\n  getAllProcessList: \"/admin/processDesigner/public/visible/getAllProcessByUserVisible\", // 获取当前用户所有可见流程\r\n  getFormDefine: \"/admin/formdesigner/getFormDefine\", // 根据流程id获取表单信息\r\n  getAllUserVisible: \"/admin/processDesigner/public/visible/getAllUser\", //模糊查询当前用户可见的所有人\r\n  getAssignTaskList: \"/admin/processDesigner/public/process/getAssignTaskList\",\r\n  getAllOrg: \"/admin/processDesigner/public/visible/getAllOrg\",\r\n  getAllRole: \"/admin/processDesigner/public/visible/getAllRole\",\r\n  getAllUser: \"/admin/processDesigner/public/visible/getAllUser\",\r\n  getFormList: \"/admin/formdesigner/getFormList\",\r\n  saveSubmitForm: \"/admin/processInstance/saveSubmitForm\", // 发起流程\r\n  getProcessInstance: \"/admin/processInstance/getProcessInstance\", // 获取所有已办-未完结\r\n  getAllClosedProcess: \"/admin/processhistory/getCompleteProcess\", // 获取所有已办-已完结\r\n  getRuntimeTaskAssignedList: \"/admin/processInstance/getRuntimeTaskAssignedList\", //查询某流程实例节点的指派情况\r\n  updateAssignedGroup: \"/admin/processInstance/updateAssignedGroup\" //动态指派任务节点\r\n};\r\n\r\nexport default api;\r\n","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ApplicationList.vue?vue&type=style&index=0&id=739b12a1&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ApplicationList.vue?vue&type=style&index=0&id=739b12a1&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[(_vm.toDoMainPage)?_c('div',{staticStyle:{\"width\":\"auto\",\"height\":\"auto\"}},[_c('div',{staticClass:\"search-box\"},[_c('el-input',{staticStyle:{\"width\":\"240px\"},attrs:{\"size\":\"small\",\"placeholder\":\"流程关键字查询\"},model:{value:(_vm.processName),callback:function ($$v) {_vm.processName=$$v},expression:\"processName\"}}),_c('q-search-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"size\":\"small\"},on:{\"click\":_vm.searchWithTab}},[_vm._v(\"查询\")])],1),_c('div',{staticClass:\"content-box\"},[_c('el-tabs',{attrs:{\"type\":\"card\"},model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}},[_c('el-tab-pane',{attrs:{\"label\":'进行中（' + _vm.handingTotal + '）',\"name\":\"handing\"}},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.handingLoading),expression:\"handingLoading\"}],ref:\"needDealTable\",staticStyle:{\"margin-top\":\"20px\",\"min-height\":\"calc(100vh - 355px)\"},attrs:{\"data\":_vm.handingTableData}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"id\",\"label\":\"序号\",\"type\":\"index\",\"width\":\"100\",\"index\":_vm.indexCustomHanding}}),_c('el-table-column',{attrs:{\"prop\":\"processName\",\"label\":\"流程名称\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"startTime\",\"label\":\"发起时间\",\"formatter\":function (row) { return _vm.$moment(row.startTime).format('YYYY-MM-DD HH:mm:ss'); },\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"assignName\",\"label\":\"当前节点\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"350\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"icon\":\"el-icon-edit-outline\",\"size\":\"mini\",\"type\":\"text\",\"title\":\"查看详情\"},on:{\"click\":function($event){return _vm.getProcessDefine(scope.row)}}},[_vm._v(\"\\n                  查看详情\\n                \")]),_c('el-button',{attrs:{\"icon\":\"el-icon-view\",\"size\":\"mini\",\"type\":\"text\",\"title\":\"查看当前节点\"},on:{\"click\":function($event){return _vm.getCurrentNode(scope.row.processInstanceId)}}},[_vm._v(\"\\n                  节点信息\\n                \")]),_c('el-button',{attrs:{\"icon\":\"el-icon-view\",\"size\":\"mini\",\"type\":\"text\",\"title\":\"修改指派\"},on:{\"click\":function($event){return _vm.editTaskAssigned(scope.row.processInstanceId)}}},[_vm._v(\"\\n                  修改指派\\n                \")])]}}],null,false,554539345)})],1),_c('q-pagination',{attrs:{\"current-page\":_vm.unfinishedQueryCriteria.current,\"page-size\":_vm.unfinishedQueryCriteria.size,\"layout\":\"total, prev, pager, next, jumper\",\"total\":_vm.handingTotal},on:{\"current-change\":_vm.getOngoingProcess,\"update:currentPage\":function($event){return _vm.$set(_vm.unfinishedQueryCriteria, \"current\", $event)},\"update:current-page\":function($event){return _vm.$set(_vm.unfinishedQueryCriteria, \"current\", $event)}}})],1),_c('el-tab-pane',{attrs:{\"label\":'已完成（' + _vm.finishedTotal + '）',\"name\":\"finished\"}},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.finishedLoading),expression:\"finishedLoading\"}],ref:\"finishedTable\",staticStyle:{\"margin-top\":\"20px\",\"min-height\":\"calc(100vh - 355px)\"},attrs:{\"data\":_vm.finishedTableData}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"id\",\"label\":\"序号\",\"type\":\"index\",\"width\":\"100\",\"index\":_vm.indexCustomFinished}}),_c('el-table-column',{attrs:{\"prop\":\"processName\",\"label\":\"流程名称\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"startTime\",\"label\":\"发起时间\",\"formatter\":function (row) { return _vm.$moment(row.startTime).format('YYYY-MM-DD HH:mm:ss'); },\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"200\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"icon\":\"el-icon-view\",\"size\":\"mini\",\"type\":\"text\",\"title\":\"查看详情\"},on:{\"click\":function($event){return _vm.getProcessDefine(scope.row)}}},[_vm._v(\"\\n                  查看详情\\n                \")])]}}],null,false,111761149)})],1),_c('q-pagination',{attrs:{\"current-page\":_vm.finishedQueryCriteria.current,\"page-size\":_vm.finishedQueryCriteria.size,\"total\":_vm.finishedTotal},on:{\"current-change\":_vm.getFinishedProcess,\"update:currentPage\":function($event){return _vm.$set(_vm.finishedQueryCriteria, \"current\", $event)},\"update:current-page\":function($event){return _vm.$set(_vm.finishedQueryCriteria, \"current\", $event)}}})],1)],1)],1),_c('el-dialog',{staticStyle:{\"overflow\":\"auto\"},attrs:{\"title\":\"当前节点\",\"width\":\"50%\",\"show-close\":\"\",\"visible\":_vm.currentNodeDialog,\"destroy-on-close\":true,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.currentNodeDialog=$event}}},[(_vm.currentNodeDialog)?_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.imgLoading),expression:\"imgLoading\"}],staticClass:\"current-node-img\"},[_c('img',{ref:\"processImg\",attrs:{\"process-src\":_vm.currentNodeImg,\"alt\":\"\"}})]):_vm._e()]),_c('el-dialog',{staticStyle:{\"overflow\":\"auto\"},attrs:{\"title\":\"更改指派信息\",\"width\":\"50%\",\"show-close\":\"\",\"visible\":_vm.editTaskAssignedDialog,\"destroy-on-close\":true,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.editTaskAssignedDialog=$event}}},[_c('div',{staticClass:\"tip-bar\"},[_c('i',{staticClass:\"el-icon-info\",staticStyle:{\"color\":\"rgba(255, 38, 53, 0.8)\"}}),_vm._v(\"每个任务节点必须指派！\")]),_c('el-table',{staticClass:\"must-input\",attrs:{\"data\":_vm.taskAssignedList,\"size\":\"mini\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"property\":\"taskName\",\"label\":\"任务名\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"指派人\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-select',{attrs:{\"size\":\"mini\",\"filterable\":\"\",\"clearable\":\"\",\"reserve-keyword\":\"\",\"multiple\":\"\",\"placeholder\":\"请输入姓名\"},model:{value:(scope.row.userIds),callback:function ($$v) {_vm.$set(scope.row, \"userIds\", $$v)},expression:\"scope.row.userIds\"}},_vm._l((_vm.invisibleUserList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1)]}}],null,false,2561591741)}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"指派组织\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-select',{attrs:{\"size\":\"mini\",\"reserve-keyword\":\"\",\"clearable\":\"\",\"filterable\":\"\",\"multiple\":\"\",\"placeholder\":\"请输入组织名\"},on:{\"change\":function($event){return _vm.$forceUpdate()}},model:{value:(scope.row.orgIds),callback:function ($$v) {_vm.$set(scope.row, \"orgIds\", $$v)},expression:\"scope.row.orgIds\"}},_vm._l((_vm.invisibleOrgList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1)]}}],null,false,3448022894)}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"指派角色\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-select',{attrs:{\"size\":\"mini\",\"filterable\":\"\",\"clearable\":\"\",\"multiple\":\"\",\"placeholder\":\"请选择\"},model:{value:(scope.row.roleIds),callback:function ($$v) {_vm.$set(scope.row, \"roleIds\", $$v)},expression:\"scope.row.roleIds\"}},_vm._l((_vm.invisibleRoleList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1)]}}],null,false,937116087)})],1),_c('div',{staticClass:\"dialog-footer\"},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.updateTaskAssign}},[_vm._v(\"确定\")])],1)],1)],1):_vm._e(),_c('div',[(!_vm.toDoMainPage)?_c('deal-process-details',{attrs:{\"edit-mode\":false,\"process\":_vm.processItem},on:{\"clickReturn\":_vm.returnAndReload}}):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue } from \"vue-property-decorator\";\r\nimport api from \"@/microApps/myProcess/api\";\r\nimport DealProcessDetails from \"../../components/DealProcessDetails.vue\";\r\nimport cookieUtils from \"@/utils/cookie\";\r\n\r\n@Component({\r\n  components: {\r\n    DealProcessDetails\r\n  },\r\n  filters: {\r\n    assignFilter(val: string) {\r\n      return val.split(\",\")[val.split(\",\").length - 2];\r\n    }\r\n  }\r\n})\r\nexport default class ApplicationList extends Vue {\r\n  // 分页信息\r\n  finishedQueryCriteria: any = {\r\n    processName: \"\",\r\n    size: 10,\r\n    current: 1\r\n  };\r\n  // 分页信息\r\n  unfinishedQueryCriteria: any = {\r\n    processName: \"\",\r\n    size: 10,\r\n    current: 1\r\n  };\r\n  processName: string = \"\";\r\n  handingTableData: any[] = [];\r\n  finishedTableData: any[] = [];\r\n  handingTotal: number = 0;\r\n  finishedTotal: number = 0;\r\n  handingLoading: Boolean = false;\r\n  finishedLoading: Boolean = false;\r\n  createdTime: string = \"\";\r\n  createdUsername: string = \"\";\r\n\r\n  selected: string = \"handing\";\r\n  currentNodeDialog: Boolean = false;\r\n  imgLoading: Boolean = false;\r\n  currentNodeImg: string = \"\";\r\n\r\n  toDoMainPage: boolean = true;\r\n  processItem: any = null;\r\n  editTaskAssignedDialog: boolean = false;\r\n  taskAssignedList: any[] = [];\r\n  invisibleOrgList: Array<any> = [];\r\n  invisibleUserList: Array<any> = [];\r\n  invisibleRoleList: Array<any> = [];\r\n\r\n  // 自定义序号\r\n  indexCustomHanding: number = 0;\r\n  indexCustomFinished: number = 0;\r\n\r\n  created() {\r\n    this.handingLoading = true;\r\n    this.getOngoingProcess().then(() => {\r\n      this.handingLoading = false;\r\n      this.getFinishedProcess();\r\n    });\r\n    this.getInvisibleDataList(api.getAllOrg, \"invisibleOrgList\", \"orgId\", \"orgName\");\r\n    this.getInvisibleDataList(api.getAllRole, \"invisibleRoleList\", \"roleId\", \"roleName\");\r\n    this.getInvisibleDataList(api.getAllUser, \"invisibleUserList\", \"userId\", \"userName\");\r\n  }\r\n  // 获取未完结申请\r\n  async getOngoingProcess() {\r\n    try {\r\n      let {\r\n        data: { data, status, message }\r\n      } = await this.$http.get(api.getOngoingProcess, {\r\n        params: this.unfinishedQueryCriteria\r\n      });\r\n      if (status) {\r\n        this.handingTableData = data.records;\r\n        this.handingTotal = data.total;\r\n        this.indexCustomHanding = (data.current - 1) * data.size + 1;\r\n      } else {\r\n        this.$message.error(message);\r\n      }\r\n    } catch (e) {\r\n      return null;\r\n    }\r\n  }\r\n  // 获取已完结申请\r\n  async getFinishedProcess() {\r\n    try {\r\n      let {\r\n        data: { data, status, message }\r\n      } = await this.$http.get(api.getFinishedProcess, {\r\n        params: this.finishedQueryCriteria\r\n      });\r\n      if (status) {\r\n        this.finishedTableData = data.records;\r\n        this.finishedTotal = data.total;\r\n        this.indexCustomFinished = (data.current - 1) * data.size + 1;\r\n      } else {\r\n        this.$message.error(message);\r\n      }\r\n    } catch (e) {\r\n      return null;\r\n    }\r\n  }\r\n  searchWithTab() {\r\n    if (this.selected === \"handing\") {\r\n      this.handingLoading = true;\r\n      this.unfinishedQueryCriteria.processName = this.processName;\r\n      this.getOngoingProcess().then(() => (this.handingLoading = false));\r\n    } else {\r\n      this.finishedLoading = true;\r\n      this.finishedQueryCriteria.processName = this.processName;\r\n      this.getFinishedProcess().then(() => (this.finishedLoading = false));\r\n    }\r\n  }\r\n\r\n  // 渲染当前节点图片\r\n  async getCurrentNode(id: String) {\r\n    this.currentNodeDialog = true;\r\n    this.imgLoading = true;\r\n    this.currentNodeImg = `${api.getProcessImg}?processInstanceId=${id}`;\r\n    this.getImage();\r\n  }\r\n\r\n  /**\r\n   * 获取对应的不可见target数组的数据\r\n   * @param url 请求地址\r\n   * @param targetName 目标数组名称\r\n   * @param propId id对应返回数据的key\r\n   * @param propName name对应返回数据的key\r\n   */\r\n  async getInvisibleDataList(url: string, targetName: string, propId: string, propName: string) {\r\n    let {\r\n      data: { data, status, message }\r\n    } = await this.$http.get(url);\r\n    if (status) {\r\n      (this as any)[targetName] = data.map((i: any) => {\r\n        return {\r\n          id: i[propId],\r\n          name: i[propName]\r\n        };\r\n      });\r\n    } else {\r\n      this.$message.error(message);\r\n    }\r\n  }\r\n\r\n  // 获取当前流程对应指派表单\r\n  async editTaskAssigned(id: String) {\r\n    let {\r\n      data: { data, status, message }\r\n    } = await this.$http.get(api.getRuntimeTaskAssignedList + \"?processInstanceId=\" + id);\r\n    if (status) {\r\n      this.taskAssignedList = data;\r\n      this.editTaskAssignedDialog = true;\r\n    } else {\r\n      this.$message.error(message);\r\n    }\r\n  }\r\n  // 更新流程指派\r\n  async updateTaskAssign() {\r\n    try {\r\n      let requestBody: any[] = await this.checkUserTaskDesign();\r\n      if (requestBody.every((item: any) => item.status)) {\r\n        let {\r\n          data: { data, status, message }\r\n        } = await this.$http.post(api.updateAssignedGroup, this.taskAssignedList);\r\n        if (status) {\r\n          this.$message.success(message);\r\n          this.editTaskAssignedDialog = false;\r\n        } else {\r\n          this.$message.error(message);\r\n        }\r\n      } else {\r\n        this.$message.error(\"节点指派不能为空\");\r\n      }\r\n    } catch (e) {\r\n      return;\r\n    }\r\n  }\r\n  // 验证指派表单\r\n  async checkUserTaskDesign() {\r\n    return this.taskAssignedList.map((item: any) => {\r\n      if (item.userIds.length || item.roleIds.length || item.orgIds.length) {\r\n        return {\r\n          status: true,\r\n          ...item\r\n        };\r\n      } else {\r\n        return {\r\n          status: false\r\n        };\r\n      }\r\n    });\r\n  }\r\n  // 加载流程图\r\n  async getImage() {\r\n    this.$nextTick(() => {\r\n      let img: any = this.$refs[\"processImg\"];\r\n      let url = img.getAttribute(\"process-src\");\r\n      let request = new XMLHttpRequest();\r\n      let accessToken = cookieUtils.get(\"accessToken\");\r\n      request.responseType = \"blob\";\r\n      request.open(\"get\", url, true);\r\n      request.setRequestHeader(\"accessToken\", \"Bearer \" + accessToken);\r\n      request.onreadystatechange = e => {\r\n        if (request.readyState == XMLHttpRequest.DONE && request.status == 200) {\r\n          img.src = URL.createObjectURL(request.response);\r\n          img.onload = () => {\r\n            URL.revokeObjectURL(img.src);\r\n          };\r\n        }\r\n        this.imgLoading = false;\r\n      };\r\n      request.send(null);\r\n    });\r\n  }\r\n\r\n  // 查看详情\r\n  getProcessDefine(process: any) {\r\n    this.processItem = process;\r\n    this.toDoMainPage = false;\r\n  }\r\n\r\n  returnAndReload() {\r\n    this.toDoMainPage = true;\r\n    this.handingLoading = true;\r\n    this.getOngoingProcess().then(() => {\r\n      this.getFinishedProcess();\r\n      this.handingLoading = false;\r\n    });\r\n  }\r\n}\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ApplicationList.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ApplicationList.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ApplicationList.vue?vue&type=template&id=739b12a1&scoped=true&\"\nimport script from \"./ApplicationList.vue?vue&type=script&lang=ts&\"\nexport * from \"./ApplicationList.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ApplicationList.vue?vue&type=style&index=0&id=739b12a1&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"739b12a1\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.detailLoading),expression:\"detailLoading\"}],staticClass:\"deal-page-main\"},[_c('el-tabs',{staticStyle:{\"position\":\"relative\"},attrs:{\"type\":\"card\"},model:{value:(_vm.currentTab),callback:function ($$v) {_vm.currentTab=$$v},expression:\"currentTab\"}},[(_vm.editMode)?_c('el-tab-pane',{key:\"current\",attrs:{\"label\":_vm.process.taskName,\"name\":\"currentTabPane\"}},[_c('el-form',{ref:\"submitNodeForm\",staticStyle:{\"margin-top\":\"20px\"},attrs:{\"model\":_vm.submitNodeForm,\"label-width\":\"120px\",\"size\":\"small\"}},[(_vm.process.formContent)?_c('el-row',[_c('div',{staticClass:\"form-name\"},[_vm._v(\"审批表单\")])]):_vm._e(),_c('q-custom-input',{ref:\"customInput\",attrs:{\"custom-options\":_vm.currentNodeForm}}),_c('div',{staticClass:\"deal-process-result\"},[_c('el-form-item',{attrs:{\"label\":\"处理任务：\",\"prop\":\"handle\",\"rules\":{ required: true, message: '该选项为必填项', trigger: 'blur' }}},[(_vm.process.isFirst)?[_c('el-radio',{attrs:{\"label\":\"pass\"},model:{value:(_vm.submitNodeForm.handle),callback:function ($$v) {_vm.$set(_vm.submitNodeForm, \"handle\", $$v)},expression:\"submitNodeForm.handle\"}},[_vm._v(\"重新发起\")])]:[_c('el-radio',{attrs:{\"label\":\"pass\"},model:{value:(_vm.submitNodeForm.handle),callback:function ($$v) {_vm.$set(_vm.submitNodeForm, \"handle\", $$v)},expression:\"submitNodeForm.handle\"}},[_vm._v(\"通过 \")]),(!_vm.handleState && _vm.process.nextTaskCount === 2)?_c('el-radio',{attrs:{\"label\":\"reject\"},model:{value:(_vm.submitNodeForm.handle),callback:function ($$v) {_vm.$set(_vm.submitNodeForm, \"handle\", $$v)},expression:\"submitNodeForm.handle\"}},[_vm._v(\"驳回\")]):_vm._e()]],2),_c('el-form-item',{attrs:{\"label\":\"备注：\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":2,\"resize\":\"none\"},model:{value:(_vm.submitNodeForm.taskRemark),callback:function ($$v) {_vm.$set(_vm.submitNodeForm, \"taskRemark\", $$v)},expression:\"submitNodeForm.taskRemark\"}})],1),(false)?_c('el-form-item',{attrs:{\"label\":\"抄送：\"}},[_c('el-select',{staticStyle:{\"max-width\":\"360px\"},attrs:{\"multiple\":\"\",\"remote\":\"\",\"size\":\"small\",\"remote-method\":_vm.findUserByName,\"reserve-keyword\":\"\",\"filterable\":\"\",\"placeholder\":\"请输入姓名\"},model:{value:(_vm.submitNodeForm.targetUserIds),callback:function ($$v) {_vm.$set(_vm.submitNodeForm, \"targetUserIds\", $$v)},expression:\"submitNodeForm.targetUserIds\"}},_vm._l((_vm.userInfoList),function(item){return _c('el-option',{key:item.userId,attrs:{\"label\":item.userName,\"value\":item.userId}})}),1)],1):_vm._e()],1)],1)],1):_vm._e(),_vm._l((_vm.processDefines),function(item,index){return _c('el-tab-pane',{key:index,attrs:{\"label\":item.taskName ? item.taskName : '发起',\"name\":item.taskKey ? ((item.taskKey) + \"-\" + index) : 'startUserName'}},[_c('el-form',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"size\":\"small\",\"label-width\":\"120px\"}},[_c('div',{staticClass:\"form-name\"},[_vm._v(_vm._s(item.taskName ? \"审批表单\" : \"申请表单\"))]),(item.taskKey)?[(item.formValue && item.formValue !== 'null')?[_c('q-custom-input',{attrs:{\"custom-options\":JSON.parse(item.formValue),\"disabled\":\"\"}})]:_vm._e(),_c('el-row',{staticClass:\"partition-line\"},[_c('el-form-item',{staticStyle:{\"width\":\"33.3%\"},attrs:{\"label\":\"处理结果：\"}},[_c('el-input',{attrs:{\"size\":\"small\",\"disabled\":\"\",\"model\":item.comment.type,\"placeholder\":item.comment.type === 'pass' ? '通过' : '驳回'}})],1),_c('el-form-item',{attrs:{\"label\":\"审批时间：\"}},[_c('el-input',{attrs:{\"placeholder\":_vm.$moment(item.comment.time).format('YYYY-MM-DD HH:mm:ss'),\"disabled\":\"\"}})],1),_c('el-form-item',{attrs:{\"label\":\"审批人：\"}},[_c('el-input',{attrs:{\"placeholder\":item.comment.userId,\"disabled\":\"\"}})],1),_c('el-form-item',{attrs:{\"label\":\"备注：\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":2,\"resize\":\"none\",\"disabled\":\"\"},model:{value:(item.comment.message),callback:function ($$v) {_vm.$set(item.comment, \"message\", $$v)},expression:\"item.comment.message\"}})],1)],1)]:[_c('q-custom-input',{attrs:{\"custom-options\":_vm.startNodeForm,\"disabled\":\"\"}}),_c('el-row',{staticClass:\"partition-line\"},[_c('el-form-item',{attrs:{\"label\":\"申请时间：\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.startNodeTime),callback:function ($$v) {_vm.startNodeTime=$$v},expression:\"startNodeTime\"}})],1),_c('el-form-item',{attrs:{\"label\":\"申请人：\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(item.comment.userId),callback:function ($$v) {_vm.$set(item.comment, \"userId\", $$v)},expression:\"item.comment.userId\"}})],1),_c('el-form-item',{attrs:{\"label\":\"备注：\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":2,\"resize\":\"none\",\"disabled\":\"\"},model:{value:(item.comment.message),callback:function ($$v) {_vm.$set(item.comment, \"message\", $$v)},expression:\"item.comment.message\"}})],1)],1)]],2)],1)})],2),_c('div',{staticClass:\"return-back-button\"},[(_vm.currentTab === 'currentTabPane')?_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.dealedProcess}},[_vm._v(\"\\n      提交\\n    \")]):_vm._e(),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.returnMainPage}},[_vm._v(\"返回\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Vue, Component, Prop, Model, Watch } from \"vue-property-decorator\";\r\nimport api from \"@/microApps/myProcess/api\";\r\n\r\n@Component({})\r\nexport default class DealProcessDetails extends Vue {\r\n  @Prop({ type: Object, default: () => {}, required: true })\r\n  process!: any;\r\n  @Prop({ type: Boolean, default: true })\r\n  editMode!: Boolean;\r\n\r\n  detailLoading: boolean = true;\r\n  currentTab: String = this.editMode ? \"currentTabPane\" : \"startUserName\";\r\n  processDefines: any[] = [];\r\n  startNodeForm: any[] = [];\r\n  startNodeTime: String = \"\";\r\n  startUserName: String = \"\";\r\n  targetUserIds: any[] = [];\r\n  currentNodeForm: any[] = [];\r\n  submitNodeForm: any = {\r\n    //存入默认空字符与空数组，避免后端报错\r\n    taskRemark: \" \",\r\n    formValue: \"\",\r\n    targetUserIds: [],\r\n    handle: \"pass\"\r\n  };\r\n  handleState: Number = 0;\r\n\r\n  userInfoList: any[] = [];\r\n\r\n  created() {\r\n    if (this.editMode) {\r\n      // 审批模式\r\n      this.dealProcess().then(() => (this.detailLoading = false));\r\n      this.submitNodeForm.taskId = this.process.taskId;\r\n      // this.startNodeTime = this.$moment(this.process.createTime).format(\"YYYY-MM-DD HH:mm:ss\");\r\n    } else {\r\n      // 查看模式\r\n      this.getProcessHistory();\r\n      this.getApplyFormValue().then(() => (this.detailLoading = false));\r\n      // this.startNodeTime = this.$moment(this.process.startTime).format(\"YYYY-MM-DD HH:mm:ss\");\r\n    }\r\n  }\r\n  // 获取节点详情\r\n  async dealProcess() {\r\n    try {\r\n      let {\r\n        data: { data, status, message }\r\n      } = await this.$http.get(api.getProcessParameter, {\r\n        params: {\r\n          processInstanceId: this.process.processInstanceId,\r\n          taskId: this.process.taskId\r\n        }\r\n      });\r\n      if (status) {\r\n        this.processDefines = data.comments;\r\n        this.startNodeForm = JSON.parse(data.formSubmit.formSubmitValue).map((n: any) => {\r\n          if (n.attrType) {\r\n            return n;\r\n          } else {\r\n            return {\r\n              name: n.title,\r\n              attrType: \"text\",\r\n              value: n.value,\r\n              dataRange: { presetText: \"\" }\r\n            };\r\n          }\r\n        });\r\n        this.startNodeTime = this.$moment(data.formSubmit.createTime).format(\"YYYY-MM-DD HH:mm:ss\");\r\n        if (this.process.isFirst) {\r\n          this.currentNodeForm = JSON.parse(JSON.stringify(this.startNodeForm));\r\n        } else {\r\n          this.currentNodeForm = this.process.formContent ? JSON.parse(this.process.formContent) : [];\r\n        }\r\n      } else {\r\n        this.$message.error(message);\r\n      }\r\n    } catch (e) {\r\n      return null;\r\n    }\r\n  }\r\n  // 模糊查询，选择抄送人\r\n  findUserByName(name: String) {\r\n    this.$http\r\n      .get(api.getAllUserVisible, {\r\n        params: { userName: name }\r\n      })\r\n      .then((res: any) => {\r\n        if (res.data.status) {\r\n          this.userInfoList = res.data.data;\r\n        } else {\r\n          this.$message.error(res.data.message);\r\n        }\r\n      });\r\n  }\r\n  // 提交处理结果\r\n  async dealedProcess() {\r\n    (this.$refs[\"submitNodeForm\"] as any).validate(async (valid: any) => {\r\n      if (valid) {\r\n        let data: any = await (this.$refs.customInput as any).formValidation();\r\n        if (data) {\r\n          this.submitNodeForm.formValue = JSON.stringify(this.currentNodeForm);\r\n          this.$http.post(api.handleTask, this.submitNodeForm).then((res: any) => {\r\n            if (res.data.status) {\r\n              this.$message.success(\"流程处理成功！\");\r\n              this.returnMainPage();\r\n            } else {\r\n              this.$message.error(res.data.message);\r\n            }\r\n          });\r\n        } else {\r\n          return false;\r\n        }\r\n      } else {\r\n        return false;\r\n      }\r\n    });\r\n  }\r\n  // 查看已处理流程 => 获取流程历史处理详情\r\n  async getProcessHistory() {\r\n    this.$http.get(`${api.getProcessDetailInfo}${this.process.processInstanceId}`).then((res: any) => {\r\n      this.processDefines = res.data;\r\n    });\r\n  }\r\n  // 获取申请人提交表单详情\r\n  async getApplyFormValue() {\r\n    this.$http.get(`${api.getApplyFormValue}${this.process.processInstanceId}`).then((res: any) => {\r\n      this.startNodeForm = JSON.parse(res.data.formSubmitValue).map((n: any) => {\r\n        if (n.attrType) {\r\n          return n;\r\n        } else {\r\n          return {\r\n            name: n.title,\r\n            attrType: \"text\",\r\n            value: n.value,\r\n            dataRange: { presetText: \"\" }\r\n          };\r\n        }\r\n      });\r\n      this.startNodeTime = this.$moment(res.data.createTime).format(\"YYYY-MM-DD HH:mm:ss\");\r\n      this.startUserName = res.data.userName;\r\n    });\r\n  }\r\n\r\n  // 返回待办列表\r\n  returnMainPage() {\r\n    this.$emit(\"clickReturn\");\r\n  }\r\n}\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DealProcessDetails.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DealProcessDetails.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DealProcessDetails.vue?vue&type=template&id=2328e79a&scoped=true&\"\nimport script from \"./DealProcessDetails.vue?vue&type=script&lang=ts&\"\nexport * from \"./DealProcessDetails.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./DealProcessDetails.vue?vue&type=style&index=0&id=2328e79a&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2328e79a\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DealProcessDetails.vue?vue&type=style&index=0&id=2328e79a&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DealProcessDetails.vue?vue&type=style&index=0&id=2328e79a&scoped=true&lang=scss&\""],"sourceRoot":""}