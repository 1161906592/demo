{"version":3,"sources":["webpack://micro_[name]/./src/microApps/processManage/views/formManage/components/FormDesigner.vue?5753","webpack://micro_[name]/./src/microApps/processManage/views/formManage/FormManageList.vue?4e83","webpack://micro_[name]/./src/microApps/processManage/views/formManage/FormManageList.vue?4743","webpack://micro_[name]/./src/microApps/processManage/views/formManage/components/FormDesigner.vue?2671","webpack://micro_[name]/./src/microApps/processManage/views/formManage/components/FormDesigner.vue","webpack://micro_[name]/./src/microApps/processManage/views/formManage/components/FormDesigner.vue?fc2b","webpack://micro_[name]/./src/microApps/processManage/views/formManage/components/FormDesigner.vue?f353","webpack://micro_[name]/./src/microApps/processManage/views/formManage/FormManageList.vue","webpack://micro_[name]/./src/microApps/processManage/views/formManage/FormManageList.vue?1146","webpack://micro_[name]/./src/microApps/processManage/views/formManage/FormManageList.vue?4221","webpack://micro_[name]/./src/microApps/processManage/api/index.ts"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","model","value","callback","$$v","formName","expression","on","getTableData","handleAdd","_v","directives","name","rawName","staticStyle","ref","tableData","$index","pagination","current","size","scopedSlots","_u","key","fn","scope","$event","handleEdit","row","handleDelete","total","pageCurrentChange","pageSizeChange","formItem","dialogTitle","dialogVisible","closeDialog","handleSave","staticRenderFns","addDialog","title","closeForm","form","formRules","$set","optionItem","rules","typeChange","_l","item","label","changeMustInputStatus","attrType","dataRange","optionsItem","index","handleCheck","preventDefault","removeOptionItem","addOptionItem","numMax","numMin","_e","handleAddItem","formItems","slot","id","mustInput","options","multiSelectedItems","required","message","trigger","validator","rule","some","d","Error","typeOptions","newValue","val","formDef","JSON","parse","defaultChosen","i","splice","push","content","$refs","validate","valid","clearValidate","filter","map","stringify","Date","valueOf","$message","error","$emit","$http","get","api","formManage","checkFormName","params","data","status","info","length","formId","post","updateFormDefine","insertFormDefine","save","success","type","String","default","Boolean","Object","immediate","deep","component","loading","num","getFormList","records","$confirm","confirmButtonText","cancelButtonText","then","deleteForm","delete","delFormDefine","components","FormDesigner","getEventType","getFormDefine","processManage","getAllProcessType","getAllProcessTypePaging","getPageProcess","deleteProcdefInfo","addProcessType","deleteProcessType","saveProcessFile","uploadProcessFile","getAllProcess","updateProcessType","getProcdefById","getAllOrg","getAllRole","getAllUser","getProcessVisibleOrg","getProcessVisibleRole","getProcessVisiblePerson","saveProcessVisibleOrg","saveProcessVisibleRole","saveProcessVisibleUser","saveProcessForm","getAssignTaskList","saveUserTaskDesignator","getProcdefByKey","getProcessImage","downloadProcessFile","updateProcessStatus","getAllProcessTypeWithDelete"],"mappings":"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","file":"static/js/chunk-94b8e482.530950b7.js","sourcesContent":["import mod from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormDesigner.vue?vue&type=style&index=0&id=2b2bd4d7&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormDesigner.vue?vue&type=style&index=0&id=2b2bd4d7&scoped=true&lang=scss&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormManageList.vue?vue&type=style&index=0&id=649ecacc&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormManageList.vue?vue&type=style&index=0&id=649ecacc&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"left\"},[_c('el-input',{staticClass:\"input\",attrs:{\"size\":\"small\",\"placeholder\":\"表单名称\",\"clearable\":\"\"},model:{value:(_vm.formName),callback:function ($$v) {_vm.formName=$$v},expression:\"formName\"}}),_c('q-search-button',{on:{\"click\":_vm.getTableData}})],1),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.handleAdd}},[_vm._v(\"添加\")])],1),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"margin-top\":\"30px\"}},[_c('el-table',{ref:\"multipleTable\",staticStyle:{\"width\":\"100%\",\"min-height\":\"calc(100vh - 305px)\"},attrs:{\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"id\",\"label\":\"序号\",\"type\":\"index\",\"width\":\"100\",\"index\":function ($index) { return (_vm.pagination.current - 1) * _vm.pagination.size + $index + 1; }}}),_c('el-table-column',{attrs:{\"prop\":\"formName\",\"label\":\"表单名称\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\",\"icon\":\"el-icon-edit\",\"title\":\"编辑\"},on:{\"click\":function($event){return _vm.handleEdit(scope.row)}}},[_vm._v(\"\\n            编辑\\n          \")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\",\"icon\":\"el-icon-delete\",\"title\":\"删除\"},on:{\"click\":function($event){return _vm.handleDelete(scope.row)}}},[_vm._v(\"\\n            删除\\n          \")])]}}])})],1)],1),_c('q-pagination',{attrs:{\"current-page\":_vm.pagination.current,\"page-size\":_vm.pagination.size,\"total\":_vm.total},on:{\"current-change\":_vm.pageCurrentChange,\"size-change\":_vm.pageSizeChange}}),_c('form-designer',{attrs:{\"data\":_vm.formItem,\"title\":_vm.dialogTitle,\"dialogVisible\":_vm.dialogVisible},on:{\"close\":_vm.closeDialog,\"update\":_vm.handleSave}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"visible\":_vm.addDialog,\"title\":_vm.title || '  ',\"width\":\"580px\",\"close-on-click-modal\":false,\"destroy-on-close\":\"\"},on:{\"update:visible\":function($event){_vm.addDialog=$event},\"close\":_vm.closeForm}},[_c('el-form',{ref:\"form\",staticStyle:{\"width\":\"89%\"},attrs:{\"size\":\"small\",\"model\":_vm.form,\"rules\":_vm.formRules,\"label-width\":\"130px\"}},[_c('el-form-item',{attrs:{\"label\":\"表单名称：\",\"prop\":\"formName\"}},[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"请输入\",\"maxlength\":50},model:{value:(_vm.form.formName),callback:function ($$v) {_vm.$set(_vm.form, \"formName\", $$v)},expression:\"form.formName\"}})],1)],1),_c('el-form',{ref:\"optionItemForm\",staticStyle:{\"width\":\"89%\"},attrs:{\"model\":_vm.optionItem,\"size\":\"small\",\"label-width\":\"130px\",\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"项目标题：\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"maxlength\":7,\"placeholder\":\"请输入(不超过7个字符)\"},model:{value:(_vm.optionItem.name),callback:function ($$v) {_vm.$set(_vm.optionItem, \"name\", $$v)},expression:\"optionItem.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"数据项类型：\",\"prop\":\"attrType\"}},[_c('el-select',{staticClass:\"inpW\",staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择\"},on:{\"change\":_vm.typeChange},model:{value:(_vm.optionItem.attrType),callback:function ($$v) {_vm.$set(_vm.optionItem, \"attrType\", $$v)},expression:\"optionItem.attrType\"}},_vm._l((_vm.typeOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"必填：\",\"prop\":\"mustInput\"}},[_c('el-switch',{attrs:{\"active-text\":\"是\",\"inactive-text\":\"否\"},on:{\"change\":_vm.changeMustInputStatus},model:{value:(_vm.optionItem.mustInput),callback:function ($$v) {_vm.$set(_vm.optionItem, \"mustInput\", $$v)},expression:\"optionItem.mustInput\"}})],1),(_vm.optionItem.attrType && _vm.optionItem.attrType !== 'location')?_c('el-form-item',{attrs:{\"label\":\"选项设置：\"}},[(_vm.optionItem.attrType === 'select' || _vm.optionItem.attrType === 'multiSelect')?_c('div',[_vm._l((_vm.optionItem.dataRange.options),function(optionsItem,index){return _c('el-row',{key:index,staticStyle:{\"margin-bottom\":\"6px\"}},[_c('el-col',{attrs:{\"span\":15}},[_c('el-input',{attrs:{\"size\":\"small\",\"maxlength\":100,\"clearable\":\"\"},model:{value:(optionsItem.content),callback:function ($$v) {_vm.$set(optionsItem, \"content\", $$v)},expression:\"optionsItem.content\"}})],1),_c('el-col',{attrs:{\"span\":6}},[_c('el-checkbox',{staticStyle:{\"margin-left\":\"20px\"},on:{\"change\":function($event){return _vm.handleCheck(index)}},model:{value:(optionsItem.defaultChosen),callback:function ($$v) {_vm.$set(optionsItem, \"defaultChosen\", $$v)},expression:\"optionsItem.defaultChosen\"}},[_vm._v(\"默认选中\")])],1),_c('el-col',{attrs:{\"span\":3}},[_c('el-button',{staticStyle:{\"margin-left\":\"20px\"},attrs:{\"size\":\"mini\",\"icon\":\"el-icon-close\",\"circle\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.removeOptionItem(index)}}})],1)],1)}),_c('el-row',[_c('el-button',{staticStyle:{\"float\":\"left\"},attrs:{\"type\":\"text\"},on:{\"click\":_vm.addOptionItem}},[_c('i',{staticClass:\"font_family icon-xinzenglanse\"}),_vm._v(\"\\n            添加选项\\n          \")])],1)],2):(_vm.optionItem.attrType === 'number')?_c('div',[_c('el-row',[_c('el-input-number',{attrs:{\"precision\":2,\"placeholder\":\"最小值\",\"max\":_vm.optionItem.dataRange.numMax},model:{value:(_vm.optionItem.dataRange.numMin),callback:function ($$v) {_vm.$set(_vm.optionItem.dataRange, \"numMin\", $$v)},expression:\"optionItem.dataRange.numMin\"}}),_c('span',[_vm._v(\"  至  \")]),_c('el-input-number',{attrs:{\"precision\":2,\"placeholder\":\"最大值\",\"min\":_vm.optionItem.dataRange.numMin},model:{value:(_vm.optionItem.dataRange.numMax),callback:function ($$v) {_vm.$set(_vm.optionItem.dataRange, \"numMax\", $$v)},expression:\"optionItem.dataRange.numMax\"}})],1)],1):(_vm.optionItem.attrType === 'image')?_c('div',[_c('el-row',[_c('span',[_vm._v(\"最大张数  \")]),_c('el-input-number',{attrs:{\"precision\":0,\"min\":1,\"max\":9,\"placeholder\":\"最大张数\"},model:{value:(_vm.optionItem.dataRange.imgMaxNum),callback:function ($$v) {_vm.$set(_vm.optionItem.dataRange, \"imgMaxNum\", $$v)},expression:\"optionItem.dataRange.imgMaxNum\"}})],1)],1):(_vm.optionItem.attrType === 'text' || _vm.optionItem.attrType === 'textarea')?_c('div',[_c('el-row',[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"预设文本\",\"maxlength\":300,\"clearable\":\"\"},model:{value:(_vm.optionItem.dataRange.presetText),callback:function ($$v) {_vm.$set(_vm.optionItem.dataRange, \"presetText\", $$v)},expression:\"optionItem.dataRange.presetText\"}})],1)],1):(_vm.optionItem.attrType === 'location')?_c('div',[_c('el-row',[_c('el-input',{staticStyle:{\"width\":\"100%\"},attrs:{\"size\":\"small\",\"placeholder\":\"定位地址\",\"disabled\":\"\"},model:{value:(_vm.optionItem.dataRange.position),callback:function ($$v) {_vm.$set(_vm.optionItem.dataRange, \"position\", $$v)},expression:\"optionItem.dataRange.position\"}})],1)],1):_vm._e()]):_vm._e(),(_vm.optionItem.attrType === 'number')?_c('el-form-item',{attrs:{\"label\":\"数值单位：\"}},[_c('el-input',{attrs:{\"maxlength\":10,\"clearable\":\"\"},model:{value:(_vm.optionItem.dataRange.unit),callback:function ($$v) {_vm.$set(_vm.optionItem.dataRange, \"unit\", $$v)},expression:\"optionItem.dataRange.unit\"}})],1):_vm._e(),_c('el-form-item',{staticStyle:{\"text-align\":\"right\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\",\"size\":\"small\"},on:{\"click\":_vm.handleAddItem}},[_vm._v(\"\\n        添加\\n      \")])],1)],1),_c('div',{staticClass:\"hr\"}),_c('q-custom-input',{attrs:{\"custom-options\":_vm.form.formItems,\"disabled\":\"\",\"closable\":\"\",\"line-size\":1,\"size\":\"mini\"}}),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.handleSave}},[_vm._v(\"保存\")]),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.closeForm}},[_vm._v(\"取消\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Vue, Component, Prop, Model, Watch } from \"vue-property-decorator\";\r\nimport { ElForm } from \"element-ui/types/form\";\r\nimport api from \"@/microApps/processManage/api\";\r\n\r\n@Component({})\r\nexport default class FormDesigner extends Vue {\r\n  @Prop({ type: String, default: \"\" })\r\n  title?: string;\r\n\r\n  @Prop({ type: Boolean, default: false })\r\n  dialogVisible?: boolean;\r\n\r\n  @Prop({ type: Object, default: () => ({}) })\r\n  data?: any;\r\n\r\n  optionItem: any = {\r\n    name: \"\",\r\n    attrType: \"\",\r\n    value: \"\",\r\n    id: \"\",\r\n    mustInput: false,\r\n    dataRange: {\r\n      options: [],\r\n      multiSelectedItems: []\r\n    }\r\n  };\r\n\r\n  addDialog = false;\r\n  form: { id?: string; formName: string; formItems: any[] } = { formName: \"\", formItems: [] };\r\n  formRules: any = {\r\n    formName: { required: true, message: \"请输入表单名称\", trigger: \"blur\" }\r\n  };\r\n  rules: any = {\r\n    name: [\r\n      {\r\n        required: true,\r\n        message: \"请输入项目标题\",\r\n        trigger: \"blur\"\r\n      },\r\n      {\r\n        validator: (rule: any, value: any, callback: any) => {\r\n          if (this.form.formItems.some((d: any) => d.name === value)) {\r\n            return callback(new Error(\"项目标题不要重复\"));\r\n          }\r\n          callback();\r\n        },\r\n        trigger: \"blur\"\r\n      }\r\n    ],\r\n    attrType: [\r\n      {\r\n        required: true,\r\n        message: \"请选择数据项类型\",\r\n        trigger: \"blur\"\r\n      }\r\n    ]\r\n  };\r\n  typeOptions: Array<any> = [\r\n    {\r\n      value: \"select\",\r\n      label: \"单项选择\"\r\n    },\r\n    {\r\n      value: \"multiSelect\",\r\n      label: \"多项选择\"\r\n    },\r\n    {\r\n      value: \"number\",\r\n      label: \"数值\"\r\n    },\r\n    {\r\n      value: \"image\",\r\n      label: \"图片\"\r\n    },\r\n    {\r\n      value: \"text\",\r\n      label: \"文本\"\r\n    },\r\n    {\r\n      value: \"textarea\",\r\n      label: \"多行文本\"\r\n    },\r\n    {\r\n      value: \"location\",\r\n      label: \"定位\"\r\n    },\r\n    // {\r\n    //   value: \"eventType\",\r\n    //   label: \"事件类型\"\r\n    // },\r\n    {\r\n      value: \"link\",\r\n      label: \"网页链接\"\r\n    }\r\n  ];\r\n\r\n  @Watch(\"dialogVisible\", { immediate: true, deep: true })\r\n  handleChange(newValue: boolean) {\r\n    this.addDialog = newValue;\r\n  }\r\n  @Watch(\"data\", { immediate: true, deep: true })\r\n  dataChange(val: any) {\r\n    if (val) {\r\n      this.form.formName = val.formName;\r\n      this.form.id = val.id;\r\n      this.form.formItems = val.formDef ? JSON.parse(val.formDef) : [];\r\n    } else {\r\n      this.form = { formName: \"\", formItems: [] };\r\n    }\r\n  }\r\n\r\n  // 数据项类型修改\r\n  typeChange() {\r\n    if (this.optionItem.attrType === \"select\" || this.optionItem.attrType === \"multiSelect\") {\r\n      this.optionItem.dataRange.options = [];\r\n      this.optionItem.dataRange.multiSelectedItems = [];\r\n    } else if (this.optionItem.attrType === \"number\") {\r\n      this.$set(this.optionItem.dataRange, \"numMin\", 0);\r\n      this.$set(this.optionItem.dataRange, \"numMax\", 10);\r\n      this.$set(this.optionItem.dataRange, \"unit\", \"\");\r\n    } else if (this.optionItem.attrType === \"text\") {\r\n      this.$set(this.optionItem.dataRange, \"presetText\", \"\");\r\n    } else if (this.optionItem.attrType === \"image\") {\r\n      this.$set(this.optionItem.dataRange, \"imgMaxNum\", 1);\r\n    } else if (this.optionItem.attrType === \"location\") {\r\n      this.changeMustInputStatus(this.optionItem.mustInput);\r\n    }\r\n  }\r\n\r\n  handleCheck(index: number) {\r\n    if (this.optionItem.dataRange.options[index].defaultChosen && this.optionItem.attrType === \"select\") {\r\n      for (let i in this.optionItem.dataRange.options) {\r\n        this.optionItem.dataRange.options[i].defaultChosen = false;\r\n      }\r\n      this.optionItem.dataRange.options[index].defaultChosen = true;\r\n    }\r\n  }\r\n\r\n  removeOptionItem(index: number) {\r\n    this.optionItem.dataRange.options.splice(index, 1);\r\n  }\r\n\r\n  addOptionItem() {\r\n    if (this.optionItem.attrType === \"select\" || this.optionItem.attrType === \"multiSelect\") {\r\n      this.optionItem.dataRange.options.push({\r\n        content: \"\",\r\n        defaultChosen: false\r\n      });\r\n    } else {\r\n      this.optionItem.dataRange.options.push({});\r\n    }\r\n  }\r\n\r\n  // 添加一项表单\r\n  handleAddItem() {\r\n    (this.$refs[\"optionItemForm\"] as ElForm).validate((valid: boolean) => {\r\n      if (valid) {\r\n        (this.$refs[\"optionItemForm\"] as ElForm).clearValidate();\r\n        if (this.optionItem.attrType === \"select\" || this.optionItem.attrType === \"multiSelect\") {\r\n          this.optionItem.value = this.optionItem.dataRange.options.filter((i: any) => i.defaultChosen).map((d: any) => d.content);\r\n        }\r\n        this.form.formItems.push(JSON.parse(JSON.stringify({ ...this.optionItem, id: new Date().valueOf() })));\r\n        this.optionItem = {\r\n          name: \"\",\r\n          attrType: \"\",\r\n          value: \"\",\r\n          mustInput: false,\r\n          id: \"\",\r\n          dataRange: {\r\n            options: [],\r\n            multiSelectedItems: []\r\n          }\r\n        };\r\n      } else {\r\n        return;\r\n      }\r\n    });\r\n  }\r\n\r\n  changeMustInputStatus(val: boolean) {\r\n    if (this.optionItem.attrType === \"location\" && val) {\r\n      this.$message.error(\"定位选项不能设置必填\");\r\n      this.optionItem.mustInput = false;\r\n    }\r\n  }\r\n\r\n  closeForm() {\r\n    this.optionItem = {\r\n      name: \"\",\r\n      attrType: \"\",\r\n      value: \"\",\r\n      mustInput: false,\r\n      id: \"\",\r\n      dataRange: {\r\n        options: [],\r\n        multiSelectedItems: []\r\n      }\r\n    };\r\n    this.addDialog = false;\r\n    this.$emit(\"close\");\r\n  }\r\n\r\n  // 检查表单名称\r\n  async checkFormName() {\r\n    let {\r\n      data: { data, status, message }\r\n    } = await this.$http.get(api.formManage.checkFormName, {\r\n      params: {\r\n        formName: this.form.formName\r\n      }\r\n    });\r\n    if (status) {\r\n      if (!data) {\r\n        this.$message.info(\"表单名称已使用\");\r\n      }\r\n      return data;\r\n    } else {\r\n      this.$message.error(message);\r\n    }\r\n  }\r\n\r\n  // 保存表单\r\n  async save(callback: any) {\r\n    try {\r\n      if (!this.form.formName) {\r\n        this.$message.error(\"请输入表单名称\");\r\n        return callback();\r\n      }\r\n      if (!this.form.formItems.length) {\r\n        this.$message.error(\"请添加项目\");\r\n        return callback();\r\n      }\r\n      if (!this.data.id && !(await this.checkFormName())) {\r\n        return callback();\r\n      }\r\n      let formId = this.form.id;\r\n      let {\r\n        data: { data, status, message }\r\n      } = await this.$http.post(this.data.id || this.form.id ? api.formManage.updateFormDefine : api.formManage.insertFormDefine, {\r\n        id: this.data.id,\r\n        formName: this.form.formName,\r\n        formDef: JSON.stringify(this.form.formItems)\r\n      });\r\n      if (status) {\r\n        callback(formId ? formId : data);\r\n      } else {\r\n        this.$message.error(message);\r\n        callback();\r\n      }\r\n    } catch (e) {\r\n      callback();\r\n    }\r\n  }\r\n\r\n  handleSave() {\r\n    this.save((formId: string) => {\r\n      if (formId) {\r\n        this.$message.success(\"保存成功\");\r\n        this.$emit(\"update\");\r\n      }\r\n    });\r\n  }\r\n\r\n  created() {\r\n    // this.getEventType();\r\n  }\r\n}\r\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormDesigner.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormDesigner.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FormDesigner.vue?vue&type=template&id=2b2bd4d7&scoped=true&\"\nimport script from \"./FormDesigner.vue?vue&type=script&lang=ts&\"\nexport * from \"./FormDesigner.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FormDesigner.vue?vue&type=style&index=0&id=2b2bd4d7&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2b2bd4d7\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n/**\r\n * @Describe: Describe\r\n * @Author: liuyang\r\n * @Date: 2019-09-03 15:10\r\n */\r\nimport { Vue, Component, Prop, Model, Watch } from \"vue-property-decorator\";\r\nimport FormDesigner from \"./components/FormDesigner.vue\";\r\nimport api from \"@/microApps/processManage/api\";\r\n\r\n@Component({\r\n  components: {\r\n    FormDesigner\r\n  }\r\n})\r\nexport default class List extends Vue {\r\n  loading: boolean = false;\r\n  tableData: Array<any> = [];\r\n  formName: string = \"\";\r\n  pagination: any = {\r\n    size: 10,\r\n    current: 1\r\n  };\r\n  total: number = 0;\r\n  dialogVisible: boolean = false;\r\n  dialogTitle: string = \"\";\r\n  formItem: any = {};\r\n\r\n  closeDialog() {\r\n    this.dialogVisible = false;\r\n  }\r\n\r\n  created(): void {\r\n    this.getTableData();\r\n  }\r\n\r\n  pageCurrentChange(num: number) {\r\n    this.pagination.current = num;\r\n    this.getTableData();\r\n  }\r\n\r\n  pageSizeChange(size: number) {\r\n    this.pagination.size = size;\r\n    this.getTableData();\r\n  }\r\n\r\n  async getTableData() {\r\n    this.loading = true;\r\n    try {\r\n      let {\r\n        data: { data, status, message }\r\n      } = await this.$http.get(api.formManage.getFormList, {\r\n        params: {\r\n          formName: this.formName,\r\n          ...this.pagination\r\n        }\r\n      });\r\n      if (status) {\r\n        this.tableData = data.records;\r\n        this.total = data.total;\r\n      } else {\r\n        this.$message.error(message);\r\n      }\r\n    } finally {\r\n      this.loading = false;\r\n    }\r\n  }\r\n\r\n  handleAdd() {\r\n    this.dialogVisible = true;\r\n    this.dialogTitle = \"添加表单\";\r\n    this.formItem = {};\r\n  }\r\n\r\n  handleEdit(item: any) {\r\n    this.dialogVisible = true;\r\n    this.dialogTitle = \"修改表单\";\r\n    this.formItem = item;\r\n  }\r\n\r\n  handleDelete(item: any) {\r\n    this.$confirm(\"将要删除表单:\" + item.formName + \",是否继续？\", \"确认\", {\r\n      confirmButtonText: \"确定\",\r\n      cancelButtonText: \"取消\"\r\n    }).then(() => {\r\n      this.deleteForm(item);\r\n    });\r\n  }\r\n\r\n  async deleteForm(item: any) {\r\n    let {\r\n      data: { data, status, message }\r\n    } = await this.$http.delete(api.formManage.delFormDefine, {\r\n      params: {\r\n        formId: item.id\r\n      }\r\n    });\r\n    if (status) {\r\n      this.$message.success(\"删除成功\");\r\n      this.getTableData();\r\n    } else {\r\n      this.$message.error(message);\r\n    }\r\n  }\r\n\r\n  handleSave() {\r\n    this.dialogVisible = false;\r\n    this.getTableData();\r\n  }\r\n}\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormManageList.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormManageList.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FormManageList.vue?vue&type=template&id=649ecacc&scoped=true&\"\nimport script from \"./FormManageList.vue?vue&type=script&lang=ts&\"\nexport * from \"./FormManageList.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FormManageList.vue?vue&type=style&index=0&id=649ecacc&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"649ecacc\",\n  null\n  \n)\n\nexport default component.exports","const api = {\r\n  formManage: {\r\n    getFormList: \"/admin/formdesigner/getFormList\",\r\n    delFormDefine: \"/admin/formdesigner/delFormDefine\",\r\n    getEventType: \"/api/eventType/getEventType\",\r\n    checkFormName: \"/admin/formdesigner/checkFormName\",\r\n    updateFormDefine: \"/admin/formdesigner/updateFormDefine\",\r\n    insertFormDefine: \"/admin/formdesigner/insertFormDefine\",\r\n    getFormDefine: \"/admin/formdesigner/getFormDefine\"\r\n  },\r\n  processManage: {\r\n    getAllProcessType: \"/admin/processType/procdeftype/findAll\",\r\n    getAllProcessTypePaging: \"/admin/processType/paging\", // 分类管理分页查询接口\r\n    getPageProcess: \"/admin/processDesigner/manager/process/pagingProcessDefineInfo\", //\r\n    deleteProcdefInfo: \"/admin/processDesigner/manager/process/deleteProcdefInfo\",\r\n    addProcessType: \"/admin/processType/procdeftype/insert\",\r\n    deleteProcessType: \"/admin/processType/procdeftype/delete/\",\r\n\r\n    saveProcessFile: \"/admin/processDesigner/manager/file/saveProcessFile\",\r\n    uploadProcessFile: \"/admin/processDesigner/manager/file/uploadProcessFile\",\r\n    getAllProcess: \"/admin/processDesigner/manager/process/getAllProcess\",\r\n    updateProcessType: \"/admin/processDesigner/manager/process/updateProcessType\",\r\n    getProcdefById: \"/admin/processDesigner/manager/process/getProcdefById\",\r\n    getAllOrg: \"/admin/processDesigner/public/visible/getAllOrg\",\r\n    getAllRole: \"/admin/processDesigner/public/visible/getAllRole\",\r\n    getAllUser: \"/admin/processDesigner/public/visible/getAllUser\",\r\n    getProcessVisibleOrg: \"/admin/processDesigner/manager/visible/getProcessVisibleOrg\",\r\n    getProcessVisibleRole: \"/admin/processDesigner/manager/visible/getProcessVisibleRole\",\r\n    getProcessVisiblePerson: \"/admin/processDesigner/manager/visible/getProcessVisiblePerson\",\r\n    saveProcessVisibleOrg: \"/admin/processDesigner/manager/visible/saveProcessVisibleOrg\",\r\n    saveProcessVisibleRole: \"/admin/processDesigner/manager/visible/saveProcessVisibleRole\",\r\n    saveProcessVisibleUser: \"/admin/processDesigner/manager/visible/saveProcessVisibleUser\",\r\n    saveProcessForm: \"/admin/processDesigner/manager/processForm/save\",\r\n    getAssignTaskList: \"/admin/processDesigner/public/process/getAssignTaskList\",\r\n    saveUserTaskDesignator: \"/admin/processDesigner/manager/process/saveUserTaskDesignator\",\r\n    getProcdefByKey: \"/admin/processDesigner/public/processForm/getProcdefByKey\",\r\n    getProcessImage: \"/admin/processDesigner/manager/file/getProcessImage\",\r\n    downloadProcessFile: \"/admin/processDesigner/manager/file/downloadProcessFile\",\r\n    updateProcessStatus: \"/admin/processDesigner/manager/process/updateProcessStatus\",\r\n    getAllProcessTypeWithDelete: \"/admin/processType/procdeftype/findAllDelete/\"\r\n  }\r\n};\r\nexport default api;\r\n"],"sourceRoot":""}