(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["micro_baseLogin"]=t():e["micro_baseLogin"]=t()})(window,(function(){return function(e){function t(t){for(var n,s,u=t[0],i=t[1],c=t[2],f=0,p=[];f<u.length;f++)s=u[f],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&p.push(o[s][0]),o[s]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);l&&l(t);while(p.length)p.shift()();return a.push.apply(a,c||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,u=1;u<r.length;u++){var i=r[u];0!==o[i]&&(n=!1)}n&&(a.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},o={baseLogin:0},a=[];function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/microApp/";var u=window["webpackJsonpmicro_name_"]=window["webpackJsonpmicro_name_"]||[],i=u.push.bind(u);u.push=t,u=u.slice();for(var c=0;c<u.length;c++)t(u[c]);var l=i;return a.push([1,"chunk-vendors","chunk-common"]),r()}({1:function(e,t,r){e.exports=r("4604")},4604:function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("7038"),o=r.n(n),a=r("2b0e"),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"base-login"},[r("div",{staticClass:"section"},[r("div",{staticClass:"logo"}),r("div",{staticClass:"form-container"},[r("div",{staticClass:"title"},[e._v("登录")]),r("div",{staticClass:"form"},[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.formRules,"hide-required-asterisk":""}},[r("el-form-item",{attrs:{label:"用户名",prop:"username"}},[r("el-input",{model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{attrs:{type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1)],1),r("div",{staticClass:"btn-container"},[r("el-button",{attrs:{type:"primary"},on:{click:e.handleLogin}},[e._v("登  录")])],1)],1)])])])},u=[],i=(r("ac6a"),r("96cf"),r("3b8d")),c=r("d225"),l=r("b0b4"),f=r("308d"),p=r("6bb5"),d=r("4e2b"),m=r("9ab4"),b=r("60a3"),g=r("c195"),v=r("bc3a"),h=r.n(v),y=function(e){function t(){var e;return Object(c["a"])(this,t),e=Object(f["a"])(this,Object(p["a"])(t).apply(this,arguments)),e.form={username:"",password:""},e.formRules={username:{required:!0,message:"请输入用户名",trigger:"change"},password:{required:!0,message:"请输入密码",trigger:"change"}},e}return Object(d["a"])(t,e),Object(l["a"])(t,[{key:"handleLogin",value:function(){var e=this;this.$refs.form.validate((function(t){t&&e.doLogin()}))}},{key:"doLogin",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r,n,o,a,s,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=new FormData,t.append("username",this.form.username),t.append("password",this.form.password),e.next=5,h.a.post("/api/user/login",t);case 5:r=e.sent,n=r.data,o=n.status,a=n.data,s=n.message,o?(g["a"].set("accessToken",a.accessToken),localStorage.setItem("menus",JSON.stringify(a.menus)),localStorage.setItem("realName",a.realName),localStorage.setItem("userName",a.username),localStorage.setItem("orgIds",JSON.stringify(a.orgIds)),u={},a.baseTypes.forEach((function(e){u[e.code]=!0})),localStorage.setItem("baseTypeCodeMap",JSON.stringify(u)),qTouch.navigateToUrl(qTouch.appPathMap.root)):this.$message.error(s);case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),t}(b["e"]);y=m["__decorate"]([Object(b["a"])({})],y);var w=y,O=w,j=(r("8790"),r("2877")),_=Object(j["a"])(O,s,u,!1,null,"84b070b0",null),x=_.exports,k=r("c947"),S=r("0848"),T=r("4579"),C=r("56b0"),P=r("b301"),I=r("3348");a["default"].use(k["a"]),a["default"].use(C["a"]),a["default"].use(P["a"]),a["default"].use(S["a"]),a["default"].use(T["a"]),a["default"].use(I["a"]),r.d(t,"bootstrap",(function(){return M})),r.d(t,"mount",(function(){return N})),r.d(t,"unmount",(function(){return q}));var L=o()({Vue:a["default"],appOptions:function(){return{render:function(e){return e(x)}}}}),M=L.bootstrap,N=L.mount,q=L.unmount},8790:function(e,t,r){"use strict";var n=r("bec7"),o=r.n(n);o.a},bec7:function(e,t,r){}})}));
//# sourceMappingURL=baseLogin.4c172ccfbc2c93f28b61.js.map