{"version":3,"sources":["webpack://micro_[name]/./src/microApps/inspection/components/PersonGroup.vue?d305","webpack://micro_[name]/./src/microApps/inspection/api/index.ts","webpack://micro_[name]/./src/microApps/inspection/views/personGroup/PersonGroup.vue?d01d","webpack://micro_[name]/./src/microApps/inspection/components/PersonGroup.vue?d25d","webpack://micro_[name]/./src/microApps/inspection/components/PersonGroup.vue?21ec","webpack://micro_[name]/./src/microApps/inspection/components/PersonGroup.vue?7239","webpack://micro_[name]/./src/microApps/inspection/components/PersonGroup.vue?863c","webpack://micro_[name]/./src/microApps/inspection/views/personGroup/PersonGroup.vue","webpack://micro_[name]/./src/microApps/inspection/views/personGroup/PersonGroup.vue?bfe6","webpack://micro_[name]/./src/microApps/inspection/views/personGroup/PersonGroup.vue?3cde","webpack://micro_[name]/./src/microApps/inspection/views/personGroup/PersonGroup.vue?c48e","webpack://micro_[name]/./src/microApps/inspection/components/PersonGroup.vue?4531"],"names":["api","getCodesListByCatalog","getInspectQRCodes","getSensorsListByPart","getSensorInfoById","getPartsList","getCodeById","updateCode","saveCode","deleteCode","addTemplateNode","previewCode","deleteTemplate","getPlansListByCatalog","getInspectPlans","catalog","add","update","delete","tree","typeTree","qrCode","listById","save","preview","detail","isBinded","template","list","listForOrg","personGroup","group","all","person","record","other","getAllUserList","getAllUser","getAllEventType","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","selectedMulty","staticRenderFns","staticStyle","slot","_v","on","$event","editOrAdd","_e","buttonsVisible","getPersonGroup","ref","personGroupList","handleSelectionChange","scopedSlots","_u","key","fn","scope","row","deletePersonGroup","searchDTO","page","rows","total","$set","showEditDialog","model","value","callback","$$v","groupForm","expression","personTransferData","personTransferProps","handleChange","savePersonGroup","multipleSelection","label","id","personIds","groupName","editMode","$http","get","then","res","data","status","length","$message","error","message","val","$emit","warning","persons","forEach","item","push","params","size","current","post","success","getPersonGroupList","that","$refs","personGroupRef","setTimeout","selected","index","toggleRowSelection","mode","getSelections","type","Array","default","required","String","component","components","PersonGroup"],"mappings":"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","file":"static/js/chunk-2c665e21.11445a72.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonGroup.vue?vue&type=style&index=0&id=41714496&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonGroup.vue?vue&type=style&index=0&id=41714496&scoped=true&lang=scss&\"","const api = {\r\n  getCodesListByCatalog: \"/admin/code/info/list/catalog/\",\r\n  getInspectQRCodes: \"/admin/catalog/tree\",\r\n  getSensorsListByPart: \"/api/partsSensorRelation/getSensorIds\", // 根据设备id查询已绑定的传感器列表\r\n  getSensorInfoById: \"/api/sensor/getSensorById\", // 根据id查询传感器详细信息\r\n  getPartsList: \"/admin/parts/getList\",\r\n  // todo 修改成正确的接口\r\n  getCodeById: \"/api/sensor/getSensorById\", // 根据id查询传感器详细信息\r\n  updateCode: \"/api/sensor/getSensorById\", // 根据id查询传感器详细信息\r\n  saveCode: \"/api/sensor/getSensorById\", // 根据id查询传感器详细信息\r\n  deleteCode: \"/api/sensor/getSensorById\", // 根据id查询传感器详细信息\r\n  addTemplateNode: \"/api/sensor/getSensorById\", // 根据id查询传感器详细信息\r\n  previewCode: \"/api/sensor/getSensorById\", // 根据id查询传感器详细信息\r\n  deleteTemplate: \"/api/sensor/getSensorById\", // 根据id查询传感器详细信息\r\n  getPlansListByCatalog: \"/api/sensor/getSensorById\", // 根据id查询传感器详细信息\r\n  getInspectPlans: \"/api/sensor/getSensorById\", // 根据id查询传感器详细信息\r\n  // todo 有些文件里面用的 const Url: any = {}; 临时解决报错问题 记得改一下\r\n\r\n  // 目录\r\n  catalog: {\r\n    add: \"/admin/catalog/add\",\r\n    update: \"/admin/catalog/update\",\r\n    delete: \"/admin/catalog/delete/\", // `${id}`\r\n    tree: \"/admin/catalog/tree\",\r\n    typeTree: \"/admin/catalog/tree/\" // `${type}` 巡检二维码类型：INSPECT_QR_CODE; 巡检方案类型：INSPECT_PlAN_CODE\r\n  },\r\n  // 二维码\r\n  qrCode: {\r\n    listById: \"/admin/code/info/list/catalog/\", // `${catalogId}`\r\n    save: \"/admin/code/info/save\",\r\n    update: \"/admin/code/info/update\",\r\n    delete: \"/admin/code/info/delete/\", // `${codeId}`\r\n    preview: \"/admin/code/info/preview/\", // `${codeId}`\r\n    detail: \"/admin/code/info/detail/\", // `${codeId}`\r\n    isBinded: \"/admin/code/info/verify/device/\" // `${codeId}`\r\n  },\r\n  // 方案\r\n  template: {\r\n    list: \"/admin/inspect/template/list/catalog/\", // `${catalogId}`\r\n    listForOrg: \"/admin/inspect/template/getInspectTemplateByOrgId\",\r\n    detail: \"/admin/inspect/template/get/\", // `${templateId}`\r\n    save: \"/admin/inspect/template/saveTemplate\",\r\n    delete: \"/admin/inspect/template/\" // `${templateId}`\r\n  },\r\n  // 人员组\r\n  personGroup: {\r\n    // 组\r\n    group: {\r\n      add: \"/admin/person/group/add\",\r\n      all: \"/admin/person/group/all\", // 获取所有小组名\r\n      list: \"/admin/person/group/list\", // 获取所有小组名及组内人员\r\n      delete: \"/admin/person/group/delete/\", // `${groupId}`\r\n      update: \"/admin/person/group/update\"\r\n    },\r\n    // 人\r\n    person: {\r\n      list: \"/admin/inspect/person/list/\", // `{groupId}` 小组id\r\n      add: \"/admin/inspect/person/add\", // 添加人员\r\n      update: \"/admin/inspect/person/put\",\r\n      delete: \"/admin/inspect/person/delete/\" // `${groupId}/${personIds}`\r\n    }\r\n  },\r\n  // 巡检结果\r\n  record: {\r\n    list: \"/admin/inspect/record/pagination\", // by deviceId\r\n    save: \"/admin/inspect/record/save\" // create new record\r\n  },\r\n  other: {\r\n    getAllUserList: \"/admin/getUserList\",\r\n    getAllUser: \"/admin/processDesigner/public/visible/getAllUser\",\r\n    getAllEventType: \"/admin/event/type/tree\"\r\n  }\r\n};\r\n\r\nexport default api;\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('person-group',{attrs:{\"selected\":_vm.selectedMulty,\"mode\":\"manage\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main-form\"},[_c('el-card',{staticStyle:{\"height\":\"100%\"},attrs:{\"shadow\":\"never\"}},[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('i',{staticClass:\"el-icon-info\"}),_vm._v(\"\\n      成员组列表\\n      \"),(_vm.buttonsVisible)?_c('el-button',{staticStyle:{\"float\":\"right\",\"margin-top\":\"-6px\"},attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.editOrAdd('new', {})}}},[_vm._v(\"创建人员组\")]):_vm._e(),(!_vm.buttonsVisible)?_c('el-button',{staticStyle:{\"float\":\"right\",\"margin-top\":\"-6px\"},attrs:{\"size\":\"small\"},on:{\"click\":_vm.getPersonGroup}},[_vm._v(\"确认选择\")]):_vm._e()],1),_c('el-table',{ref:\"personGroupRef\",staticStyle:{\"height\":\"calc(100% - 34px)\"},attrs:{\"data\":_vm.personGroupList},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_c('el-table-column',{attrs:{\"label\":\"人员组名称\",\"prop\":\"groupName\",\"header-align\":\"center\",\"width\":\"200\"}}),_c('el-table-column',{attrs:{\"label\":\"组内成员\",\"prop\":\"personNames\",\"header-align\":\"center\"}}),(_vm.buttonsVisible)?_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\",\"header-align\":\"center\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"medium\",\"type\":\"text\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.editOrAdd('edit', scope.row)}}}),_c('el-button',{attrs:{\"size\":\"medium\",\"type\":\"text\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.deletePersonGroup(scope.row)}}})]}}],null,false,4173391154)}):_vm._e()],1),_c('q-pagination',{attrs:{\"current-page\":_vm.searchDTO.page,\"page-size\":_vm.searchDTO.rows,\"total\":_vm.searchDTO.total},on:{\"update:currentPage\":function($event){return _vm.$set(_vm.searchDTO, \"page\", $event)},\"update:current-page\":function($event){return _vm.$set(_vm.searchDTO, \"page\", $event)}}})],1),_c('el-dialog',{attrs:{\"title\":\"成员组设置\",\"visible\":_vm.showEditDialog,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.showEditDialog=$event}}},[_c('el-form',{model:{value:(_vm.groupForm),callback:function ($$v) {_vm.groupForm=$$v},expression:\"groupForm\"}},[_c('el-row',[_c('el-form-item',{attrs:{\"label\":\"成员组名称\",\"label-width\":\"120px\",\"prop\":\"personGroupName\"}},[_c('el-input',{staticStyle:{\"width\":\"30%\"},attrs:{\"size\":\"small\"},model:{value:(_vm.groupForm.groupName),callback:function ($$v) {_vm.$set(_vm.groupForm, \"groupName\", $$v)},expression:\"groupForm.groupName\"}})],1)],1),_c('el-row',[_c('el-form-item',{attrs:{\"label\":\"成员组名称\",\"label-width\":\"120px\",\"prop\":\"persons\"}},[_c('el-transfer',{attrs:{\"data\":_vm.personTransferData,\"titles\":['所有成员', '组内成员'],\"props\":_vm.personTransferProps},on:{\"change\":_vm.handleChange},model:{value:(_vm.groupForm.personIds),callback:function ($$v) {_vm.$set(_vm.groupForm, \"personIds\", $$v)},expression:\"groupForm.personIds\"}})],1)],1),_c('el-row',{staticStyle:{\"text-align\":\"right\"}},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.savePersonGroup()}}},[_vm._v(\"保存\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n// 引入外部组件与ts\r\nimport { Vue, Component, Prop } from \"vue-property-decorator\";\r\nimport Url from \"../api\";\r\n\r\n@Component\r\nexport default class PersonGroup extends Vue {\r\n  @Prop({ type: Array, default: () => [], required: true })\r\n  selected!: any;\r\n  @Prop({ type: String, default: \"manage\", required: true })\r\n  mode!: string;\r\n\r\n  personGroupList: Array<any> = [];\r\n  multipleSelection: Array<any> = [];\r\n  searchDTO: any = {\r\n    page: 1,\r\n    rows: 10,\r\n    total: 0\r\n  };\r\n  personTransferData: Array<any> = [];\r\n  personTransferProps: any = {\r\n    key: \"userId\",\r\n    label: \"userName\"\r\n  };\r\n  groupForm: any = {\r\n    id: \"\",\r\n    personIds: [], // 选定人员ids\r\n    groupName: \"\"\r\n  };\r\n  editMode: string = \"\"; // new: 新建人员组； edit： 更新人员组\r\n  showEditDialog: boolean = false;\r\n  buttonsVisible: boolean = false;\r\n\r\n  getPersonGroupList() {\r\n    this.$http.get(Url.personGroup.group.list).then((res: any) => {\r\n      if (res.data.status) {\r\n        this.personGroupList = res.data.data;\r\n        this.searchDTO.total = res.data.data.length;\r\n      } else {\r\n        this.$message.error(res.data.message);\r\n      }\r\n    });\r\n  }\r\n  handleSelectionChange(val: any) {\r\n    this.multipleSelection = val;\r\n  }\r\n  getPersonGroup() {\r\n    if (this.multipleSelection.length > 0) {\r\n      this.$emit(\"personGroup\", this.multipleSelection);\r\n    } else {\r\n      this.$message.warning(\"请选择人员组\");\r\n    }\r\n  }\r\n  editOrAdd(editMode: any, row: any) {\r\n    this.showEditDialog = true;\r\n    this.editMode = editMode;\r\n    if (editMode === \"edit\") {\r\n      this.groupForm.id = row.id;\r\n      this.groupForm.groupName = row.groupName;\r\n      this.groupForm.personIds = [];\r\n      row.persons.forEach((item: any) => {\r\n        this.groupForm.personIds.push(item.id);\r\n      });\r\n    } else {\r\n      this.groupForm.id = \"\";\r\n      this.groupForm.groupName = \"\";\r\n    }\r\n    this.$http\r\n      .get(Url.other.getAllUser, {\r\n        params: {\r\n          size: 1000,\r\n          current: 1\r\n        }\r\n      })\r\n      .then((res: any) => {\r\n        if (res.data.status) {\r\n          this.personTransferData = res.data.data;\r\n        } else {\r\n          this.$message.error(res.data.message);\r\n        }\r\n      });\r\n  }\r\n  handleChange(value: any) {\r\n    this.groupForm.personIds = value;\r\n  }\r\n  savePersonGroup() {\r\n    if (this.editMode === \"edit\") {\r\n      this.$http.post(Url.personGroup.group.update, this.groupForm).then((res: any) => {\r\n        if (res.data.status) {\r\n          this.$message.success(\"修改成功！\");\r\n          this.getPersonGroupList();\r\n          this.showEditDialog = false;\r\n        } else {\r\n          this.$message.error(res.data.message);\r\n        }\r\n      });\r\n    } else {\r\n      this.$http.post(Url.personGroup.group.add, this.groupForm).then((res: any) => {\r\n        if (res.data.status) {\r\n          this.showEditDialog = false;\r\n          this.$message.success(\"保存成功！\");\r\n          this.getPersonGroupList();\r\n        } else {\r\n          this.$message.error(res.data.message);\r\n        }\r\n      });\r\n    }\r\n  }\r\n  deletePersonGroup(row: any) {\r\n    this.$http.get(Url.personGroup.group.delete + row.id).then((res: any) => {\r\n      if (res.data.status) {\r\n        this.$message.success(\"删除成功\");\r\n        this.getPersonGroupList();\r\n      } else {\r\n        this.$message.error(res.data.message);\r\n      }\r\n    });\r\n  }\r\n  getSelections() {\r\n    const that = this;\r\n    let ref: any = this.$refs.personGroupRef;\r\n    setTimeout(function() {\r\n      that.selected.forEach((index: any) => {\r\n        that.personGroupList.forEach((item: any) => {\r\n          if (item.id === index) {\r\n            that.multipleSelection.push(item);\r\n            ref.toggleRowSelection(item, true);\r\n          }\r\n        });\r\n      });\r\n    }, 150);\r\n  }\r\n\r\n  created() {\r\n    this.buttonsVisible = this.mode === \"manage\";\r\n    this.getPersonGroupList();\r\n  }\r\n  mounted() {\r\n    this.getSelections();\r\n  }\r\n}\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonGroup.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonGroup.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PersonGroup.vue?vue&type=template&id=41714496&scoped=true&\"\nimport script from \"./PersonGroup.vue?vue&type=script&lang=ts&\"\nexport * from \"./PersonGroup.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PersonGroup.vue?vue&type=style&index=0&id=41714496&scoped=true&lang=scss&\"\nimport style1 from \"./PersonGroup.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"41714496\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\r\nimport { Component, Vue } from \"vue-property-decorator\";\r\nimport PersonGroup from \"@/microApps/inspection/components/PersonGroup.vue\";\r\n\r\n@Component({\r\n  components: {\r\n    PersonGroup\r\n  }\r\n})\r\nexport default class PersonGroupIndex extends Vue {\r\n  selectedMulty: Array<any> = [];\r\n}\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonGroup.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonGroup.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PersonGroup.vue?vue&type=template&id=5064d250&scoped=true&\"\nimport script from \"./PersonGroup.vue?vue&type=script&lang=ts&\"\nexport * from \"./PersonGroup.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PersonGroup.vue?vue&type=style&index=0&id=5064d250&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5064d250\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonGroup.vue?vue&type=style&index=0&id=5064d250&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonGroup.vue?vue&type=style&index=0&id=5064d250&scoped=true&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonGroup.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonGroup.vue?vue&type=style&index=1&lang=css&\""],"sourceRoot":""}